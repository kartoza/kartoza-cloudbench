var R2=t=>{throw TypeError(t)};var $x=(t,e,n)=>e.has(t)||R2("Cannot "+n);var M=(t,e,n)=>($x(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?R2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>($x(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ne=(t,e,n)=>($x(t,e,"access private method"),n);var zp=(t,e,n,r)=>({set _(i){fe(t,e,i,n)},get _(){return M(t,e,r)}});function EB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CR={exports:{}},ey={},OR={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=Symbol.for("react.element"),MB=Symbol.for("react.portal"),RB=Symbol.for("react.fragment"),zB=Symbol.for("react.strict_mode"),DB=Symbol.for("react.profiler"),$B=Symbol.for("react.provider"),LB=Symbol.for("react.context"),IB=Symbol.for("react.forward_ref"),_B=Symbol.for("react.suspense"),NB=Symbol.for("react.memo"),BB=Symbol.for("react.lazy"),z2=Symbol.iterator;function FB(t){return t===null||typeof t!="object"?null:(t=z2&&t[z2]||t["@@iterator"],typeof t=="function"?t:null)}var jR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PR=Object.assign,TR={};function sd(t,e,n){this.props=t,this.context=e,this.refs=TR,this.updater=n||jR}sd.prototype.isReactComponent={};sd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AR(){}AR.prototype=sd.prototype;function Hw(t,e,n){this.props=t,this.context=e,this.refs=TR,this.updater=n||jR}var qw=Hw.prototype=new AR;qw.constructor=Hw;PR(qw,sd.prototype);qw.isPureReactComponent=!0;var D2=Array.isArray,ER=Object.prototype.hasOwnProperty,Uw={current:null},MR={key:!0,ref:!0,__self:!0,__source:!0};function RR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ER.call(e,r)&&!MR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hf,type:t,key:s,ref:o,props:i,_owner:Uw.current}}function WB(t,e){return{$$typeof:Hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hf}function VB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $2=/\/+/g;function Lx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VB(""+t.key):e.toString(36)}function Qm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hf:case MB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lx(o,0):r,D2(i)?(n="",t!=null&&(n=t.replace($2,"$&/")+"/"),Qm(i,e,n,"",function(u){return u})):i!=null&&(Gw(i)&&(i=WB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",D2(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Lx(s,a);o+=Qm(s,e,n,l,i)}else if(l=FB(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Lx(s,a++),o+=Qm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $p(t,e,n){if(t==null)return t;var r=[],i=0;return Qm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},Hm={transition:null},HB={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:Hm,ReactCurrentOwner:Uw};function zR(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:$p,forEach:function(t,e,n){$p(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $p(t,function(){e++}),e},toArray:function(t){return $p(t,function(e){return e})||[]},only:function(t){if(!Gw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=sd;Qe.Fragment=RB;Qe.Profiler=DB;Qe.PureComponent=Hw;Qe.StrictMode=zB;Qe.Suspense=_B;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HB;Qe.act=zR;Qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ER.call(e,l)&&!MR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hf,type:t.type,key:i,ref:s,props:r,_owner:o}};Qe.createContext=function(t){return t={$$typeof:LB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$B,_context:t},t.Consumer=t};Qe.createElement=RR;Qe.createFactory=function(t){var e=RR.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:IB,render:t}};Qe.isValidElement=Gw;Qe.lazy=function(t){return{$$typeof:BB,_payload:{_status:-1,_result:t},_init:QB}};Qe.memo=function(t,e){return{$$typeof:NB,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Hm.transition;Hm.transition={};try{t()}finally{Hm.transition=e}};Qe.unstable_act=zR;Qe.useCallback=function(t,e){return sr.current.useCallback(t,e)};Qe.useContext=function(t){return sr.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return sr.current.useEffect(t,e)};Qe.useId=function(){return sr.current.useId()};Qe.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return sr.current.useMemo(t,e)};Qe.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Qe.useRef=function(t){return sr.current.useRef(t)};Qe.useState=function(t){return sr.current.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return sr.current.useTransition()};Qe.version="18.3.1";OR.exports=Qe;var S=OR.exports;const Xt=J0(S),L2=EB({__proto__:null,default:Xt},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qB=S,UB=Symbol.for("react.element"),GB=Symbol.for("react.fragment"),XB=Object.prototype.hasOwnProperty,KB=qB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YB={key:!0,ref:!0,__self:!0,__source:!0};function DR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XB.call(e,r)&&!YB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UB,type:t,key:s,ref:o,props:i,_owner:KB.current}}ey.Fragment=GB;ey.jsx=DR;ey.jsxs=DR;CR.exports=ey;var c=CR.exports,Vb={},$R={exports:{}},Yr={},LR={exports:{}},IR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,Q){var I=L.length;L.push(Q);e:for(;0<I;){var Y=I-1>>>1,ie=L[Y];if(0<i(ie,Q))L[Y]=Q,L[I]=ie,I=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Q=L[0],I=L.pop();if(I!==Q){L[0]=I;e:for(var Y=0,ie=L.length,Z=ie>>>1;Y<Z;){var se=2*(Y+1)-1,V=L[se],J=se+1,U=L[J];if(0>i(V,I))J<ie&&0>i(U,V)?(L[Y]=U,L[J]=I,Y=J):(L[Y]=V,L[se]=I,Y=se);else if(J<ie&&0>i(U,I))L[Y]=U,L[J]=I,Y=J;else break e}}return Q}function i(L,Q){var I=L.sortIndex-Q.sortIndex;return I!==0?I:L.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=L)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function w(L){if(g=!1,b(L),!m)if(n(l)!==null)m=!0,ee(k);else{var Q=n(u);Q!==null&&W(w,Q.startTime-L)}}function k(L,Q){m=!1,g&&(g=!1,v(j),j=-1),p=!0;var I=f;try{for(b(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||L&&!E());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ie=Y(h.expirationTime<=Q);Q=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),b(Q)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var se=n(u);se!==null&&W(w,se.startTime-Q),Z=!1}return Z}finally{h=null,f=I,p=!1}}var O=!1,C=null,j=-1,P=5,A=-1;function E(){return!(t.unstable_now()-A<P)}function F(){if(C!==null){var L=t.unstable_now();A=L;var Q=!0;try{Q=C(!0,L)}finally{Q?H():(O=!1,C=null)}}else O=!1}var H;if(typeof y=="function")H=function(){y(F)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,B=_.port2;_.port1.onmessage=F,H=function(){B.postMessage(null)}}else H=function(){x(F,0)};function ee(L){C=L,O||(O=!0,H())}function W(L,Q){j=x(function(){L(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ee(k))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var I=f;f=Q;try{return L()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=f;f=L;try{return Q()}finally{f=I}},t.unstable_scheduleCallback=function(L,Q,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=I+ie,L={id:d++,callback:Q,priorityLevel:L,startTime:I,expirationTime:ie,sortIndex:-1},I>Y?(L.sortIndex=I,e(u,L),n(l)===null&&L===n(u)&&(g?(v(j),j=-1):g=!0,W(w,I-Y))):(L.sortIndex=ie,e(l,L),m||p||(m=!0,ee(k))),L},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(L){var Q=f;return function(){var I=f;f=Q;try{return L.apply(this,arguments)}finally{f=I}}}})(IR);LR.exports=IR;var ZB=LR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB=S,Ur=ZB;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _R=new Set,_h={};function Kl(t,e){Au(t,e),Au(t+"Capture",e)}function Au(t,e){for(_h[t]=e,t=0;t<e.length;t++)_R.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qb=Object.prototype.hasOwnProperty,eF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I2={},_2={};function tF(t){return Qb.call(_2,t)?!0:Qb.call(I2,t)?!1:eF.test(t)?_2[t]=!0:(I2[t]=!0,!1)}function nF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rF(t,e,n,r){if(e===null||typeof e>"u"||nF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mn[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mn[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mn[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mn[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mn[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mn[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mn[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mn[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mn[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xw=/[\-:]([a-z])/g;function Kw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xw,Kw);Mn[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xw,Kw);Mn[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xw,Kw);Mn[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mn[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mn[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yw(t,e,n,r){var i=Mn.hasOwnProperty(e)?Mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rF(e,n,i,r)&&(n=null),r||i===null?tF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mo=JB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lp=Symbol.for("react.element"),gc=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),Hb=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),BR=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Ub=Symbol.for("react.suspense_list"),ek=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),FR=Symbol.for("react.offscreen"),N2=Symbol.iterator;function bd(t){return t===null||typeof t!="object"?null:(t=N2&&t[N2]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Ix;function Wd(t){if(Ix===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ix=e&&e[1]||""}return`
`+Ix+t}var _x=!1;function Nx(t,e){if(!t||_x)return"";_x=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_x=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wd(t):""}function iF(t){switch(t.tag){case 5:return Wd(t.type);case 16:return Wd("Lazy");case 13:return Wd("Suspense");case 19:return Wd("SuspenseList");case 0:case 2:case 15:return t=Nx(t.type,!1),t;case 11:return t=Nx(t.type.render,!1),t;case 1:return t=Nx(t.type,!0),t;default:return""}}function Gb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yc:return"Fragment";case gc:return"Portal";case Hb:return"Profiler";case Zw:return"StrictMode";case qb:return"Suspense";case Ub:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BR:return(t.displayName||"Context")+".Consumer";case NR:return(t._context.displayName||"Context")+".Provider";case Jw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ek:return e=t.displayName||null,e!==null?e:Gb(t.type)||"Memo";case Vo:e=t._payload,t=t._init;try{return Gb(t(e))}catch{}}return null}function sF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gb(e);case 8:return e===Zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ca(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oF(t){var e=WR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ip(t){t._valueTracker||(t._valueTracker=oF(t))}function VR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _g(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xb(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function B2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ca(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QR(t,e){e=e.checked,e!=null&&Yw(t,"checked",e,!1)}function Kb(t,e){QR(t,e);var n=Ca(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yb(t,e.type,Ca(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yb(t,e,n){(e!=="number"||_g(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vd=Array.isArray;function Vc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ca(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Vd(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ca(n)}}function HR(t,e){var n=Ca(e.value),r=Ca(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function V2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _p,UR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_p.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aF=["Webkit","ms","Moz","O"];Object.keys(lh).forEach(function(t){aF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lh[e]=lh[t]})});function GR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lh.hasOwnProperty(t)&&lh[t]?(""+e).trim():e+"px"}function XR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lF=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e1(t,e){if(e){if(lF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function t1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n1=null;function tk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var r1=null,Qc=null,Hc=null;function Q2(t){if(t=Gf(t)){if(typeof r1!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=sy(e),r1(t.stateNode,t.type,e))}}function KR(t){Qc?Hc?Hc.push(t):Hc=[t]:Qc=t}function YR(){if(Qc){var t=Qc,e=Hc;if(Hc=Qc=null,Q2(t),e)for(t=0;t<e.length;t++)Q2(e[t])}}function ZR(t,e){return t(e)}function JR(){}var Bx=!1;function ez(t,e,n){if(Bx)return t(e,n);Bx=!0;try{return ZR(t,e,n)}finally{Bx=!1,(Qc!==null||Hc!==null)&&(JR(),YR())}}function Bh(t,e){var n=t.stateNode;if(n===null)return null;var r=sy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var i1=!1;if(So)try{var Sd={};Object.defineProperty(Sd,"passive",{get:function(){i1=!0}}),window.addEventListener("test",Sd,Sd),window.removeEventListener("test",Sd,Sd)}catch{i1=!1}function cF(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ch=!1,Ng=null,Bg=!1,s1=null,uF={onError:function(t){ch=!0,Ng=t}};function dF(t,e,n,r,i,s,o,a,l){ch=!1,Ng=null,cF.apply(uF,arguments)}function hF(t,e,n,r,i,s,o,a,l){if(dF.apply(this,arguments),ch){if(ch){var u=Ng;ch=!1,Ng=null}else throw Error(ne(198));Bg||(Bg=!0,s1=u)}}function Yl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H2(t){if(Yl(t)!==t)throw Error(ne(188))}function fF(t){var e=t.alternate;if(!e){if(e=Yl(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return H2(i),t;if(s===r)return H2(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function nz(t){return t=fF(t),t!==null?rz(t):null}function rz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rz(t);if(e!==null)return e;t=t.sibling}return null}var iz=Ur.unstable_scheduleCallback,q2=Ur.unstable_cancelCallback,pF=Ur.unstable_shouldYield,mF=Ur.unstable_requestPaint,Kt=Ur.unstable_now,gF=Ur.unstable_getCurrentPriorityLevel,nk=Ur.unstable_ImmediatePriority,sz=Ur.unstable_UserBlockingPriority,Fg=Ur.unstable_NormalPriority,yF=Ur.unstable_LowPriority,oz=Ur.unstable_IdlePriority,ty=null,Ts=null;function xF(t){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(ty,t,void 0,(t.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:SF,vF=Math.log,bF=Math.LN2;function SF(t){return t>>>=0,t===0?32:31-(vF(t)/bF|0)|0}var Np=64,Bp=4194304;function Qd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qd(a):(s&=o,s!==0&&(r=Qd(s)))}else o=n&~i,o!==0?r=Qd(o):s!==0&&(r=Qd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ki(e),i=1<<n,r|=t[n],e&=~i;return r}function wF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ki(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=wF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function o1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function az(){var t=Np;return Np<<=1,!(Np&4194240)&&(Np=64),t}function Fx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ki(e),t[e]=n}function CF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ki(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ki(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ft=0;function lz(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cz,ik,uz,dz,hz,a1=!1,Fp=[],ha=null,fa=null,pa=null,Fh=new Map,Wh=new Map,Xo=[],OF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U2(t,e){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(e.pointerId)}}function wd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gf(e),e!==null&&ik(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jF(t,e,n,r,i){switch(e){case"focusin":return ha=wd(ha,t,e,n,r,i),!0;case"dragenter":return fa=wd(fa,t,e,n,r,i),!0;case"mouseover":return pa=wd(pa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fh.set(s,wd(Fh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wh.set(s,wd(Wh.get(s)||null,t,e,n,r,i)),!0}return!1}function fz(t){var e=tl(t.target);if(e!==null){var n=Yl(e);if(n!==null){if(e=n.tag,e===13){if(e=tz(n),e!==null){t.blockedOn=e,hz(t.priority,function(){uz(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=l1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);n1=r,n.target.dispatchEvent(r),n1=null}else return e=Gf(n),e!==null&&ik(e),t.blockedOn=n,!1;e.shift()}return!0}function G2(t,e,n){qm(t)&&n.delete(e)}function PF(){a1=!1,ha!==null&&qm(ha)&&(ha=null),fa!==null&&qm(fa)&&(fa=null),pa!==null&&qm(pa)&&(pa=null),Fh.forEach(G2),Wh.forEach(G2)}function kd(t,e){t.blockedOn===e&&(t.blockedOn=null,a1||(a1=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,PF)))}function Vh(t){function e(i){return kd(i,t)}if(0<Fp.length){kd(Fp[0],t);for(var n=1;n<Fp.length;n++){var r=Fp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ha!==null&&kd(ha,t),fa!==null&&kd(fa,t),pa!==null&&kd(pa,t),Fh.forEach(e),Wh.forEach(e),n=0;n<Xo.length;n++)r=Xo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xo.length&&(n=Xo[0],n.blockedOn===null);)fz(n),n.blockedOn===null&&Xo.shift()}var qc=Mo.ReactCurrentBatchConfig,Vg=!0;function TF(t,e,n,r){var i=ft,s=qc.transition;qc.transition=null;try{ft=1,sk(t,e,n,r)}finally{ft=i,qc.transition=s}}function AF(t,e,n,r){var i=ft,s=qc.transition;qc.transition=null;try{ft=4,sk(t,e,n,r)}finally{ft=i,qc.transition=s}}function sk(t,e,n,r){if(Vg){var i=l1(t,e,n,r);if(i===null)Yx(t,e,r,Qg,n),U2(t,r);else if(jF(i,t,e,n,r))r.stopPropagation();else if(U2(t,r),e&4&&-1<OF.indexOf(t)){for(;i!==null;){var s=Gf(i);if(s!==null&&cz(s),s=l1(t,e,n,r),s===null&&Yx(t,e,r,Qg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yx(t,e,r,null,n)}}var Qg=null;function l1(t,e,n,r){if(Qg=null,t=tk(r),t=tl(t),t!==null)if(e=Yl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tz(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qg=t,null}function pz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gF()){case nk:return 1;case sz:return 4;case Fg:case yF:return 16;case oz:return 536870912;default:return 16}default:return 16}}var ca=null,ok=null,Um=null;function mz(){if(Um)return Um;var t,e=ok,n=e.length,r,i="value"in ca?ca.value:ca.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Um=i.slice(t,1<r?1-r:void 0)}function Gm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wp(){return!0}function X2(){return!1}function Zr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wp:X2,this.isPropagationStopped=X2,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wp)},persist:function(){},isPersistent:Wp}),e}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ak=Zr(od),Uf=Ft({},od,{view:0,detail:0}),EF=Zr(Uf),Wx,Vx,Cd,ny=Ft({},Uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cd&&(Cd&&t.type==="mousemove"?(Wx=t.screenX-Cd.screenX,Vx=t.screenY-Cd.screenY):Vx=Wx=0,Cd=t),Wx)},movementY:function(t){return"movementY"in t?t.movementY:Vx}}),K2=Zr(ny),MF=Ft({},ny,{dataTransfer:0}),RF=Zr(MF),zF=Ft({},Uf,{relatedTarget:0}),Qx=Zr(zF),DF=Ft({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),$F=Zr(DF),LF=Ft({},od,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IF=Zr(LF),_F=Ft({},od,{data:0}),Y2=Zr(_F),NF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FF[t])?!!e[t]:!1}function lk(){return WF}var VF=Ft({},Uf,{key:function(t){if(t.key){var e=NF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lk,charCode:function(t){return t.type==="keypress"?Gm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QF=Zr(VF),HF=Ft({},ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z2=Zr(HF),qF=Ft({},Uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lk}),UF=Zr(qF),GF=Ft({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),XF=Zr(GF),KF=Ft({},ny,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YF=Zr(KF),ZF=[9,13,27,32],ck=So&&"CompositionEvent"in window,uh=null;So&&"documentMode"in document&&(uh=document.documentMode);var JF=So&&"TextEvent"in window&&!uh,gz=So&&(!ck||uh&&8<uh&&11>=uh),J2=" ",ej=!1;function yz(t,e){switch(t){case"keyup":return ZF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xc=!1;function e6(t,e){switch(t){case"compositionend":return xz(e);case"keypress":return e.which!==32?null:(ej=!0,J2);case"textInput":return t=e.data,t===J2&&ej?null:t;default:return null}}function t6(t,e){if(xc)return t==="compositionend"||!ck&&yz(t,e)?(t=mz(),Um=ok=ca=null,xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gz&&e.locale!=="ko"?null:e.data;default:return null}}var n6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n6[t.type]:e==="textarea"}function vz(t,e,n,r){KR(r),e=Hg(e,"onChange"),0<e.length&&(n=new ak("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dh=null,Qh=null;function r6(t){Ez(t,0)}function ry(t){var e=Sc(t);if(VR(e))return t}function i6(t,e){if(t==="change")return e}var bz=!1;if(So){var Hx;if(So){var qx="oninput"in document;if(!qx){var nj=document.createElement("div");nj.setAttribute("oninput","return;"),qx=typeof nj.oninput=="function"}Hx=qx}else Hx=!1;bz=Hx&&(!document.documentMode||9<document.documentMode)}function rj(){dh&&(dh.detachEvent("onpropertychange",Sz),Qh=dh=null)}function Sz(t){if(t.propertyName==="value"&&ry(Qh)){var e=[];vz(e,Qh,t,tk(t)),ez(r6,e)}}function s6(t,e,n){t==="focusin"?(rj(),dh=e,Qh=n,dh.attachEvent("onpropertychange",Sz)):t==="focusout"&&rj()}function o6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ry(Qh)}function a6(t,e){if(t==="click")return ry(e)}function l6(t,e){if(t==="input"||t==="change")return ry(e)}function c6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var es=typeof Object.is=="function"?Object.is:c6;function Hh(t,e){if(es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qb.call(e,i)||!es(t[i],e[i]))return!1}return!0}function ij(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sj(t,e){var n=ij(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ij(n)}}function wz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kz(){for(var t=window,e=_g();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_g(t.document)}return e}function uk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u6(t){var e=kz(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wz(n.ownerDocument.documentElement,n)){if(r!==null&&uk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sj(n,s);var o=sj(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d6=So&&"documentMode"in document&&11>=document.documentMode,vc=null,c1=null,hh=null,u1=!1;function oj(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;u1||vc==null||vc!==_g(r)||(r=vc,"selectionStart"in r&&uk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hh&&Hh(hh,r)||(hh=r,r=Hg(c1,"onSelect"),0<r.length&&(e=new ak("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vc)))}function Vp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bc={animationend:Vp("Animation","AnimationEnd"),animationiteration:Vp("Animation","AnimationIteration"),animationstart:Vp("Animation","AnimationStart"),transitionend:Vp("Transition","TransitionEnd")},Ux={},Cz={};So&&(Cz=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function iy(t){if(Ux[t])return Ux[t];if(!bc[t])return t;var e=bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cz)return Ux[t]=e[n];return t}var Oz=iy("animationend"),jz=iy("animationiteration"),Pz=iy("animationstart"),Tz=iy("transitionend"),Az=new Map,aj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(t,e){Az.set(t,e),Kl(e,[t])}for(var Gx=0;Gx<aj.length;Gx++){var Xx=aj[Gx],h6=Xx.toLowerCase(),f6=Xx[0].toUpperCase()+Xx.slice(1);La(h6,"on"+f6)}La(Oz,"onAnimationEnd");La(jz,"onAnimationIteration");La(Pz,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(Tz,"onTransitionEnd");Au("onMouseEnter",["mouseout","mouseover"]);Au("onMouseLeave",["mouseout","mouseover"]);Au("onPointerEnter",["pointerout","pointerover"]);Au("onPointerLeave",["pointerout","pointerover"]);Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hd));function lj(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hF(r,e,void 0,t),t.currentTarget=null}function Ez(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lj(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lj(i,a,u),s=l}}}if(Bg)throw t=s1,Bg=!1,s1=null,t}function Pt(t,e){var n=e[m1];n===void 0&&(n=e[m1]=new Set);var r=t+"__bubble";n.has(r)||(Mz(e,t,2,!1),n.add(r))}function Kx(t,e,n){var r=0;e&&(r|=4),Mz(n,t,r,e)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function qh(t){if(!t[Qp]){t[Qp]=!0,_R.forEach(function(n){n!=="selectionchange"&&(p6.has(n)||Kx(n,!1,t),Kx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qp]||(e[Qp]=!0,Kx("selectionchange",!1,e))}}function Mz(t,e,n,r){switch(pz(e)){case 1:var i=TF;break;case 4:i=AF;break;default:i=sk}n=i.bind(null,e,n,t),i=void 0,!i1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yx(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=tl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ez(function(){var u=s,d=tk(n),h=[];e:{var f=Az.get(t);if(f!==void 0){var p=ak,m=t;switch(t){case"keypress":if(Gm(n)===0)break e;case"keydown":case"keyup":p=QF;break;case"focusin":m="focus",p=Qx;break;case"focusout":m="blur",p=Qx;break;case"beforeblur":case"afterblur":p=Qx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=K2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UF;break;case Oz:case jz:case Pz:p=$F;break;case Tz:p=XF;break;case"scroll":p=EF;break;case"wheel":p=YF;break;case"copy":case"cut":case"paste":p=IF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Z2}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=Bh(y,v),w!=null&&g.push(Uh(y,w,b)))),x)break;y=y.return}0<g.length&&(f=new p(f,m,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==n1&&(m=n.relatedTarget||n.fromElement)&&(tl(m)||m[wo]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?tl(m):null,m!==null&&(x=Yl(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=K2,w="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Z2,w="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?f:Sc(p),b=m==null?f:Sc(m),f=new g(w,y+"leave",p,n,d),f.target=x,f.relatedTarget=b,w=null,tl(d)===u&&(g=new g(v,y+"enter",m,n,d),g.target=b,g.relatedTarget=x,w=g),x=w,p&&m)t:{for(g=p,v=m,y=0,b=g;b;b=ac(b))y++;for(b=0,w=v;w;w=ac(w))b++;for(;0<y-b;)g=ac(g),y--;for(;0<b-y;)v=ac(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=ac(g),v=ac(v)}g=null}else g=null;p!==null&&cj(h,f,p,g,!1),m!==null&&x!==null&&cj(h,x,m,g,!0)}}e:{if(f=u?Sc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=i6;else if(tj(f))if(bz)k=l6;else{k=o6;var O=s6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=a6);if(k&&(k=k(t,u))){vz(h,k,n,d);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Yb(f,"number",f.value)}switch(O=u?Sc(u):window,t){case"focusin":(tj(O)||O.contentEditable==="true")&&(vc=O,c1=u,hh=null);break;case"focusout":hh=c1=vc=null;break;case"mousedown":u1=!0;break;case"contextmenu":case"mouseup":case"dragend":u1=!1,oj(h,n,d);break;case"selectionchange":if(d6)break;case"keydown":case"keyup":oj(h,n,d)}var C;if(ck)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else xc?yz(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(gz&&n.locale!=="ko"&&(xc||j!=="onCompositionStart"?j==="onCompositionEnd"&&xc&&(C=mz()):(ca=d,ok="value"in ca?ca.value:ca.textContent,xc=!0)),O=Hg(u,j),0<O.length&&(j=new Y2(j,t,null,n,d),h.push({event:j,listeners:O}),C?j.data=C:(C=xz(n),C!==null&&(j.data=C)))),(C=JF?e6(t,n):t6(t,n))&&(u=Hg(u,"onBeforeInput"),0<u.length&&(d=new Y2("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Ez(h,e)})}function Uh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bh(t,n),s!=null&&r.unshift(Uh(t,s,i)),s=Bh(t,e),s!=null&&r.push(Uh(t,s,i))),t=t.return}return r}function ac(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cj(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bh(n,s),l!=null&&o.unshift(Uh(n,l,a))):i||(l=Bh(n,s),l!=null&&o.push(Uh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var m6=/\r\n?/g,g6=/\u0000|\uFFFD/g;function uj(t){return(typeof t=="string"?t:""+t).replace(m6,`
`).replace(g6,"")}function Hp(t,e,n){if(e=uj(e),uj(t)!==e&&n)throw Error(ne(425))}function qg(){}var d1=null,h1=null;function f1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p1=typeof setTimeout=="function"?setTimeout:void 0,y6=typeof clearTimeout=="function"?clearTimeout:void 0,dj=typeof Promise=="function"?Promise:void 0,x6=typeof queueMicrotask=="function"?queueMicrotask:typeof dj<"u"?function(t){return dj.resolve(null).then(t).catch(v6)}:p1;function v6(t){setTimeout(function(){throw t})}function Zx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vh(e)}function ma(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ad=Math.random().toString(36).slice(2),vs="__reactFiber$"+ad,Gh="__reactProps$"+ad,wo="__reactContainer$"+ad,m1="__reactEvents$"+ad,b6="__reactListeners$"+ad,S6="__reactHandles$"+ad;function tl(t){var e=t[vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wo]||n[vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hj(t);t!==null;){if(n=t[vs])return n;t=hj(t)}return e}t=n,n=t.parentNode}return null}function Gf(t){return t=t[vs]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function sy(t){return t[Gh]||null}var g1=[],wc=-1;function Ia(t){return{current:t}}function At(t){0>wc||(t.current=g1[wc],g1[wc]=null,wc--)}function Ct(t,e){wc++,g1[wc]=t.current,t.current=e}var Oa={},Vn=Ia(Oa),br=Ia(!1),Ml=Oa;function Eu(t,e){var n=t.type.contextTypes;if(!n)return Oa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function Ug(){At(br),At(Vn)}function fj(t,e,n){if(Vn.current!==Oa)throw Error(ne(168));Ct(Vn,e),Ct(br,n)}function Rz(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,sF(t)||"Unknown",i));return Ft({},n,r)}function Gg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oa,Ml=Vn.current,Ct(Vn,t),Ct(br,br.current),!0}function pj(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=Rz(t,e,Ml),r.__reactInternalMemoizedMergedChildContext=t,At(br),At(Vn),Ct(Vn,t)):At(br),Ct(br,n)}var Xs=null,oy=!1,Jx=!1;function zz(t){Xs===null?Xs=[t]:Xs.push(t)}function w6(t){oy=!0,zz(t)}function _a(){if(!Jx&&Xs!==null){Jx=!0;var t=0,e=ft;try{var n=Xs;for(ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xs=null,oy=!1}catch(i){throw Xs!==null&&(Xs=Xs.slice(t+1)),iz(nk,_a),i}finally{ft=e,Jx=!1}}return null}var kc=[],Cc=0,Xg=null,Kg=0,ai=[],li=0,Rl=null,lo=1,co="";function qa(t,e){kc[Cc++]=Kg,kc[Cc++]=Xg,Xg=t,Kg=e}function Dz(t,e,n){ai[li++]=lo,ai[li++]=co,ai[li++]=Rl,Rl=t;var r=lo;t=co;var i=32-Ki(r)-1;r&=~(1<<i),n+=1;var s=32-Ki(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lo=1<<32-Ki(e)+i|n<<i|r,co=s+t}else lo=1<<s|n<<i|r,co=t}function dk(t){t.return!==null&&(qa(t,1),Dz(t,1,0))}function hk(t){for(;t===Xg;)Xg=kc[--Cc],kc[Cc]=null,Kg=kc[--Cc],kc[Cc]=null;for(;t===Rl;)Rl=ai[--li],ai[li]=null,co=ai[--li],ai[li]=null,lo=ai[--li],ai[li]=null}var Wr=null,_r=null,zt=!1,Hi=null;function $z(t,e){var n=ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mj(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,_r=ma(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rl!==null?{id:lo,overflow:co}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,_r=null,!0):!1;default:return!1}}function y1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x1(t){if(zt){var e=_r;if(e){var n=e;if(!mj(t,e)){if(y1(t))throw Error(ne(418));e=ma(n.nextSibling);var r=Wr;e&&mj(t,e)?$z(r,n):(t.flags=t.flags&-4097|2,zt=!1,Wr=t)}}else{if(y1(t))throw Error(ne(418));t.flags=t.flags&-4097|2,zt=!1,Wr=t}}}function gj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function qp(t){if(t!==Wr)return!1;if(!zt)return gj(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!f1(t.type,t.memoizedProps)),e&&(e=_r)){if(y1(t))throw Lz(),Error(ne(418));for(;e;)$z(t,e),e=ma(e.nextSibling)}if(gj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=ma(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=Wr?ma(t.stateNode.nextSibling):null;return!0}function Lz(){for(var t=_r;t;)t=ma(t.nextSibling)}function Mu(){_r=Wr=null,zt=!1}function fk(t){Hi===null?Hi=[t]:Hi.push(t)}var k6=Mo.ReactCurrentBatchConfig;function Od(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Up(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yj(t){var e=t._init;return e(t._payload)}function Iz(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=va(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,w){return y===null||y.tag!==6?(y=ov(b,v.mode,w),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,w){var k=b.type;return k===yc?d(v,y,b.props.children,w,b.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vo&&yj(k)===y.type)?(w=i(y,b.props),w.ref=Od(v,y,b),w.return=v,w):(w=tg(b.type,b.key,b.props,null,v.mode,w),w.ref=Od(v,y,b),w.return=v,w)}function u(v,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=av(b,v.mode,w),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function d(v,y,b,w,k){return y===null||y.tag!==7?(y=bl(b,v.mode,w,k),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ov(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lp:return b=tg(y.type,y.key,y.props,null,v.mode,b),b.ref=Od(v,null,y),b.return=v,b;case gc:return y=av(y,v.mode,b),y.return=v,y;case Vo:var w=y._init;return h(v,w(y._payload),b)}if(Vd(y)||bd(y))return y=bl(y,v.mode,b,null),y.return=v,y;Up(v,y)}return null}function f(v,y,b,w){var k=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(v,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lp:return b.key===k?l(v,y,b,w):null;case gc:return b.key===k?u(v,y,b,w):null;case Vo:return k=b._init,f(v,y,k(b._payload),w)}if(Vd(b)||bd(b))return k!==null?null:d(v,y,b,w,null);Up(v,b)}return null}function p(v,y,b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(y,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lp:return v=v.get(w.key===null?b:w.key)||null,l(y,v,w,k);case gc:return v=v.get(w.key===null?b:w.key)||null,u(y,v,w,k);case Vo:var O=w._init;return p(v,y,b,O(w._payload),k)}if(Vd(w)||bd(w))return v=v.get(b)||null,d(y,v,w,k,null);Up(y,w)}return null}function m(v,y,b,w){for(var k=null,O=null,C=y,j=y=0,P=null;C!==null&&j<b.length;j++){C.index>j?(P=C,C=null):P=C.sibling;var A=f(v,C,b[j],w);if(A===null){C===null&&(C=P);break}t&&C&&A.alternate===null&&e(v,C),y=s(A,y,j),O===null?k=A:O.sibling=A,O=A,C=P}if(j===b.length)return n(v,C),zt&&qa(v,j),k;if(C===null){for(;j<b.length;j++)C=h(v,b[j],w),C!==null&&(y=s(C,y,j),O===null?k=C:O.sibling=C,O=C);return zt&&qa(v,j),k}for(C=r(v,C);j<b.length;j++)P=p(C,v,j,b[j],w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?j:P.key),y=s(P,y,j),O===null?k=P:O.sibling=P,O=P);return t&&C.forEach(function(E){return e(v,E)}),zt&&qa(v,j),k}function g(v,y,b,w){var k=bd(b);if(typeof k!="function")throw Error(ne(150));if(b=k.call(b),b==null)throw Error(ne(151));for(var O=k=null,C=y,j=y=0,P=null,A=b.next();C!==null&&!A.done;j++,A=b.next()){C.index>j?(P=C,C=null):P=C.sibling;var E=f(v,C,A.value,w);if(E===null){C===null&&(C=P);break}t&&C&&E.alternate===null&&e(v,C),y=s(E,y,j),O===null?k=E:O.sibling=E,O=E,C=P}if(A.done)return n(v,C),zt&&qa(v,j),k;if(C===null){for(;!A.done;j++,A=b.next())A=h(v,A.value,w),A!==null&&(y=s(A,y,j),O===null?k=A:O.sibling=A,O=A);return zt&&qa(v,j),k}for(C=r(v,C);!A.done;j++,A=b.next())A=p(C,v,j,A.value,w),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?j:A.key),y=s(A,y,j),O===null?k=A:O.sibling=A,O=A);return t&&C.forEach(function(F){return e(v,F)}),zt&&qa(v,j),k}function x(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===yc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lp:e:{for(var k=b.key,O=y;O!==null;){if(O.key===k){if(k=b.type,k===yc){if(O.tag===7){n(v,O.sibling),y=i(O,b.props.children),y.return=v,v=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vo&&yj(k)===O.type){n(v,O.sibling),y=i(O,b.props),y.ref=Od(v,O,b),y.return=v,v=y;break e}n(v,O);break}else e(v,O);O=O.sibling}b.type===yc?(y=bl(b.props.children,v.mode,w,b.key),y.return=v,v=y):(w=tg(b.type,b.key,b.props,null,v.mode,w),w.ref=Od(v,y,b),w.return=v,v=w)}return o(v);case gc:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=av(b,v.mode,w),y.return=v,v=y}return o(v);case Vo:return O=b._init,x(v,y,O(b._payload),w)}if(Vd(b))return m(v,y,b,w);if(bd(b))return g(v,y,b,w);Up(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=ov(b,v.mode,w),y.return=v,v=y),o(v)):n(v,y)}return x}var Ru=Iz(!0),_z=Iz(!1),Yg=Ia(null),Zg=null,Oc=null,pk=null;function mk(){pk=Oc=Zg=null}function gk(t){var e=Yg.current;At(Yg),t._currentValue=e}function v1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Uc(t,e){Zg=t,pk=Oc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function yi(t){var e=t._currentValue;if(pk!==t)if(t={context:t,memoizedValue:e,next:null},Oc===null){if(Zg===null)throw Error(ne(308));Oc=t,Zg.dependencies={lanes:0,firstContext:t}}else Oc=Oc.next=t;return e}var nl=null;function yk(t){nl===null?nl=[t]:nl.push(t)}function Nz(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yk(e)):(n.next=i.next,i.next=n),e.interleaved=n,ko(t,r)}function ko(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qo=!1;function xk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ko(t,n)}return i=r.interleaved,i===null?(e.next=e,yk(r)):(e.next=i.next,i.next=e),r.interleaved=e,ko(t,n)}function Xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rk(t,n)}}function xj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jg(t,e,n,r){var i=t.updateQueue;Qo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Ft({},h,f);break e;case 2:Qo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Dl|=o,t.lanes=o,t.memoizedState=h}}function vj(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Xf={},As=Ia(Xf),Xh=Ia(Xf),Kh=Ia(Xf);function rl(t){if(t===Xf)throw Error(ne(174));return t}function vk(t,e){switch(Ct(Kh,e),Ct(Xh,t),Ct(As,Xf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jb(e,t)}At(As),Ct(As,e)}function zu(){At(As),At(Xh),At(Kh)}function Fz(t){rl(Kh.current);var e=rl(As.current),n=Jb(e,t.type);e!==n&&(Ct(Xh,t),Ct(As,n))}function bk(t){Xh.current===t&&(At(As),At(Xh))}var $t=Ia(0);function e0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ev=[];function Sk(){for(var t=0;t<ev.length;t++)ev[t]._workInProgressVersionPrimary=null;ev.length=0}var Km=Mo.ReactCurrentDispatcher,tv=Mo.ReactCurrentBatchConfig,zl=0,Nt=null,ln=null,xn=null,t0=!1,fh=!1,Yh=0,C6=0;function Ln(){throw Error(ne(321))}function wk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!es(t[n],e[n]))return!1;return!0}function kk(t,e,n,r,i,s){if(zl=s,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Km.current=t===null||t.memoizedState===null?T6:A6,t=n(r,i),fh){s=0;do{if(fh=!1,Yh=0,25<=s)throw Error(ne(301));s+=1,xn=ln=null,e.updateQueue=null,Km.current=E6,t=n(r,i)}while(fh)}if(Km.current=n0,e=ln!==null&&ln.next!==null,zl=0,xn=ln=Nt=null,t0=!1,e)throw Error(ne(300));return t}function Ck(){var t=Yh!==0;return Yh=0,t}function ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Nt.memoizedState=xn=t:xn=xn.next=t,xn}function xi(){if(ln===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=xn===null?Nt.memoizedState:xn.next;if(e!==null)xn=e,ln=t;else{if(t===null)throw Error(ne(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},xn===null?Nt.memoizedState=xn=t:xn=xn.next=t}return xn}function Zh(t,e){return typeof e=="function"?e(t):e}function nv(t){var e=xi(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((zl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Nt.lanes|=d,Dl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,es(r,e.memoizedState)||(yr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Nt.lanes|=s,Dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rv(t){var e=xi(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);es(s,e.memoizedState)||(yr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Wz(){}function Vz(t,e){var n=Nt,r=xi(),i=e(),s=!es(r.memoizedState,i);if(s&&(r.memoizedState=i,yr=!0),r=r.queue,Ok(qz.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,Jh(9,Hz.bind(null,n,r,i,e),void 0,null),Sn===null)throw Error(ne(349));zl&30||Qz(n,e,i)}return i}function Qz(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hz(t,e,n,r){e.value=n,e.getSnapshot=r,Uz(e)&&Gz(t)}function qz(t,e,n){return n(function(){Uz(e)&&Gz(t)})}function Uz(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!es(t,n)}catch{return!0}}function Gz(t){var e=ko(t,1);e!==null&&Yi(e,t,1,-1)}function bj(t){var e=ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:t},e.queue=t,t=t.dispatch=P6.bind(null,Nt,t),[e.memoizedState,t]}function Jh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xz(){return xi().memoizedState}function Ym(t,e,n,r){var i=ds();Nt.flags|=t,i.memoizedState=Jh(1|e,n,void 0,r===void 0?null:r)}function ay(t,e,n,r){var i=xi();r=r===void 0?null:r;var s=void 0;if(ln!==null){var o=ln.memoizedState;if(s=o.destroy,r!==null&&wk(r,o.deps)){i.memoizedState=Jh(e,n,s,r);return}}Nt.flags|=t,i.memoizedState=Jh(1|e,n,s,r)}function Sj(t,e){return Ym(8390656,8,t,e)}function Ok(t,e){return ay(2048,8,t,e)}function Kz(t,e){return ay(4,2,t,e)}function Yz(t,e){return ay(4,4,t,e)}function Zz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jz(t,e,n){return n=n!=null?n.concat([t]):null,ay(4,4,Zz.bind(null,e,t),n)}function jk(){}function eD(t,e){var n=xi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tD(t,e){var n=xi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nD(t,e,n){return zl&21?(es(n,e)||(n=az(),Nt.lanes|=n,Dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=n)}function O6(t,e){var n=ft;ft=n!==0&&4>n?n:4,t(!0);var r=tv.transition;tv.transition={};try{t(!1),e()}finally{ft=n,tv.transition=r}}function rD(){return xi().memoizedState}function j6(t,e,n){var r=xa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iD(t))sD(e,n);else if(n=Nz(t,e,n,r),n!==null){var i=er();Yi(n,t,r,i),oD(n,e,r)}}function P6(t,e,n){var r=xa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iD(t))sD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,es(a,o)){var l=e.interleaved;l===null?(i.next=i,yk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nz(t,e,i,r),n!==null&&(i=er(),Yi(n,t,r,i),oD(n,e,r))}}function iD(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function sD(t,e){fh=t0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rk(t,n)}}var n0={readContext:yi,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},T6={readContext:yi,useCallback:function(t,e){return ds().memoizedState=[t,e===void 0?null:e],t},useContext:yi,useEffect:Sj,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ym(4194308,4,Zz.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ym(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ym(4,2,t,e)},useMemo:function(t,e){var n=ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ds();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j6.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=ds();return t={current:t},e.memoizedState=t},useState:bj,useDebugValue:jk,useDeferredValue:function(t){return ds().memoizedState=t},useTransition:function(){var t=bj(!1),e=t[0];return t=O6.bind(null,t[1]),ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nt,i=ds();if(zt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Sn===null)throw Error(ne(349));zl&30||Qz(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sj(qz.bind(null,r,s,t),[t]),r.flags|=2048,Jh(9,Hz.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ds(),e=Sn.identifierPrefix;if(zt){var n=co,r=lo;n=(r&~(1<<32-Ki(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A6={readContext:yi,useCallback:eD,useContext:yi,useEffect:Ok,useImperativeHandle:Jz,useInsertionEffect:Kz,useLayoutEffect:Yz,useMemo:tD,useReducer:nv,useRef:Xz,useState:function(){return nv(Zh)},useDebugValue:jk,useDeferredValue:function(t){var e=xi();return nD(e,ln.memoizedState,t)},useTransition:function(){var t=nv(Zh)[0],e=xi().memoizedState;return[t,e]},useMutableSource:Wz,useSyncExternalStore:Vz,useId:rD,unstable_isNewReconciler:!1},E6={readContext:yi,useCallback:eD,useContext:yi,useEffect:Ok,useImperativeHandle:Jz,useInsertionEffect:Kz,useLayoutEffect:Yz,useMemo:tD,useReducer:rv,useRef:Xz,useState:function(){return rv(Zh)},useDebugValue:jk,useDeferredValue:function(t){var e=xi();return ln===null?e.memoizedState=t:nD(e,ln.memoizedState,t)},useTransition:function(){var t=rv(Zh)[0],e=xi().memoizedState;return[t,e]},useMutableSource:Wz,useSyncExternalStore:Vz,useId:rD,unstable_isNewReconciler:!1};function Fi(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function b1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ly={isMounted:function(t){return(t=t._reactInternals)?Yl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=er(),i=xa(t),s=po(r,i);s.payload=e,n!=null&&(s.callback=n),e=ga(t,s,i),e!==null&&(Yi(e,t,i,r),Xm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=er(),i=xa(t),s=po(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ga(t,s,i),e!==null&&(Yi(e,t,i,r),Xm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=er(),r=xa(t),i=po(n,r);i.tag=2,e!=null&&(i.callback=e),e=ga(t,i,r),e!==null&&(Yi(e,t,r,n),Xm(e,t,r))}};function wj(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hh(n,r)||!Hh(i,s):!0}function aD(t,e,n){var r=!1,i=Oa,s=e.contextType;return typeof s=="object"&&s!==null?s=yi(s):(i=Sr(e)?Ml:Vn.current,r=e.contextTypes,s=(r=r!=null)?Eu(t,i):Oa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ly,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ly.enqueueReplaceState(e,e.state,null)}function S1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xk(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yi(s):(s=Sr(e)?Ml:Vn.current,i.context=Eu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(b1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ly.enqueueReplaceState(i,i.state,null),Jg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Du(t,e){try{var n="",r=e;do n+=iF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function iv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M6=typeof WeakMap=="function"?WeakMap:Map;function lD(t,e,n){n=po(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){i0||(i0=!0,R1=r),w1(t,e)},n}function cD(t,e,n){n=po(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){w1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){w1(t,e),typeof r!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new M6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=H6.bind(null,t,e,n),e.then(t,t))}function Oj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jj(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=po(-1,1),e.tag=2,ga(n,e,1))),n.lanes|=1),t)}var R6=Mo.ReactCurrentOwner,yr=!1;function Gn(t,e,n,r){e.child=t===null?_z(e,null,n,r):Ru(e,t.child,n,r)}function Pj(t,e,n,r,i){n=n.render;var s=e.ref;return Uc(e,i),r=kk(t,e,n,r,s,i),n=Ck(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Co(t,e,i)):(zt&&n&&dk(e),e.flags|=1,Gn(t,e,r,i),e.child)}function Tj(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dk(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uD(t,e,s,r,i)):(t=tg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hh,n(o,r)&&t.ref===e.ref)return Co(t,e,i)}return e.flags|=1,t=va(s,r),t.ref=e.ref,t.return=e,e.child=t}function uD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hh(s,r)&&t.ref===e.ref)if(yr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,Co(t,e,i)}return k1(t,e,n,r,i)}function dD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Pc,Lr),Lr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(Pc,Lr),Lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ct(Pc,Lr),Lr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ct(Pc,Lr),Lr|=r;return Gn(t,e,i,n),e.child}function hD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function k1(t,e,n,r,i){var s=Sr(n)?Ml:Vn.current;return s=Eu(e,s),Uc(e,i),n=kk(t,e,n,r,s,i),r=Ck(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Co(t,e,i)):(zt&&r&&dk(e),e.flags|=1,Gn(t,e,n,i),e.child)}function Aj(t,e,n,r,i){if(Sr(n)){var s=!0;Gg(e)}else s=!1;if(Uc(e,i),e.stateNode===null)Zm(t,e),aD(e,n,r),S1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yi(u):(u=Sr(n)?Ml:Vn.current,u=Eu(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kj(e,o,r,u),Qo=!1;var f=e.memoizedState;o.state=f,Jg(e,r,o,i),l=e.memoizedState,a!==r||f!==l||br.current||Qo?(typeof d=="function"&&(b1(e,n,d,r),l=e.memoizedState),(a=Qo||wj(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bz(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fi(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yi(l):(l=Sr(n)?Ml:Vn.current,l=Eu(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&kj(e,o,r,l),Qo=!1,f=e.memoizedState,o.state=f,Jg(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||br.current||Qo?(typeof p=="function"&&(b1(e,n,p,r),m=e.memoizedState),(u=Qo||wj(e,n,u,r,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return C1(t,e,n,r,s,i)}function C1(t,e,n,r,i,s){hD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pj(e,n,!1),Co(t,e,s);r=e.stateNode,R6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ru(e,t.child,null,s),e.child=Ru(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&pj(e,n,!0),e.child}function fD(t){var e=t.stateNode;e.pendingContext?fj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fj(t,e.context,!1),vk(t,e.containerInfo)}function Ej(t,e,n,r,i){return Mu(),fk(i),e.flags|=256,Gn(t,e,n,r),e.child}var O1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function pD(t,e,n){var r=e.pendingProps,i=$t.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ct($t,i&1),t===null)return x1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dy(o,r,0,null),t=bl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j1(n),e.memoizedState=O1,t):Pk(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return z6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=va(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=va(a,s):(s=bl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?j1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=O1,r}return s=t.child,t=s.sibling,r=va(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pk(t,e){return e=dy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gp(t,e,n,r){return r!==null&&fk(r),Ru(e,t.child,null,n),t=Pk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function z6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=iv(Error(ne(422))),Gp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dy({mode:"visible",children:r.children},i,0,null),s=bl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ru(e,t.child,null,o),e.child.memoizedState=j1(o),e.memoizedState=O1,s);if(!(e.mode&1))return Gp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=iv(s,r,void 0),Gp(t,e,o,r)}if(a=(o&t.childLanes)!==0,yr||a){if(r=Sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ko(t,i),Yi(r,t,i,-1))}return zk(),r=iv(Error(ne(421))),Gp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_r=ma(i.nextSibling),Wr=e,zt=!0,Hi=null,t!==null&&(ai[li++]=lo,ai[li++]=co,ai[li++]=Rl,lo=t.id,co=t.overflow,Rl=e),e=Pk(e,r.children),e.flags|=4096,e)}function Mj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),v1(t.return,e,n)}function sv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mj(t,n,e);else if(t.tag===19)Mj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&e0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&e0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sv(e,!0,n,null,s);break;case"together":sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Co(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=va(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=va(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D6(t,e,n){switch(e.tag){case 3:fD(e),Mu();break;case 5:Fz(e);break;case 1:Sr(e.type)&&Gg(e);break;case 4:vk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ct(Yg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ct($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?pD(t,e,n):(Ct($t,$t.current&1),t=Co(t,e,n),t!==null?t.sibling:null);Ct($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,dD(t,e,n)}return Co(t,e,n)}var gD,P1,yD,xD;gD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};P1=function(){};yD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rl(As.current);var s=null;switch(n){case"input":i=Xb(t,i),r=Xb(t,r),s=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),s=[];break;case"textarea":i=Zb(t,i),r=Zb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qg)}e1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_h.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_h.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xD=function(t,e,n,r){n!==r&&(e.flags|=4)};function jd(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $6(t,e,n){var r=e.pendingProps;switch(hk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return Sr(e.type)&&Ug(),In(e),null;case 3:return r=e.stateNode,zu(),At(br),At(Vn),Sk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hi!==null&&($1(Hi),Hi=null))),P1(t,e),In(e),null;case 5:bk(e);var i=rl(Kh.current);if(n=e.type,t!==null&&e.stateNode!=null)yD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return In(e),null}if(t=rl(As.current),qp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vs]=e,r[Gh]=s,t=(e.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<Hd.length;i++)Pt(Hd[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":B2(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":W2(r,s),Pt("invalid",r)}e1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hp(r.textContent,a,t),i=["children",""+a]):_h.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",r)}switch(n){case"input":Ip(r),F2(r,s,!0);break;case"textarea":Ip(r),V2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vs]=e,t[Gh]=r,gD(t,e,!1,!1),e.stateNode=t;e:{switch(o=t1(n,r),n){case"dialog":Pt("cancel",t),Pt("close",t),i=r;break;case"iframe":case"object":case"embed":Pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hd.length;i++)Pt(Hd[i],t);i=r;break;case"source":Pt("error",t),i=r;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),i=r;break;case"details":Pt("toggle",t),i=r;break;case"input":B2(t,r),i=Xb(t,r),Pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),Pt("invalid",t);break;case"textarea":W2(t,r),i=Zb(t,r),Pt("invalid",t);break;default:i=r}e1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?XR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nh(t,l):typeof l=="number"&&Nh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_h.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pt("scroll",t):l!=null&&Yw(t,s,l,o))}switch(n){case"input":Ip(t),F2(t,r,!1);break;case"textarea":Ip(t),V2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ca(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)xD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=rl(Kh.current),rl(As.current),qp(e)){if(r=e.stateNode,n=e.memoizedProps,r[vs]=e,(s=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:Hp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return In(e),null;case 13:if(At($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&_r!==null&&e.mode&1&&!(e.flags&128))Lz(),Mu(),e.flags|=98560,s=!1;else if(s=qp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[vs]=e}else Mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),s=!1}else Hi!==null&&($1(Hi),Hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?dn===0&&(dn=3):zk())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return zu(),P1(t,e),t===null&&qh(e.stateNode.containerInfo),In(e),null;case 10:return gk(e.type._context),In(e),null;case 17:return Sr(e.type)&&Ug(),In(e),null;case 19:if(At($t),s=e.memoizedState,s===null)return In(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)jd(s,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=e0(t),o!==null){for(e.flags|=128,jd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct($t,$t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kt()>$u&&(e.flags|=128,r=!0,jd(s,!1),e.lanes=4194304)}else{if(!r)if(t=e0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zt)return In(e),null}else 2*Kt()-s.renderingStartTime>$u&&n!==1073741824&&(e.flags|=128,r=!0,jd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kt(),e.sibling=null,n=$t.current,Ct($t,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return Rk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lr&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function L6(t,e){switch(hk(e),e.tag){case 1:return Sr(e.type)&&Ug(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zu(),At(br),At(Vn),Sk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bk(e),null;case 13:if(At($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Mu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At($t),null;case 4:return zu(),null;case 10:return gk(e.type._context),null;case 22:case 23:return Rk(),null;case 24:return null;default:return null}}var Xp=!1,Wn=!1,I6=typeof WeakSet=="function"?WeakSet:Set,ve=null;function jc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function T1(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var Rj=!1;function _6(t,e){if(d1=Vg,t=kz(),uk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h1={focusedElem:t,selectionRange:n},Vg=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Fi(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(w){Ht(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return m=Rj,Rj=!1,m}function ph(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&T1(e,n,s)}i=i.next}while(i!==r)}}function cy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vD(t){var e=t.alternate;e!==null&&(t.alternate=null,vD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[Gh],delete e[m1],delete e[b6],delete e[S6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bD(t){return t.tag===5||t.tag===3||t.tag===4}function zj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qg));else if(r!==4&&(t=t.child,t!==null))for(E1(t,e,n),t=t.sibling;t!==null;)E1(t,e,n),t=t.sibling}function M1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(M1(t,e,n),t=t.sibling;t!==null;)M1(t,e,n),t=t.sibling}var Cn=null,Qi=!1;function Io(t,e,n){for(n=n.child;n!==null;)SD(t,e,n),n=n.sibling}function SD(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(ty,n)}catch{}switch(n.tag){case 5:Wn||jc(n,e);case 6:var r=Cn,i=Qi;Cn=null,Io(t,e,n),Cn=r,Qi=i,Cn!==null&&(Qi?(t=Cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(Qi?(t=Cn,n=n.stateNode,t.nodeType===8?Zx(t.parentNode,n):t.nodeType===1&&Zx(t,n),Vh(t)):Zx(Cn,n.stateNode));break;case 4:r=Cn,i=Qi,Cn=n.stateNode.containerInfo,Qi=!0,Io(t,e,n),Cn=r,Qi=i;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T1(n,e,o),i=i.next}while(i!==r)}Io(t,e,n);break;case 1:if(!Wn&&(jc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ht(n,e,a)}Io(t,e,n);break;case 21:Io(t,e,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,Io(t,e,n),Wn=r):Io(t,e,n);break;default:Io(t,e,n)}}function Dj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I6),e.forEach(function(r){var i=U6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Cn=a.stateNode,Qi=!1;break e;case 3:Cn=a.stateNode.containerInfo,Qi=!0;break e;case 4:Cn=a.stateNode.containerInfo,Qi=!0;break e}a=a.return}if(Cn===null)throw Error(ne(160));SD(s,o,i),Cn=null,Qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wD(e,t),e=e.sibling}function wD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),is(t),r&4){try{ph(3,t,t.return),cy(3,t)}catch(g){Ht(t,t.return,g)}try{ph(5,t,t.return)}catch(g){Ht(t,t.return,g)}}break;case 1:Ii(e,t),is(t),r&512&&n!==null&&jc(n,n.return);break;case 5:if(Ii(e,t),is(t),r&512&&n!==null&&jc(n,n.return),t.flags&32){var i=t.stateNode;try{Nh(i,"")}catch(g){Ht(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QR(i,s),t1(a,o);var u=t1(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?XR(i,h):d==="dangerouslySetInnerHTML"?UR(i,h):d==="children"?Nh(i,h):Yw(i,d,h,u)}switch(a){case"input":Kb(i,s);break;case"textarea":HR(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vc(i,!!s.multiple,s.defaultValue,!0):Vc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gh]=s}catch(g){Ht(t,t.return,g)}}break;case 6:if(Ii(e,t),is(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ht(t,t.return,g)}}break;case 3:if(Ii(e,t),is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vh(e.containerInfo)}catch(g){Ht(t,t.return,g)}break;case 4:Ii(e,t),is(t);break;case 13:Ii(e,t),is(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ek=Kt())),r&4&&Dj(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Wn=(u=Wn)||d,Ii(e,t),Wn=u):Ii(e,t),is(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(h=ve=d;ve!==null;){switch(f=ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:ph(4,f,f.return);break;case 1:jc(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Ht(r,n,g)}}break;case 5:jc(f,f.return);break;case 22:if(f.memoizedState!==null){Lj(h);continue}}p!==null?(p.return=f,ve=p):Lj(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GR("display",o))}catch(g){Ht(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ht(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ii(e,t),is(t),r&4&&Dj(t);break;case 21:break;default:Ii(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bD(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nh(i,""),r.flags&=-33);var s=zj(t);M1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zj(t);E1(t,a,o);break;default:throw Error(ne(161))}}catch(l){Ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N6(t,e,n){ve=t,kD(t)}function kD(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wn;a=Xp;var u=Wn;if(Xp=o,(Wn=l)&&!u)for(ve=i;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?Ij(i):l!==null?(l.return=o,ve=l):Ij(i);for(;s!==null;)ve=s,kD(s),s=s.sibling;ve=i,Xp=a,Wn=u}$j(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):$j(t)}}function $j(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wn||cy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vj(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vj(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Wn||e.flags&512&&A1(e)}catch(f){Ht(e,e.return,f)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function Lj(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function Ij(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cy(4,e)}catch(l){Ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ht(e,i,l)}}var s=e.return;try{A1(e)}catch(l){Ht(e,s,l)}break;case 5:var o=e.return;try{A1(e)}catch(l){Ht(e,o,l)}}}catch(l){Ht(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var B6=Math.ceil,r0=Mo.ReactCurrentDispatcher,Tk=Mo.ReactCurrentOwner,mi=Mo.ReactCurrentBatchConfig,Je=0,Sn=null,sn=null,An=0,Lr=0,Pc=Ia(0),dn=0,ef=null,Dl=0,uy=0,Ak=0,mh=null,hr=null,Ek=0,$u=1/0,Gs=null,i0=!1,R1=null,ya=null,Kp=!1,ua=null,s0=0,gh=0,z1=null,Jm=-1,eg=0;function er(){return Je&6?Kt():Jm!==-1?Jm:Jm=Kt()}function xa(t){return t.mode&1?Je&2&&An!==0?An&-An:k6.transition!==null?(eg===0&&(eg=az()),eg):(t=ft,t!==0||(t=window.event,t=t===void 0?16:pz(t.type)),t):1}function Yi(t,e,n,r){if(50<gh)throw gh=0,z1=null,Error(ne(185));qf(t,n,r),(!(Je&2)||t!==Sn)&&(t===Sn&&(!(Je&2)&&(uy|=n),dn===4&&Ko(t,An)),wr(t,r),n===1&&Je===0&&!(e.mode&1)&&($u=Kt()+500,oy&&_a()))}function wr(t,e){var n=t.callbackNode;kF(t,e);var r=Wg(t,t===Sn?An:0);if(r===0)n!==null&&q2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&q2(n),e===1)t.tag===0?w6(_j.bind(null,t)):zz(_j.bind(null,t)),x6(function(){!(Je&6)&&_a()}),n=null;else{switch(lz(r)){case 1:n=nk;break;case 4:n=sz;break;case 16:n=Fg;break;case 536870912:n=oz;break;default:n=Fg}n=MD(n,CD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CD(t,e){if(Jm=-1,eg=0,Je&6)throw Error(ne(327));var n=t.callbackNode;if(Gc()&&t.callbackNode!==n)return null;var r=Wg(t,t===Sn?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=o0(t,r);else{e=r;var i=Je;Je|=2;var s=jD();(Sn!==t||An!==e)&&(Gs=null,$u=Kt()+500,vl(t,e));do try{V6();break}catch(a){OD(t,a)}while(!0);mk(),r0.current=s,Je=i,sn!==null?e=0:(Sn=null,An=0,e=dn)}if(e!==0){if(e===2&&(i=o1(t),i!==0&&(r=i,e=D1(t,i))),e===1)throw n=ef,vl(t,0),Ko(t,r),wr(t,Kt()),n;if(e===6)Ko(t,r);else{if(i=t.current.alternate,!(r&30)&&!F6(i)&&(e=o0(t,r),e===2&&(s=o1(t),s!==0&&(r=s,e=D1(t,s))),e===1))throw n=ef,vl(t,0),Ko(t,r),wr(t,Kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Ua(t,hr,Gs);break;case 3:if(Ko(t,r),(r&130023424)===r&&(e=Ek+500-Kt(),10<e)){if(Wg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){er(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=p1(Ua.bind(null,t,hr,Gs),e);break}Ua(t,hr,Gs);break;case 4:if(Ko(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ki(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B6(r/1960))-r,10<r){t.timeoutHandle=p1(Ua.bind(null,t,hr,Gs),r);break}Ua(t,hr,Gs);break;case 5:Ua(t,hr,Gs);break;default:throw Error(ne(329))}}}return wr(t,Kt()),t.callbackNode===n?CD.bind(null,t):null}function D1(t,e){var n=mh;return t.current.memoizedState.isDehydrated&&(vl(t,e).flags|=256),t=o0(t,e),t!==2&&(e=hr,hr=n,e!==null&&$1(e)),t}function $1(t){hr===null?hr=t:hr.push.apply(hr,t)}function F6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!es(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ko(t,e){for(e&=~Ak,e&=~uy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ki(e),r=1<<n;t[n]=-1,e&=~r}}function _j(t){if(Je&6)throw Error(ne(327));Gc();var e=Wg(t,0);if(!(e&1))return wr(t,Kt()),null;var n=o0(t,e);if(t.tag!==0&&n===2){var r=o1(t);r!==0&&(e=r,n=D1(t,r))}if(n===1)throw n=ef,vl(t,0),Ko(t,e),wr(t,Kt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ua(t,hr,Gs),wr(t,Kt()),null}function Mk(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&($u=Kt()+500,oy&&_a())}}function $l(t){ua!==null&&ua.tag===0&&!(Je&6)&&Gc();var e=Je;Je|=1;var n=mi.transition,r=ft;try{if(mi.transition=null,ft=1,t)return t()}finally{ft=r,mi.transition=n,Je=e,!(Je&6)&&_a()}}function Rk(){Lr=Pc.current,At(Pc)}function vl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y6(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(hk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ug();break;case 3:zu(),At(br),At(Vn),Sk();break;case 5:bk(r);break;case 4:zu();break;case 13:At($t);break;case 19:At($t);break;case 10:gk(r.type._context);break;case 22:case 23:Rk()}n=n.return}if(Sn=t,sn=t=va(t.current,null),An=Lr=e,dn=0,ef=null,Ak=uy=Dl=0,hr=mh=null,nl!==null){for(e=0;e<nl.length;e++)if(n=nl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}nl=null}return t}function OD(t,e){do{var n=sn;try{if(mk(),Km.current=n0,t0){for(var r=Nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}t0=!1}if(zl=0,xn=ln=Nt=null,fh=!1,Yh=0,Tk.current=null,n===null||n.return===null){dn=1,ef=e,sn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=An,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Oj(o);if(p!==null){p.flags&=-257,jj(p,o,a,s,e),p.mode&1&&Cj(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Cj(s,u,e),zk();break e}l=Error(ne(426))}}else if(zt&&a.mode&1){var x=Oj(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jj(x,o,a,s,e),fk(Du(l,a));break e}}s=l=Du(l,a),dn!==4&&(dn=2),mh===null?mh=[s]:mh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=lD(s,l,e);xj(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ya===null||!ya.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=cD(s,a,e);xj(s,w);break e}}s=s.return}while(s!==null)}TD(n)}catch(k){e=k,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function jD(){var t=r0.current;return r0.current=n0,t===null?n0:t}function zk(){(dn===0||dn===3||dn===2)&&(dn=4),Sn===null||!(Dl&268435455)&&!(uy&268435455)||Ko(Sn,An)}function o0(t,e){var n=Je;Je|=2;var r=jD();(Sn!==t||An!==e)&&(Gs=null,vl(t,e));do try{W6();break}catch(i){OD(t,i)}while(!0);if(mk(),Je=n,r0.current=r,sn!==null)throw Error(ne(261));return Sn=null,An=0,dn}function W6(){for(;sn!==null;)PD(sn)}function V6(){for(;sn!==null&&!pF();)PD(sn)}function PD(t){var e=ED(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,e===null?TD(t):sn=e,Tk.current=null}function TD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L6(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,sn=null;return}}else if(n=$6(n,e,Lr),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);dn===0&&(dn=5)}function Ua(t,e,n){var r=ft,i=mi.transition;try{mi.transition=null,ft=1,Q6(t,e,n,r)}finally{mi.transition=i,ft=r}return null}function Q6(t,e,n,r){do Gc();while(ua!==null);if(Je&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(CF(t,s),t===Sn&&(sn=Sn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kp||(Kp=!0,MD(Fg,function(){return Gc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mi.transition,mi.transition=null;var o=ft;ft=1;var a=Je;Je|=4,Tk.current=null,_6(t,n),wD(n,t),u6(h1),Vg=!!d1,h1=d1=null,t.current=n,N6(n),mF(),Je=a,ft=o,mi.transition=s}else t.current=n;if(Kp&&(Kp=!1,ua=t,s0=i),s=t.pendingLanes,s===0&&(ya=null),xF(n.stateNode),wr(t,Kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(i0)throw i0=!1,t=R1,R1=null,t;return s0&1&&t.tag!==0&&Gc(),s=t.pendingLanes,s&1?t===z1?gh++:(gh=0,z1=t):gh=0,_a(),null}function Gc(){if(ua!==null){var t=lz(s0),e=mi.transition,n=ft;try{if(mi.transition=null,ft=16>t?16:t,ua===null)var r=!1;else{if(t=ua,ua=null,s0=0,Je&6)throw Error(ne(331));var i=Je;for(Je|=4,ve=t.current;ve!==null;){var s=ve,o=s.child;if(ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:ph(8,d,s)}var h=d.child;if(h!==null)h.return=d,ve=h;else for(;ve!==null;){d=ve;var f=d.sibling,p=d.return;if(vD(d),d===u){ve=null;break}if(f!==null){f.return=p,ve=f;break}ve=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ve=o;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ph(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ve=v;break e}ve=s.return}}var y=t.current;for(ve=y;ve!==null;){o=ve;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ve=b;else e:for(o=y;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cy(9,a)}}catch(k){Ht(a,a.return,k)}if(a===o){ve=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ve=w;break e}ve=a.return}}if(Je=i,_a(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(ty,t)}catch{}r=!0}return r}finally{ft=n,mi.transition=e}}return!1}function Nj(t,e,n){e=Du(n,e),e=lD(t,e,1),t=ga(t,e,1),e=er(),t!==null&&(qf(t,1,e),wr(t,e))}function Ht(t,e,n){if(t.tag===3)Nj(t,t,n);else for(;e!==null;){if(e.tag===3){Nj(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ya===null||!ya.has(r))){t=Du(n,t),t=cD(e,t,1),e=ga(e,t,1),t=er(),e!==null&&(qf(e,1,t),wr(e,t));break}}e=e.return}}function H6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=er(),t.pingedLanes|=t.suspendedLanes&n,Sn===t&&(An&n)===n&&(dn===4||dn===3&&(An&130023424)===An&&500>Kt()-Ek?vl(t,0):Ak|=n),wr(t,e)}function AD(t,e){e===0&&(t.mode&1?(e=Bp,Bp<<=1,!(Bp&130023424)&&(Bp=4194304)):e=1);var n=er();t=ko(t,e),t!==null&&(qf(t,e,n),wr(t,n))}function q6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AD(t,n)}function U6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),AD(t,n)}var ED;ED=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yr=!1,D6(t,e,n);yr=!!(t.flags&131072)}else yr=!1,zt&&e.flags&1048576&&Dz(e,Kg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zm(t,e),t=e.pendingProps;var i=Eu(e,Vn.current);Uc(e,n),i=kk(null,e,r,t,i,n);var s=Ck();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(r)?(s=!0,Gg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xk(e),i.updater=ly,e.stateNode=i,i._reactInternals=e,S1(e,r,t,n),e=C1(null,e,r,!0,s,n)):(e.tag=0,zt&&s&&dk(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=X6(r),t=Fi(r,t),i){case 0:e=k1(null,e,r,t,n);break e;case 1:e=Aj(null,e,r,t,n);break e;case 11:e=Pj(null,e,r,t,n);break e;case 14:e=Tj(null,e,r,Fi(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),k1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Aj(t,e,r,i,n);case 3:e:{if(fD(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bz(t,e),Jg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Du(Error(ne(423)),e),e=Ej(t,e,r,n,i);break e}else if(r!==i){i=Du(Error(ne(424)),e),e=Ej(t,e,r,n,i);break e}else for(_r=ma(e.stateNode.containerInfo.firstChild),Wr=e,zt=!0,Hi=null,n=_z(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mu(),r===i){e=Co(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return Fz(e),t===null&&x1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,f1(r,i)?o=null:s!==null&&f1(r,s)&&(e.flags|=32),hD(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&x1(e),null;case 13:return pD(t,e,n);case 4:return vk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ru(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Pj(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ct(Yg,r._currentValue),r._currentValue=o,s!==null)if(es(s.value,o)){if(s.children===i.children&&!br.current){e=Co(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=po(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),v1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),v1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Uc(e,n),i=yi(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Fi(r,e.pendingProps),i=Fi(r.type,i),Tj(t,e,r,i,n);case 15:return uD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fi(r,i),Zm(t,e),e.tag=1,Sr(r)?(t=!0,Gg(e)):t=!1,Uc(e,n),aD(e,r,i),S1(e,r,i,n),C1(null,e,r,!0,t,n);case 19:return mD(t,e,n);case 22:return dD(t,e,n)}throw Error(ne(156,e.tag))};function MD(t,e){return iz(t,e)}function G6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,n,r){return new G6(t,e,n,r)}function Dk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function X6(t){if(typeof t=="function")return Dk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jw)return 11;if(t===ek)return 14}return 2}function va(t,e){var n=t.alternate;return n===null?(n=ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Dk(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yc:return bl(n.children,i,s,e);case Zw:o=8,i|=8;break;case Hb:return t=ui(12,n,e,i|2),t.elementType=Hb,t.lanes=s,t;case qb:return t=ui(13,n,e,i),t.elementType=qb,t.lanes=s,t;case Ub:return t=ui(19,n,e,i),t.elementType=Ub,t.lanes=s,t;case FR:return dy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NR:o=10;break e;case BR:o=9;break e;case Jw:o=11;break e;case ek:o=14;break e;case Vo:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=ui(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bl(t,e,n,r){return t=ui(7,t,r,e),t.lanes=n,t}function dy(t,e,n,r){return t=ui(22,t,r,e),t.elementType=FR,t.lanes=n,t.stateNode={isHidden:!1},t}function ov(t,e,n){return t=ui(6,t,null,e),t.lanes=n,t}function av(t,e,n){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $k(t,e,n,r,i,s,o,a,l){return t=new K6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ui(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xk(s),t}function Y6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RD(t){if(!t)return Oa;t=t._reactInternals;e:{if(Yl(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Sr(n))return Rz(t,n,e)}return e}function zD(t,e,n,r,i,s,o,a,l){return t=$k(n,r,!0,t,i,s,o,a,l),t.context=RD(null),n=t.current,r=er(),i=xa(n),s=po(r,i),s.callback=e??null,ga(n,s,i),t.current.lanes=i,qf(t,i,r),wr(t,r),t}function hy(t,e,n,r){var i=e.current,s=er(),o=xa(i);return n=RD(n),e.context===null?e.context=n:e.pendingContext=n,e=po(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ga(i,e,o),t!==null&&(Yi(t,i,o,s),Xm(t,i,o)),o}function a0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lk(t,e){Bj(t,e),(t=t.alternate)&&Bj(t,e)}function Z6(){return null}var DD=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ik(t){this._internalRoot=t}fy.prototype.render=Ik.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));hy(t,e,null,null)};fy.prototype.unmount=Ik.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$l(function(){hy(null,t,null,null)}),e[wo]=null}};function fy(t){this._internalRoot=t}fy.prototype.unstable_scheduleHydration=function(t){if(t){var e=dz();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xo.length&&e!==0&&e<Xo[n].priority;n++);Xo.splice(n,0,t),n===0&&fz(t)}};function _k(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fj(){}function J6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=a0(o);s.call(u)}}var o=zD(e,r,t,0,null,!1,!1,"",Fj);return t._reactRootContainer=o,t[wo]=o.current,qh(t.nodeType===8?t.parentNode:t),$l(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=a0(l);a.call(u)}}var l=$k(t,0,!1,null,null,!1,!1,"",Fj);return t._reactRootContainer=l,t[wo]=l.current,qh(t.nodeType===8?t.parentNode:t),$l(function(){hy(e,l,n,r)}),l}function my(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=a0(o);a.call(l)}}hy(e,o,t,i)}else o=J6(n,e,t,i,r);return a0(o)}cz=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qd(e.pendingLanes);n!==0&&(rk(e,n|1),wr(e,Kt()),!(Je&6)&&($u=Kt()+500,_a()))}break;case 13:$l(function(){var r=ko(t,1);if(r!==null){var i=er();Yi(r,t,1,i)}}),Lk(t,1)}};ik=function(t){if(t.tag===13){var e=ko(t,134217728);if(e!==null){var n=er();Yi(e,t,134217728,n)}Lk(t,134217728)}};uz=function(t){if(t.tag===13){var e=xa(t),n=ko(t,e);if(n!==null){var r=er();Yi(n,t,e,r)}Lk(t,e)}};dz=function(){return ft};hz=function(t,e){var n=ft;try{return ft=t,e()}finally{ft=n}};r1=function(t,e,n){switch(e){case"input":if(Kb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sy(r);if(!i)throw Error(ne(90));VR(r),Kb(r,i)}}}break;case"textarea":HR(t,n);break;case"select":e=n.value,e!=null&&Vc(t,!!n.multiple,e,!1)}};ZR=Mk;JR=$l;var eW={usingClientEntryPoint:!1,Events:[Gf,Sc,sy,KR,YR,Mk]},Pd={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tW={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nz(t),t===null?null:t.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||Z6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{ty=Yp.inject(tW),Ts=Yp}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eW;Yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_k(e))throw Error(ne(200));return Y6(t,e,null,n)};Yr.createRoot=function(t,e){if(!_k(t))throw Error(ne(299));var n=!1,r="",i=DD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$k(t,1,!1,null,null,n,!1,r,i),t[wo]=e.current,qh(t.nodeType===8?t.parentNode:t),new Ik(e)};Yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=nz(e),t=t===null?null:t.stateNode,t};Yr.flushSync=function(t){return $l(t)};Yr.hydrate=function(t,e,n){if(!py(e))throw Error(ne(200));return my(null,t,e,!0,n)};Yr.hydrateRoot=function(t,e,n){if(!_k(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=DD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zD(e,null,t,1,n??null,i,!1,s,o),t[wo]=e.current,qh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fy(e)};Yr.render=function(t,e,n){if(!py(e))throw Error(ne(200));return my(null,t,e,!1,n)};Yr.unmountComponentAtNode=function(t){if(!py(t))throw Error(ne(40));return t._reactRootContainer?($l(function(){my(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};Yr.unstable_batchedUpdates=Mk;Yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!py(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return my(t,e,n,!1,r)};Yr.version="18.3.1-next-f1338f8080-20240426";function $D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($D)}catch(t){console.error(t)}}$D(),$R.exports=Yr;var Nk=$R.exports,Wj=Nk;Vb.createRoot=Wj.createRoot,Vb.hydrateRoot=Wj.hydrateRoot;function nW(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function gy(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function rW(){return!!(globalThis!=null&&globalThis.document)}function LD(t){return t.parentElement&&LD(t.parentElement)?!0:t.hidden}function iW(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function sW(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function oW(t){var e;return((e=ID(t))==null?void 0:e.defaultView)??window}function ID(t){return gy(t)?t.ownerDocument:document}function aW(t){return t.view??window}function lW(t){return ID(t).activeElement}function cW(t){const e=aW(t);return typeof e.PointerEvent<"u"&&t instanceof e.PointerEvent?t.pointerType==="mouse":t instanceof e.MouseEvent}function _D(t){return!!t.touches}function uW(t){return _D(t)&&t.touches.length>1}function dW(t,e="page"){const n=t.touches[0]||t.changedTouches[0];return{x:n[`${e}X`],y:n[`${e}Y`]}}function hW(t,e="page"){return{x:t[`${e}X`],y:t[`${e}Y`]}}function ND(t,e="page"){return _D(t)?dW(t,e):hW(t,e)}function fW(t){return e=>{const n=cW(e);(!n||n&&e.button===0)&&t(e)}}function pW(t,e=!1){function n(i){t(i,{point:ND(i)})}return e?fW(n):n}function ng(t,e,n,r){return nW(t,e,pW(n,e==="pointerdown"),r)}function mW(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}const Le=t=>t?"":void 0,mo=t=>t?!0:void 0;function L1(t){return Array.isArray(t)}function tr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!L1(t)}function gW(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function yW(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function I1(t){if(t==null)return t;const{unitless:e}=yW(t);return e||typeof t=="number"?`${t}px`:t}const BD=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Bk=t=>Object.fromEntries(Object.entries(t).sort(BD));function Vj(t){const e=Bk(t);return Object.assign(Object.values(e),e)}function xW(t){const e=Object.keys(Bk(t));return new Set(e)}function Qj(t){if(!t)return t;t=I1(t)??t;const e=-.02;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,n=>`${parseFloat(n)+e}`)}function qd(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${I1(t)})`),e&&n.push("and",`(max-width: ${I1(e)})`),n.join(" ")}function vW(t){if(!t)return null;t.base=t.base??"0px";const e=Vj(t),n=Object.entries(t).sort(BD).map(([s,o],a,l)=>{let[,u]=l[a+1]??[];return u=parseFloat(u)>0?Qj(u):void 0,{_minW:Qj(o),breakpoint:s,minW:o,maxW:u,maxWQuery:qd(null,u),minWQuery:qd(o),minMaxQuery:qd(o,u)}}),r=xW(t),i=Array.from(r.values());return{keys:r,normalized:e,isResponsive(s){const o=Object.keys(s);return o.length>0&&o.every(a=>r.has(a))},asObject:Bk(t),asArray:Vj(t),details:n,get(s){return n.find(o=>o.breakpoint===s)},media:[null,...e.map(s=>qd(s)).slice(1)],toArrayValue(s){if(!tr(s))throw new Error("toArrayValue: value must be an object");const o=i.map(a=>s[a]??null);for(;gW(o)===null;)o.pop();return o},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((o,a,l)=>{const u=i[l];return u!=null&&a!=null&&(o[u]=a),o},{})}}}function FD(...t){return function(...n){t.forEach(r=>r==null?void 0:r(...n))}}function $e(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function yy(t){return S.Children.toArray(t).filter(e=>S.isValidElement(e))}function xy(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function bW(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function tt(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=S.createContext(o);a.displayName=e;function l(){var d;const u=S.useContext(a);if(!u&&n){const h=new Error(s??bW(r,i));throw h.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,h,l),h}return u}return[a.Provider,l,a]}const xe=(...t)=>t.filter(Boolean).join(" "),WD=t=>t.hasAttribute("tabindex"),SW=t=>WD(t)&&t.tabIndex===-1;function VD(t){if(!gy(t)||LD(t)||sW(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():iW(t)?!0:WD(t)}function wW(t){return t?gy(t)&&VD(t)&&!SW(t):!1}const kW=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],CW=kW.join(),OW=t=>t.offsetWidth>0&&t.offsetHeight>0;function jW(t){const e=Array.from(t.querySelectorAll(CW));return e.unshift(t),e.filter(n=>VD(n)&&OW(n))}function PW(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}const TW=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},QD=TW(PW),AW=t=>t.default||t;function HD(t){const{wasSelected:e,enabled:n,isSelected:r,mode:i="unmount"}=t;return!!(!n||r||i==="keepMounted"&&e)}function EW(t){const e=parseFloat(t);return typeof e!="number"||Number.isNaN(e)?0:e}function Fk(t,e){let n=EW(t);const r=10**(e??10);return n=Math.round(n*r)/r,e?n.toFixed(e):n.toString()}function _1(t){if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n}function Hj(t,e,n){return(t-e)*100/(n-e)}function MW(t,e,n){return(n-e)*t+e}function qj(t,e,n){const r=Math.round((t-e)/n)*n+e,i=_1(n);return Fk(r,i)}function rg(t,e,n){return t==null?t:(n<e&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,e),n))}function vy(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function qD(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Wk(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):tr(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}const RW=t=>typeof t=="function";function Nr(t,...e){return RW(t)?t(...e):t}function zW(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:i}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+i+r)}function DW(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function UD(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:gy(t)&&zW(t)?t:UD(DW(t))}function $W(t,e){const n={},r={};for(const[i,s]of Object.entries(t))e.includes(i)?n[i]=s:r[i]=s;return[n,r]}function LW(t,...e){const n=Object.getOwnPropertyDescriptors(t),r=Object.keys(n),i=o=>{const a={};for(let l=0;l<o.length;l++){const u=o[l];n[u]&&(Object.defineProperty(a,u,n[u]),delete n[u])}return a},s=o=>i(Array.isArray(o)?o:r.filter(o));return e.map(s).concat(i(r))}function Uj(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){if(tr(o)||Array.isArray(o)){const l={};for(const[u,d]of Object.entries(o)){const h=(i==null?void 0:i(u))??u,f=[...a,h];if(r!=null&&r(o,f))return e(o,a);l[h]=s(d,f)}return l}return e(o,a)}return s(t)}const Kf=t=>{const{condition:e,message:n}=t};var l0={exports:{}};l0.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",g="[object Map]",x="[object Number]",v="[object Null]",y="[object Object]",b="[object Proxy]",w="[object RegExp]",k="[object Set]",O="[object String]",C="[object Undefined]",j="[object WeakMap]",P="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",F="[object Float64Array]",H="[object Int8Array]",_="[object Int16Array]",B="[object Int32Array]",ee="[object Uint8Array]",W="[object Uint8ClampedArray]",L="[object Uint16Array]",Q="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,Z={};Z[E]=Z[F]=Z[H]=Z[_]=Z[B]=Z[ee]=Z[W]=Z[L]=Z[Q]=!0,Z[a]=Z[l]=Z[P]=Z[d]=Z[A]=Z[h]=Z[f]=Z[p]=Z[g]=Z[x]=Z[y]=Z[w]=Z[k]=Z[O]=Z[j]=!1;var se=typeof Dp=="object"&&Dp&&Dp.Object===Object&&Dp,V=typeof self=="object"&&self&&self.Object===Object&&self,J=se||V||Function("return this")(),U=e&&!e.nodeType&&e,Se=U&&!0&&t&&!t.nodeType&&t,_e=Se&&Se.exports===U,We=_e&&se.process,he=function(){try{var T=Se&&Se.require&&Se.require("util").types;return T||We&&We.binding&&We.binding("util")}catch{}}(),Me=he&&he.isTypedArray;function Be(T,D,q){switch(q.length){case 0:return T.call(D);case 1:return T.call(D,q[0]);case 2:return T.call(D,q[0],q[1]);case 3:return T.call(D,q[0],q[1],q[2])}return T.apply(D,q)}function de(T,D){for(var q=-1,be=Array(T);++q<T;)be[q]=D(q);return be}function wt(T){return function(D){return T(D)}}function nt(T,D){return T==null?void 0:T[D]}function Wt(T,D){return function(q){return T(D(q))}}var zn=Array.prototype,kn=Function.prototype,Ut=Object.prototype,lr=J["__core-js_shared__"],Hn=kn.toString,Dn=Ut.hasOwnProperty,zi=function(){var T=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),Vs=Ut.toString,zo=Hn.call(Object),Do=RegExp("^"+Hn.call(Dn).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=_e?J.Buffer:void 0,xt=J.Symbol,ce=J.Uint8Array;oe&&oe.allocUnsafe;var Ce=Wt(Object.getPrototypeOf,Object),$n=Object.create,Di=Ut.propertyIsEnumerable,$o=zn.splice,$i=xt?xt.toStringTag:void 0,ic=function(){try{var T=Px(Object,"defineProperty");return T({},"",{}),T}catch{}}(),gd=oe?oe.isBuffer:void 0,Lo=Math.max,Tp=Date.now,S2=Px(J,"Map"),yd=Px(Object,"create"),EN=function(){function T(){}return function(D){if(!Va(D))return{};if($n)return $n(D);T.prototype=D;var q=new T;return T.prototype=void 0,q}}();function Wa(T){var D=-1,q=T==null?0:T.length;for(this.clear();++D<q;){var be=T[D];this.set(be[0],be[1])}}function MN(){this.__data__=yd?yd(null):{},this.size=0}function RN(T){var D=this.has(T)&&delete this.__data__[T];return this.size-=D?1:0,D}function zN(T){var D=this.__data__;if(yd){var q=D[T];return q===r?void 0:q}return Dn.call(D,T)?D[T]:void 0}function DN(T){var D=this.__data__;return yd?D[T]!==void 0:Dn.call(D,T)}function $N(T,D){var q=this.__data__;return this.size+=this.has(T)?0:1,q[T]=yd&&D===void 0?r:D,this}Wa.prototype.clear=MN,Wa.prototype.delete=RN,Wa.prototype.get=zN,Wa.prototype.has=DN,Wa.prototype.set=$N;function Qs(T){var D=-1,q=T==null?0:T.length;for(this.clear();++D<q;){var be=T[D];this.set(be[0],be[1])}}function LN(){this.__data__=[],this.size=0}function IN(T){var D=this.__data__,q=Ap(D,T);if(q<0)return!1;var be=D.length-1;return q==be?D.pop():$o.call(D,q,1),--this.size,!0}function _N(T){var D=this.__data__,q=Ap(D,T);return q<0?void 0:D[q][1]}function NN(T){return Ap(this.__data__,T)>-1}function BN(T,D){var q=this.__data__,be=Ap(q,T);return be<0?(++this.size,q.push([T,D])):q[be][1]=D,this}Qs.prototype.clear=LN,Qs.prototype.delete=IN,Qs.prototype.get=_N,Qs.prototype.has=NN,Qs.prototype.set=BN;function sc(T){var D=-1,q=T==null?0:T.length;for(this.clear();++D<q;){var be=T[D];this.set(be[0],be[1])}}function FN(){this.size=0,this.__data__={hash:new Wa,map:new(S2||Qs),string:new Wa}}function WN(T){var D=Mp(this,T).delete(T);return this.size-=D?1:0,D}function VN(T){return Mp(this,T).get(T)}function QN(T){return Mp(this,T).has(T)}function HN(T,D){var q=Mp(this,T),be=q.size;return q.set(T,D),this.size+=q.size==be?0:1,this}sc.prototype.clear=FN,sc.prototype.delete=WN,sc.prototype.get=VN,sc.prototype.has=QN,sc.prototype.set=HN;function oc(T){var D=this.__data__=new Qs(T);this.size=D.size}function qN(){this.__data__=new Qs,this.size=0}function UN(T){var D=this.__data__,q=D.delete(T);return this.size=D.size,q}function GN(T){return this.__data__.get(T)}function XN(T){return this.__data__.has(T)}function KN(T,D){var q=this.__data__;if(q instanceof Qs){var be=q.__data__;if(!S2||be.length<n-1)return be.push([T,D]),this.size=++q.size,this;q=this.__data__=new sc(be)}return q.set(T,D),this.size=q.size,this}oc.prototype.clear=qN,oc.prototype.delete=UN,oc.prototype.get=GN,oc.prototype.has=XN,oc.prototype.set=KN;function YN(T,D){var q=Ex(T),be=!q&&Ax(T),Ge=!q&&!be&&j2(T),vt=!q&&!be&&!Ge&&T2(T),Mt=q||be||Ge||vt,rt=Mt?de(T.length,String):[],Rt=rt.length;for(var Li in T)Mt&&(Li=="length"||Ge&&(Li=="offset"||Li=="parent")||vt&&(Li=="buffer"||Li=="byteLength"||Li=="byteOffset")||C2(Li,Rt))||rt.push(Li);return rt}function Ox(T,D,q){(q!==void 0&&!Rp(T[D],q)||q===void 0&&!(D in T))&&jx(T,D,q)}function ZN(T,D,q){var be=T[D];(!(Dn.call(T,D)&&Rp(be,q))||q===void 0&&!(D in T))&&jx(T,D,q)}function Ap(T,D){for(var q=T.length;q--;)if(Rp(T[q][0],D))return q;return-1}function jx(T,D,q){D=="__proto__"&&ic?ic(T,D,{configurable:!0,enumerable:!0,value:q,writable:!0}):T[D]=q}var JN=hB();function Ep(T){return T==null?T===void 0?C:v:$i&&$i in Object(T)?fB(T):vB(T)}function w2(T){return xd(T)&&Ep(T)==a}function eB(T){if(!Va(T)||yB(T))return!1;var D=Rx(T)?Do:Y;return D.test(kB(T))}function tB(T){return xd(T)&&P2(T.length)&&!!Z[Ep(T)]}function nB(T){if(!Va(T))return xB(T);var D=O2(T),q=[];for(var be in T)be=="constructor"&&(D||!Dn.call(T,be))||q.push(be);return q}function k2(T,D,q,be,Ge){T!==D&&JN(D,function(vt,Mt){if(Ge||(Ge=new oc),Va(vt))rB(T,D,Mt,q,k2,be,Ge);else{var rt=be?be(Tx(T,Mt),vt,Mt+"",T,D,Ge):void 0;rt===void 0&&(rt=vt),Ox(T,Mt,rt)}},A2)}function rB(T,D,q,be,Ge,vt,Mt){var rt=Tx(T,q),Rt=Tx(D,q),Li=Mt.get(Rt);if(Li){Ox(T,q,Li);return}var zr=vt?vt(rt,Rt,q+"",T,D,Mt):void 0,vd=zr===void 0;if(vd){var zx=Ex(Rt),Dx=!zx&&j2(Rt),M2=!zx&&!Dx&&T2(Rt);zr=Rt,zx||Dx||M2?Ex(rt)?zr=rt:CB(rt)?zr=cB(rt):Dx?(vd=!1,zr=oB(Rt)):M2?(vd=!1,zr=lB(Rt)):zr=[]:OB(Rt)||Ax(Rt)?(zr=rt,Ax(rt)?zr=jB(rt):(!Va(rt)||Rx(rt))&&(zr=pB(Rt))):vd=!1}vd&&(Mt.set(Rt,zr),Ge(zr,Rt,be,vt,Mt),Mt.delete(Rt)),Ox(T,q,zr)}function iB(T,D){return SB(bB(T,D,E2),T+"")}var sB=ic?function(T,D){return ic(T,"toString",{configurable:!0,enumerable:!1,value:TB(D),writable:!0})}:E2;function oB(T,D){return T.slice()}function aB(T){var D=new T.constructor(T.byteLength);return new ce(D).set(new ce(T)),D}function lB(T,D){var q=aB(T.buffer);return new T.constructor(q,T.byteOffset,T.length)}function cB(T,D){var q=-1,be=T.length;for(D||(D=Array(be));++q<be;)D[q]=T[q];return D}function uB(T,D,q,be){var Ge=!q;q||(q={});for(var vt=-1,Mt=D.length;++vt<Mt;){var rt=D[vt],Rt=void 0;Rt===void 0&&(Rt=T[rt]),Ge?jx(q,rt,Rt):ZN(q,rt,Rt)}return q}function dB(T){return iB(function(D,q){var be=-1,Ge=q.length,vt=Ge>1?q[Ge-1]:void 0,Mt=Ge>2?q[2]:void 0;for(vt=T.length>3&&typeof vt=="function"?(Ge--,vt):void 0,Mt&&mB(q[0],q[1],Mt)&&(vt=Ge<3?void 0:vt,Ge=1),D=Object(D);++be<Ge;){var rt=q[be];rt&&T(D,rt,be,vt)}return D})}function hB(T){return function(D,q,be){for(var Ge=-1,vt=Object(D),Mt=be(D),rt=Mt.length;rt--;){var Rt=Mt[++Ge];if(q(vt[Rt],Rt,vt)===!1)break}return D}}function Mp(T,D){var q=T.__data__;return gB(D)?q[typeof D=="string"?"string":"hash"]:q.map}function Px(T,D){var q=nt(T,D);return eB(q)?q:void 0}function fB(T){var D=Dn.call(T,$i),q=T[$i];try{T[$i]=void 0;var be=!0}catch{}var Ge=Vs.call(T);return be&&(D?T[$i]=q:delete T[$i]),Ge}function pB(T){return typeof T.constructor=="function"&&!O2(T)?EN(Ce(T)):{}}function C2(T,D){var q=typeof T;return D=D??o,!!D&&(q=="number"||q!="symbol"&&ie.test(T))&&T>-1&&T%1==0&&T<D}function mB(T,D,q){if(!Va(q))return!1;var be=typeof D;return(be=="number"?Mx(q)&&C2(D,q.length):be=="string"&&D in q)?Rp(q[D],T):!1}function gB(T){var D=typeof T;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?T!=="__proto__":T===null}function yB(T){return!!zi&&zi in T}function O2(T){var D=T&&T.constructor,q=typeof D=="function"&&D.prototype||Ut;return T===q}function xB(T){var D=[];if(T!=null)for(var q in Object(T))D.push(q);return D}function vB(T){return Vs.call(T)}function bB(T,D,q){return D=Lo(D===void 0?T.length-1:D,0),function(){for(var be=arguments,Ge=-1,vt=Lo(be.length-D,0),Mt=Array(vt);++Ge<vt;)Mt[Ge]=be[D+Ge];Ge=-1;for(var rt=Array(D+1);++Ge<D;)rt[Ge]=be[Ge];return rt[D]=q(Mt),Be(T,this,rt)}}function Tx(T,D){if(!(D==="constructor"&&typeof T[D]=="function")&&D!="__proto__")return T[D]}var SB=wB(sB);function wB(T){var D=0,q=0;return function(){var be=Tp(),Ge=s-(be-q);if(q=be,Ge>0){if(++D>=i)return arguments[0]}else D=0;return T.apply(void 0,arguments)}}function kB(T){if(T!=null){try{return Hn.call(T)}catch{}try{return T+""}catch{}}return""}function Rp(T,D){return T===D||T!==T&&D!==D}var Ax=w2(function(){return arguments}())?w2:function(T){return xd(T)&&Dn.call(T,"callee")&&!Di.call(T,"callee")},Ex=Array.isArray;function Mx(T){return T!=null&&P2(T.length)&&!Rx(T)}function CB(T){return xd(T)&&Mx(T)}var j2=gd||AB;function Rx(T){if(!Va(T))return!1;var D=Ep(T);return D==p||D==m||D==u||D==b}function P2(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=o}function Va(T){var D=typeof T;return T!=null&&(D=="object"||D=="function")}function xd(T){return T!=null&&typeof T=="object"}function OB(T){if(!xd(T)||Ep(T)!=y)return!1;var D=Ce(T);if(D===null)return!0;var q=Dn.call(D,"constructor")&&D.constructor;return typeof q=="function"&&q instanceof q&&Hn.call(q)==zo}var T2=Me?wt(Me):tB;function jB(T){return uB(T,A2(T))}function A2(T){return Mx(T)?YN(T):nB(T)}var PB=dB(function(T,D,q,be){k2(T,D,q,be)});function TB(T){return function(){return T}}function E2(T){return T}function AB(){return!1}t.exports=PB})(l0,l0.exports);var IW=l0.exports;const di=J0(IW);function Yt(t,e=[]){const n=S.useRef(t);return S.useEffect(()=>{n.current=t}),S.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function yh(t,e,n,r){const i=Yt(n);return S.useEffect(()=>{const s=typeof t=="function"?t():t??document;if(!(!n||!s))return s.addEventListener(e,i,r),()=>{s.removeEventListener(e,i,r)}},[e,t,r,i,n]),()=>{const s=typeof t=="function"?t():t??document;s==null||s.removeEventListener(e,i,r)}}function _W(t){const{isOpen:e,ref:n}=t,[r,i]=S.useState(e),[s,o]=S.useState(!1);return S.useEffect(()=>{s||(i(e),o(!0))},[e,s,r]),yh(()=>n.current,"animationend",()=>{i(e)}),{present:!(e?!1:!r),onComplete(){var d;const l=oW(n.current),u=new l.CustomEvent("animationend",{bubbles:!0});(d=n.current)==null||d.dispatchEvent(u)}}}function Vk(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=(f,p)=>f!==p}=t,s=Yt(r),o=Yt(i),[a,l]=S.useState(n),u=e!==void 0,d=u?e:a,h=Yt(f=>{const m=typeof f=="function"?f(d):f;o(d,m)&&(u||l(m),s(m))},[u,s,d,o]);return[d,h]}function NW(t={}){const{onChange:e,precision:n,defaultValue:r,value:i,step:s=1,min:o=Number.MIN_SAFE_INTEGER,max:a=Number.MAX_SAFE_INTEGER,keepWithinRange:l=!0}=t,u=Yt(e),[d,h]=S.useState(()=>r==null?"":lv(r,s,n)??""),f=typeof i<"u",p=f?i:d,m=GD(Bo(p),s),g=n??m,x=S.useCallback(A=>{A!==p&&(f||h(A.toString()),u==null||u(A.toString(),Bo(A)))},[u,f,p]),v=S.useCallback(A=>{let E=A;return l&&(E=rg(E,o,a)),Fk(E,g)},[g,l,a,o]),y=S.useCallback((A=s)=>{let E;p===""?E=Bo(A):E=Bo(p)+A,E=v(E),x(E)},[v,s,x,p]),b=S.useCallback((A=s)=>{let E;p===""?E=Bo(-A):E=Bo(p)-A,E=v(E),x(E)},[v,s,x,p]),w=S.useCallback(()=>{let A;r==null?A="":A=lv(r,s,n)??o,x(A)},[r,n,s,x,o]),k=S.useCallback(A=>{const E=lv(A,s,g)??o;x(E)},[g,s,x,o]),O=Bo(p);return{isOutOfRange:O>a||O<o,isAtMax:O===a,isAtMin:O===o,precision:g,value:p,valueAsNumber:O,update:x,reset:w,increment:y,decrement:b,clamp:v,cast:k,setValue:h}}function Bo(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function GD(t,e){return Math.max(_1(e),_1(t))}function lv(t,e,n){const r=Bo(t);if(Number.isNaN(r))return;const i=GD(r,e);return Fk(r,n??i)}function Yf(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=Yt(n),o=Yt(e),[a,l]=S.useState(t.defaultIsOpen||!1),u=r!==void 0?r:a,d=r!==void 0,h=S.useId(),f=i??`disclosure-${h}`,p=S.useCallback(()=>{d||l(!1),o==null||o()},[d,o]),m=S.useCallback(()=>{d||l(!0),s==null||s()},[d,s]),g=S.useCallback(()=>{u?p():m()},[u,m,p]);function x(y={}){return{...y,"aria-expanded":u,"aria-controls":f,onClick(b){var w;(w=y.onClick)==null||w.call(y,b),g()}}}function v(y={}){return{...y,hidden:!u,id:f}}return{isOpen:u,onOpen:m,onClose:p,onToggle:g,isControlled:d,getButtonProps:x,getDisclosureProps:v}}const Sl=globalThis!=null&&globalThis.document?S.useLayoutEffect:S.useEffect,ja=(t,e)=>{const n=S.useRef(!1),r=S.useRef(!1);S.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function BW(t){const e=t.current;if(!e)return!1;const n=lW(e);return!n||e.contains(n)?!1:!!wW(n)}function FW(t,e){const{visible:n,focusRef:r}=e,i=!n;ja(()=>{if(!i||BW(t))return;const s=(r==null?void 0:r.current)||t.current;let o;if(s)return o=requestAnimationFrame(()=>{s.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(o)}},[i,t,r])}function WW(t,e){const n=S.useId();return S.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function VW(t,...e){const n=WW(t);return S.useMemo(()=>e.map(r=>`${r}-${n}`),[n,e])}function QW(t,e){const n=Yt(t);S.useEffect(()=>{let r=null;const i=()=>n();return e!==null&&(r=window.setInterval(i,e)),()=>{r&&window.clearInterval(r)}},[e,n])}function XD(t){const e=S.useRef(null);return e.current=t,e}function HW(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Bt(...t){return e=>{t.forEach(n=>{HW(n,e)})}}function qW(...t){return S.useMemo(()=>Bt(...t),t)}function UW(t){const{ref:e,handler:n,enabled:r=!0}=t,i=Yt(n),o=S.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;S.useEffect(()=>{if(!r)return;const a=h=>{cv(h,e)&&(o.isPointerDown=!0)},l=h=>{if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.isPointerDown&&n&&cv(h,e)&&(o.isPointerDown=!1,i(h))},u=h=>{o.ignoreEmulatedMouseEvents=!0,n&&o.isPointerDown&&cv(h,e)&&(o.isPointerDown=!1,i(h))},d=KD(e.current);return d.addEventListener("mousedown",a,!0),d.addEventListener("mouseup",l,!0),d.addEventListener("touchstart",a,!0),d.addEventListener("touchend",u,!0),()=>{d.removeEventListener("mousedown",a,!0),d.removeEventListener("mouseup",l,!0),d.removeEventListener("touchstart",a,!0),d.removeEventListener("touchend",u,!0)}},[n,e,i,o,r])}function cv(t,e){var r,i;const n=((r=t.composedPath)==null?void 0:r.call(t)[0])??t.target;return n&&!KD(n).contains(n)?!1:!((i=e.current)!=null&&i.contains(n))}function KD(t){return(t==null?void 0:t.ownerDocument)??document}function GW(t,e){const n=Yt(t);S.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}const YD=1/60*1e3,XW=typeof performance<"u"?()=>performance.now():()=>Date.now(),ZD=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(XW()),YD);function KW(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.indexOf(l)===-1&&(f.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const d=e[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const YW=40;let N1=!0,tf=!1,B1=!1;const Xc={delta:0,timestamp:0},Zf=["read","update","preRender","render","postRender"],by=Zf.reduce((t,e)=>(t[e]=KW(()=>tf=!0),t),{}),ZW=Zf.reduce((t,e)=>{const n=by[e];return t[e]=(r,i=!1,s=!1)=>(tf||t8(),n.schedule(r,i,s)),t},{}),JW=Zf.reduce((t,e)=>(t[e]=by[e].cancel,t),{});Zf.reduce((t,e)=>(t[e]=()=>by[e].process(Xc),t),{});const e8=t=>by[t].process(Xc),JD=t=>{tf=!1,Xc.delta=N1?YD:Math.max(Math.min(t-Xc.timestamp,YW),1),Xc.timestamp=t,B1=!0,Zf.forEach(e8),B1=!1,tf&&(N1=!1,ZD(JD))},t8=()=>{tf=!0,N1=!0,B1||ZD(JD)},Gj=()=>Xc;var n8=Object.defineProperty,r8=(t,e,n)=>e in t?n8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_i=(t,e,n)=>(r8(t,typeof e!="symbol"?e+"":e,n),n);class i8{constructor(e,n,r){if(_i(this,"history",[]),_i(this,"startEvent",null),_i(this,"lastEvent",null),_i(this,"lastEventInfo",null),_i(this,"handlers",{}),_i(this,"removeListeners",()=>{}),_i(this,"threshold",3),_i(this,"win"),_i(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const a=uv(this.lastEventInfo,this.history),l=this.startEvent!==null,u=l8(a.offset,{x:0,y:0})>=this.threshold;if(!l&&!u)return;const{timestamp:d}=Gj();this.history.push({...a.point,timestamp:d});const{onStart:h,onMove:f}=this.handlers;l||(h==null||h(this.lastEvent,a),this.startEvent=this.lastEvent),f==null||f(this.lastEvent,a)}),_i(this,"onPointerMove",(a,l)=>{this.lastEvent=a,this.lastEventInfo=l,ZW.update(this.updatePoint,!0)}),_i(this,"onPointerUp",(a,l)=>{const u=uv(l,this.history),{onEnd:d,onSessionEnd:h}=this.handlers;h==null||h(a,u),this.end(),!(!d||!this.startEvent)&&(d==null||d(a,u))}),this.win=e.view??window,uW(e))return;this.handlers=n,r&&(this.threshold=r),e.stopPropagation(),e.preventDefault();const i={point:ND(e)},{timestamp:s}=Gj();this.history=[{...i.point,timestamp:s}];const{onSessionStart:o}=n;o==null||o(e,uv(i,this.history)),this.removeListeners=a8(ng(this.win,"pointermove",this.onPointerMove),ng(this.win,"pointerup",this.onPointerUp),ng(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;(e=this.removeListeners)==null||e.call(this),JW.update(this.updatePoint)}}function Xj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uv(t,e){return{point:t.point,delta:Xj(t.point,e[e.length-1]),offset:Xj(t.point,e[0]),velocity:o8(e,.1)}}const s8=t=>t*1e3;function o8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=t[t.length-1];for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>s8(e)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function a8(...t){return e=>t.reduce((n,r)=>r(n),e)}function dv(t,e){return Math.abs(t-e)}function Kj(t){return"x"in t&&"y"in t}function l8(t,e){if(typeof t=="number"&&typeof e=="number")return dv(t,e);if(Kj(t)&&Kj(e)){const n=dv(t.x,e.x),r=dv(t.y,e.y);return Math.sqrt(n**2+r**2)}return 0}function c8(t,e){const{onPan:n,onPanStart:r,onPanEnd:i,onPanSessionStart:s,onPanSessionEnd:o,threshold:a}=e,l=!!(n||r||i||s||o),u=S.useRef(null),d=XD({onSessionStart:s,onSessionEnd:o,onStart:r,onMove:n,onEnd(h,f){u.current=null,i==null||i(h,f)}});S.useEffect(()=>{var h;(h=u.current)==null||h.updateHandlers(d.current)}),S.useEffect(()=>{const h=t.current;if(!h||!l)return;function f(p){u.current=new i8(p,d.current,a)}return ng(h,"pointerdown",f)},[t,l,d,a]),S.useEffect(()=>()=>{var h;(h=u.current)==null||h.end(),u.current=null},[])}const an={open:(t,e)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${e}`,closed:(t,e)=>`${t}[data-closed], ${t}[data-state=closed] ${e}`,hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},ss=t=>e5(e=>t(e,"&"),"[role=group]","[data-group]",".group"),Hs=t=>e5(e=>t(e,"~ &"),"[data-peer]",".peer"),e5=(t,...e)=>e.map(t).join(", "),Kc={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:ss(an.open),_groupClosed:ss(an.closed),_groupHover:ss(an.hover),_peerHover:Hs(an.hover),_groupFocus:ss(an.focus),_peerFocus:Hs(an.focus),_groupFocusVisible:ss(an.focusVisible),_peerFocusVisible:Hs(an.focusVisible),_groupActive:ss(an.active),_peerActive:Hs(an.active),_groupDisabled:ss(an.disabled),_peerDisabled:Hs(an.disabled),_groupInvalid:ss(an.invalid),_peerInvalid:Hs(an.invalid),_groupChecked:ss(an.checked),_peerChecked:Hs(an.checked),_groupFocusWithin:ss(an.focusWithin),_peerFocusWithin:Hs(an.focusWithin),_peerPlaceholderShown:Hs(an.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},t5=Object.keys(Kc),u8=t=>/!(important)?$/.test(t),Yj=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,d8=(t,e)=>n=>{const r=String(e),i=u8(r),s=Yj(r),o=t?`${t}.${s}`:s;let a=tr(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=Yj(a),i?`${a} !important`:a};function Qk(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{const a=d8(e,s)(o);let l=(n==null?void 0:n(a,o))??a;return r&&(l=r(l,o)),l}}const Zp=(...t)=>e=>t.reduce((n,r)=>r(n),e);function ei(t,e){return n=>{const r={property:n,scale:t};return r.transform=Qk({scale:t,transform:e}),r}}const h8=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function f8(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:h8(e),transform:n?Qk({scale:n,compose:r}):r}}const n5=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function p8(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...n5].join(" ")}function m8(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...n5].join(" ")}const g8={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},y8={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function x8(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const v8={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},F1={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},b8=new Set(Object.values(F1)),W1=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),S8=t=>t.trim();function w8(t,e){if(t==null||W1.has(t))return t;if(!(V1(t)||W1.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...u]=o.split(",").map(S8).filter(Boolean);if((u==null?void 0:u.length)===0)return t;const d=l in F1?F1[l]:l;u.unshift(d);const h=u.map(f=>{if(b8.has(f))return f;const p=f.indexOf(" "),[m,g]=p!==-1?[f.substr(0,p),f.substr(p+1)]:[f],x=V1(g)?g:g&&g.split(" "),v=`colors.${m}`,y=v in e.__cssMap?e.__cssMap[v].varRef:m;return x?[y,...Array.isArray(x)?x:[x]].join(" "):y});return`${a}(${h.join(", ")})`}const V1=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),k8=(t,e)=>w8(t,e??{});function C8(t){return/^var\(--.+\)$/.test(t)}const O8=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},os=t=>e=>`${t}(${e})`,qe={filter(t){return t!=="auto"?t:g8},backdropFilter(t){return t!=="auto"?t:y8},ring(t){return x8(qe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?p8():t==="auto-gpu"?m8():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=O8(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(C8(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:k8,blur:os("blur"),opacity:os("opacity"),brightness:os("brightness"),contrast:os("contrast"),dropShadow:os("drop-shadow"),grayscale:os("grayscale"),hueRotate:t=>os("hue-rotate")(qe.degree(t)),invert:os("invert"),saturate:os("saturate"),sepia:os("sepia"),bgImage(t){return t==null||V1(t)||W1.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:e,divide:n}=v8[t]??{},r={flexDirection:t};return e&&(r[e]=1),n&&(r[n]=1),r}},z={borderWidths:ei("borderWidths"),borderStyles:ei("borderStyles"),colors:ei("colors"),borders:ei("borders"),gradients:ei("gradients",qe.gradient),radii:ei("radii",qe.px),space:ei("space",Zp(qe.vh,qe.px)),spaceT:ei("space",Zp(qe.vh,qe.px)),degreeT(t){return{property:t,transform:qe.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Qk({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:ei("sizes",Zp(qe.vh,qe.px)),sizesT:ei("sizes",Zp(qe.vh,qe.fraction)),shadows:ei("shadows"),logical:f8,blur:ei("blur",qe.blur)},ig={background:z.colors("background"),backgroundColor:z.colors("backgroundColor"),backgroundImage:z.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:qe.bgClip},bgSize:z.prop("backgroundSize"),bgPosition:z.prop("backgroundPosition"),bg:z.colors("background"),bgColor:z.colors("backgroundColor"),bgPos:z.prop("backgroundPosition"),bgRepeat:z.prop("backgroundRepeat"),bgAttachment:z.prop("backgroundAttachment"),bgGradient:z.gradients("backgroundImage"),bgClip:{transform:qe.bgClip}};Object.assign(ig,{bgImage:ig.backgroundImage,bgImg:ig.backgroundImage});const it={border:z.borders("border"),borderWidth:z.borderWidths("borderWidth"),borderStyle:z.borderStyles("borderStyle"),borderColor:z.colors("borderColor"),borderRadius:z.radii("borderRadius"),borderTop:z.borders("borderTop"),borderBlockStart:z.borders("borderBlockStart"),borderTopLeftRadius:z.radii("borderTopLeftRadius"),borderStartStartRadius:z.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:z.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:z.radii("borderTopRightRadius"),borderStartEndRadius:z.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:z.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:z.borders("borderRight"),borderInlineEnd:z.borders("borderInlineEnd"),borderBottom:z.borders("borderBottom"),borderBlockEnd:z.borders("borderBlockEnd"),borderBottomLeftRadius:z.radii("borderBottomLeftRadius"),borderBottomRightRadius:z.radii("borderBottomRightRadius"),borderLeft:z.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:z.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:z.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:z.borders(["borderLeft","borderRight"]),borderInline:z.borders("borderInline"),borderY:z.borders(["borderTop","borderBottom"]),borderBlock:z.borders("borderBlock"),borderTopWidth:z.borderWidths("borderTopWidth"),borderBlockStartWidth:z.borderWidths("borderBlockStartWidth"),borderTopColor:z.colors("borderTopColor"),borderBlockStartColor:z.colors("borderBlockStartColor"),borderTopStyle:z.borderStyles("borderTopStyle"),borderBlockStartStyle:z.borderStyles("borderBlockStartStyle"),borderBottomWidth:z.borderWidths("borderBottomWidth"),borderBlockEndWidth:z.borderWidths("borderBlockEndWidth"),borderBottomColor:z.colors("borderBottomColor"),borderBlockEndColor:z.colors("borderBlockEndColor"),borderBottomStyle:z.borderStyles("borderBottomStyle"),borderBlockEndStyle:z.borderStyles("borderBlockEndStyle"),borderLeftWidth:z.borderWidths("borderLeftWidth"),borderInlineStartWidth:z.borderWidths("borderInlineStartWidth"),borderLeftColor:z.colors("borderLeftColor"),borderInlineStartColor:z.colors("borderInlineStartColor"),borderLeftStyle:z.borderStyles("borderLeftStyle"),borderInlineStartStyle:z.borderStyles("borderInlineStartStyle"),borderRightWidth:z.borderWidths("borderRightWidth"),borderInlineEndWidth:z.borderWidths("borderInlineEndWidth"),borderRightColor:z.colors("borderRightColor"),borderInlineEndColor:z.colors("borderInlineEndColor"),borderRightStyle:z.borderStyles("borderRightStyle"),borderInlineEndStyle:z.borderStyles("borderInlineEndStyle"),borderTopRadius:z.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:z.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:z.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:z.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(it,{rounded:it.borderRadius,roundedTop:it.borderTopRadius,roundedTopLeft:it.borderTopLeftRadius,roundedTopRight:it.borderTopRightRadius,roundedTopStart:it.borderStartStartRadius,roundedTopEnd:it.borderStartEndRadius,roundedBottom:it.borderBottomRadius,roundedBottomLeft:it.borderBottomLeftRadius,roundedBottomRight:it.borderBottomRightRadius,roundedBottomStart:it.borderEndStartRadius,roundedBottomEnd:it.borderEndEndRadius,roundedLeft:it.borderLeftRadius,roundedRight:it.borderRightRadius,roundedStart:it.borderInlineStartRadius,roundedEnd:it.borderInlineEndRadius,borderStart:it.borderInlineStart,borderEnd:it.borderInlineEnd,borderTopStartRadius:it.borderStartStartRadius,borderTopEndRadius:it.borderStartEndRadius,borderBottomStartRadius:it.borderEndStartRadius,borderBottomEndRadius:it.borderEndEndRadius,borderStartRadius:it.borderInlineStartRadius,borderEndRadius:it.borderInlineEndRadius,borderStartWidth:it.borderInlineStartWidth,borderEndWidth:it.borderInlineEndWidth,borderStartColor:it.borderInlineStartColor,borderEndColor:it.borderInlineEndColor,borderStartStyle:it.borderInlineStartStyle,borderEndStyle:it.borderInlineEndStyle});const j8={color:z.colors("color"),textColor:z.colors("color"),fill:z.colors("fill"),stroke:z.colors("stroke"),accentColor:z.colors("accentColor"),textFillColor:z.colors("textFillColor")},c0={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:qe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:z.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:z.space("gap"),rowGap:z.space("rowGap"),columnGap:z.space("columnGap")};Object.assign(c0,{flexDir:c0.flexDirection});const ni={width:z.sizesT("width"),inlineSize:z.sizesT("inlineSize"),height:z.sizes("height"),blockSize:z.sizes("blockSize"),boxSize:z.sizes(["width","height"]),minWidth:z.sizes("minWidth"),minInlineSize:z.sizes("minInlineSize"),minHeight:z.sizes("minHeight"),minBlockSize:z.sizes("minBlockSize"),maxWidth:z.sizes("maxWidth"),maxInlineSize:z.sizes("maxInlineSize"),maxHeight:z.sizes("maxHeight"),maxBlockSize:z.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var i,s;return{[`@media screen and (min-width: ${((s=(i=e.__breakpoints)==null?void 0:i.get(t))==null?void 0:s.minW)??t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var i,s;return{[`@media screen and (max-width: ${((s=(i=e.__breakpoints)==null?void 0:i.get(t))==null?void 0:s._minW)??t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:z.propT("float",qe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ni,{w:ni.width,h:ni.height,minW:ni.minWidth,maxW:ni.maxWidth,minH:ni.minHeight,maxH:ni.maxHeight,overscroll:ni.overscrollBehavior,overscrollX:ni.overscrollBehaviorX,overscrollY:ni.overscrollBehaviorY});const P8={filter:{transform:qe.filter},blur:z.blur("--chakra-blur"),brightness:z.propT("--chakra-brightness",qe.brightness),contrast:z.propT("--chakra-contrast",qe.contrast),hueRotate:z.propT("--chakra-hue-rotate",qe.hueRotate),invert:z.propT("--chakra-invert",qe.invert),saturate:z.propT("--chakra-saturate",qe.saturate),dropShadow:z.propT("--chakra-drop-shadow",qe.dropShadow),backdropFilter:{transform:qe.backdropFilter},backdropBlur:z.blur("--chakra-backdrop-blur"),backdropBrightness:z.propT("--chakra-backdrop-brightness",qe.brightness),backdropContrast:z.propT("--chakra-backdrop-contrast",qe.contrast),backdropHueRotate:z.propT("--chakra-backdrop-hue-rotate",qe.hueRotate),backdropInvert:z.propT("--chakra-backdrop-invert",qe.invert),backdropSaturate:z.propT("--chakra-backdrop-saturate",qe.saturate)},T8={ring:{transform:qe.ring},ringColor:z.colors("--chakra-ring-color"),ringOffset:z.prop("--chakra-ring-offset-width"),ringOffsetColor:z.colors("--chakra-ring-offset-color"),ringInset:z.prop("--chakra-ring-inset")},A8={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:qe.outline},outlineOffset:!0,outlineColor:z.colors("outlineColor")},r5={gridGap:z.space("gridGap"),gridColumnGap:z.space("gridColumnGap"),gridRowGap:z.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function E8(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}const M8=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},R8=M8(E8),z8={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},D8={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},hv=(t,e,n)=>{const r={},i=R8(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},$8={srOnly:{transform(t){return t===!0?z8:t==="focusable"?D8:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>hv(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>hv(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>hv(e,t,n)}},xh={position:!0,pos:z.prop("position"),zIndex:z.prop("zIndex","zIndices"),inset:z.spaceT("inset"),insetX:z.spaceT(["left","right"]),insetInline:z.spaceT("insetInline"),insetY:z.spaceT(["top","bottom"]),insetBlock:z.spaceT("insetBlock"),top:z.spaceT("top"),insetBlockStart:z.spaceT("insetBlockStart"),bottom:z.spaceT("bottom"),insetBlockEnd:z.spaceT("insetBlockEnd"),left:z.spaceT("left"),insetInlineStart:z.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:z.spaceT("right"),insetInlineEnd:z.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(xh,{insetStart:xh.insetInlineStart,insetEnd:xh.insetInlineEnd});const Q1={boxShadow:z.shadows("boxShadow"),mixBlendMode:!0,blendMode:z.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:z.prop("backgroundBlendMode"),opacity:!0};Object.assign(Q1,{shadow:Q1.boxShadow});const Tt={margin:z.spaceT("margin"),marginTop:z.spaceT("marginTop"),marginBlockStart:z.spaceT("marginBlockStart"),marginRight:z.spaceT("marginRight"),marginInlineEnd:z.spaceT("marginInlineEnd"),marginBottom:z.spaceT("marginBottom"),marginBlockEnd:z.spaceT("marginBlockEnd"),marginLeft:z.spaceT("marginLeft"),marginInlineStart:z.spaceT("marginInlineStart"),marginX:z.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:z.spaceT("marginInline"),marginY:z.spaceT(["marginTop","marginBottom"]),marginBlock:z.spaceT("marginBlock"),padding:z.space("padding"),paddingTop:z.space("paddingTop"),paddingBlockStart:z.space("paddingBlockStart"),paddingRight:z.space("paddingRight"),paddingBottom:z.space("paddingBottom"),paddingBlockEnd:z.space("paddingBlockEnd"),paddingLeft:z.space("paddingLeft"),paddingInlineStart:z.space("paddingInlineStart"),paddingInlineEnd:z.space("paddingInlineEnd"),paddingX:z.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:z.space("paddingInline"),paddingY:z.space(["paddingTop","paddingBottom"]),paddingBlock:z.space("paddingBlock")};Object.assign(Tt,{m:Tt.margin,mt:Tt.marginTop,mr:Tt.marginRight,me:Tt.marginInlineEnd,marginEnd:Tt.marginInlineEnd,mb:Tt.marginBottom,ml:Tt.marginLeft,ms:Tt.marginInlineStart,marginStart:Tt.marginInlineStart,mx:Tt.marginX,my:Tt.marginY,p:Tt.padding,pt:Tt.paddingTop,py:Tt.paddingY,px:Tt.paddingX,pb:Tt.paddingBottom,pl:Tt.paddingLeft,ps:Tt.paddingInlineStart,paddingStart:Tt.paddingInlineStart,pr:Tt.paddingRight,pe:Tt.paddingInlineEnd,paddingEnd:Tt.paddingInlineEnd});const L8={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:z.spaceT("scrollMargin"),scrollMarginTop:z.spaceT("scrollMarginTop"),scrollMarginBottom:z.spaceT("scrollMarginBottom"),scrollMarginLeft:z.spaceT("scrollMarginLeft"),scrollMarginRight:z.spaceT("scrollMarginRight"),scrollMarginX:z.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:z.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:z.spaceT("scrollPadding"),scrollPaddingTop:z.spaceT("scrollPaddingTop"),scrollPaddingBottom:z.spaceT("scrollPaddingBottom"),scrollPaddingLeft:z.spaceT("scrollPaddingLeft"),scrollPaddingRight:z.spaceT("scrollPaddingRight"),scrollPaddingX:z.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:z.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},I8={fontFamily:z.prop("fontFamily","fonts"),fontSize:z.prop("fontSize","fontSizes",qe.px),fontWeight:z.prop("fontWeight","fontWeights"),lineHeight:z.prop("lineHeight","lineHeights"),letterSpacing:z.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},_8={textDecorationColor:z.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:z.shadows("textShadow")},N8={clipPath:!0,transform:z.propT("transform",qe.transform),transformOrigin:!0,translateX:z.spaceT("--chakra-translate-x"),translateY:z.spaceT("--chakra-translate-y"),skewX:z.degreeT("--chakra-skew-x"),skewY:z.degreeT("--chakra-skew-y"),scaleX:z.prop("--chakra-scale-x"),scaleY:z.prop("--chakra-scale-y"),scale:z.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:z.degreeT("--chakra-rotate")},B8={listStyleType:!0,listStylePosition:!0,listStylePos:z.prop("listStylePosition"),listStyleImage:!0,listStyleImg:z.prop("listStyleImage")},F8={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:z.prop("transitionDuration","transition.duration"),transitionProperty:z.prop("transitionProperty","transition.property"),transitionTimingFunction:z.prop("transitionTimingFunction","transition.easing")},Hk=di({},ig,it,j8,c0,ni,P8,T8,A8,r5,$8,xh,Q1,Tt,L8,I8,_8,N8,B8,F8),W8=Object.assign({},Tt,ni,c0,r5,xh),V8=Object.keys(W8),Q8=[...Object.keys(Hk),...t5],H8={...Hk,...Kc},q8=t=>t in H8,U8=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=Nr(t[o],e);if(a==null)continue;if(a=tr(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const d=i==null?void 0:i[u];if(!d){s[o]=a[u];continue}s[d]=s[d]||{},a[u]!=null&&(s[d][o]=a[u])}}return s};function G8(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function X8(t){return/^var\(--.+\)$/.test(t)}const K8=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!X8(e),Y8=(t,e)=>{if(e==null)return e;const n=o=>{var a,l;return(l=(a=t.__cssMap)==null?void 0:a[o])==null?void 0:l.varRef},r=o=>n(o)??o,[i,s]=G8(e);return e=n(i)??r(s)??r(e),e};function Z8(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var d;const a=Nr(s,r),l=U8(a)(r);let u={};for(let h in l){const f=l[h];let p=Nr(f,r);h in n&&(h=n[h]),K8(h,p)&&(p=Y8(r,p));let m=e[h];if(m===!0&&(m={property:h}),tr(p)){u[h]=u[h]??{},u[h]=di({},u[h],i(p,!0));continue}let g=((d=m==null?void 0:m.transform)==null?void 0:d.call(m,p,r,a))??p;g=m!=null&&m.processResult?i(g,!0):g;const x=Nr(m==null?void 0:m.property,r);if(!o&&(m!=null&&m.static)){const v=Nr(m.static,r);u=di({},u,v)}if(x&&Array.isArray(x)){for(const v of x)u[v]=g;continue}if(x){x==="&"&&tr(g)?u=di({},u,g):u[x]=g;continue}if(tr(g)){u=di({},u,g);continue}u[h]=g}return u};return i}const i5=t=>e=>Z8({theme:e,pseudos:Kc,configs:Hk})(t);function jt(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function J8(t,e,n){var r,i;return((i=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:i.varRef)??n}function eV(t,e){if(Array.isArray(t))return t;if(tr(t))return e(t);if(t!=null)return[t]}function tV(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function nV(t){const e=t.__breakpoints;return function(r,i,s,o){var f,p;if(!e)return;const a={},l=eV(s,e.toArrayValue);if(!l)return a;const u=l.length,d=u===1,h=!!r.parts;for(let m=0;m<u;m++){const g=e.details[m],x=e.details[tV(l,m)],v=qd(g.minW,x==null?void 0:x._minW),y=Nr((f=r[i])==null?void 0:f[l[m]],o);if(y){if(h){(p=r.parts)==null||p.forEach(b=>{di(a,{[b]:d?y[b]:{[v]:y[b]}})});continue}if(!h){d?di(a,y):a[v]=y;continue}a[v]=y}}return a}}function rV(t){return e=>{const{variant:n,size:r,theme:i}=e,s=nV(i);return di({},Nr(t.baseStyle??{},e),s(t,"sizes",r,e),s(t,"variants",n,e))}}function pt(t){return vy(t,["styleConfig","size","variant","colorScheme"])}function s5(t){return tr(t)&&t.reference?t.reference:String(t)}const Sy=(t,...e)=>e.map(s5).join(` ${t} `).replace(/calc/g,""),Zj=(...t)=>`calc(${Sy("+",...t)})`,Jj=(...t)=>`calc(${Sy("-",...t)})`,H1=(...t)=>`calc(${Sy("*",...t)})`,eP=(...t)=>`calc(${Sy("/",...t)})`,tP=t=>{const e=s5(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:H1(e,-1)},no=Object.assign(t=>({add:(...e)=>no(Zj(t,...e)),subtract:(...e)=>no(Jj(t,...e)),multiply:(...e)=>no(H1(t,...e)),divide:(...e)=>no(eP(t,...e)),negate:()=>no(tP(t)),toString:()=>t.toString()}),{add:Zj,subtract:Jj,multiply:H1,divide:eP,negate:tP});function iV(t,e="-"){return t.replace(/\s+/g,e)}function sV(t){const e=iV(t.toString());return aV(oV(e))}function oV(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function aV(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function lV(t,e=""){return[e,t].filter(Boolean).join("-")}function cV(t,e){return`var(${t}${e?`, ${e}`:""})`}function uV(t,e=""){return sV(`--${lV(t,e)}`)}function Ee(t,e,n){const r=uV(t,n);return{variable:r,reference:cV(r,e)}}function dV(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=Ee(`${t}-${i}`,s);continue}n[r]=Ee(`${t}-${r}`)}return n}const hV=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function fV(t){return qD(t,hV)}function pV(t){return t.semanticTokens}function mV(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}function gV(t){const e=fV(t),n=pV(t),r=s=>t5.includes(s)||s==="default",i={};return Uj(e,(s,o)=>{s!=null&&(i[o.join(".")]={isSemantic:!1,value:s})}),Uj(n,(s,o)=>{s!=null&&(i[o.join(".")]={isSemantic:!0,value:s})},{stop:s=>Object.keys(s).every(r)}),i}function nP(t,e){return Ee(String(t).replace(/\./g,"-"),void 0,e)}function yV(t){var o;const e=gV(t),n=(o=t.config)==null?void 0:o.cssVarPrefix;let r={};const i={};function s(a,l){const d=[String(a).split(".")[0],l].join(".");if(!e[d])return l;const{reference:f}=nP(d,n);return f}for(const[a,l]of Object.entries(e)){const{isSemantic:u,value:d}=l,{variable:h,reference:f}=nP(a,n);if(!u){if(a.startsWith("space")){const m=a.split("."),[g,...x]=m,v=`${g}.-${x.join(".")}`,y=no.negate(d),b=no.negate(f);i[v]={value:y,var:h,varRef:b}}r[h]=d,i[a]={value:d,var:h,varRef:f};continue}const p=tr(d)?d:{default:d};r=di(r,Object.entries(p).reduce((m,[g,x])=>{if(!x)return m;const v=s(a,`${x}`);if(g==="default")return m[h]=v,m;const y=(Kc==null?void 0:Kc[g])??g;return m[y]={[h]:v},m},{})),i[a]={value:f,var:h,varRef:f}}return{cssVars:r,cssMap:i}}function xV(t){const e=mV(t),{cssMap:n,cssVars:r}=yV(e);return Object.assign(e,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...r},__cssMap:n,__breakpoints:vW(e.breakpoints)}),e}function lt(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...d){r();for(const h of d)e[h]=l(h);return lt(t,e)}function s(...d){for(const h of d)h in e||(e[h]=l(h));return lt(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([h,f])=>[h,f.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([h,f])=>[h,f.className]))}function l(d){const p=`chakra-${(["container","root"].includes(d??"")?[t]:[t,d]).filter(Boolean).join("__")}`;return{className:p,selector:`.${p}`,toString:()=>d}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}const vV=lt("accordion").parts("root","container","button","panel","icon"),bV=lt("alert").parts("title","description","container","icon","spinner"),SV=lt("avatar").parts("label","badge","container","excessLabel","group"),wV=lt("breadcrumb").parts("link","item","container","separator");lt("button").parts();const kV=lt("checkbox").parts("control","icon","container","label");lt("progress").parts("track","filledTrack","label");const CV=lt("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),OV=lt("editable").parts("preview","input","textarea"),jV=lt("form").parts("container","requiredIndicator","helperText"),PV=lt("formError").parts("text","icon"),TV=lt("input").parts("addon","field","element","group"),AV=lt("list").parts("container","item","icon"),EV=lt("menu").parts("button","list","item","groupTitle","icon","command","divider"),MV=lt("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),RV=lt("numberinput").parts("root","field","stepperGroup","stepper");lt("pininput").parts("field");const zV=lt("popover").parts("content","header","body","footer","popper","arrow","closeButton"),DV=lt("progress").parts("label","filledTrack","track"),$V=lt("radio").parts("container","control","label"),LV=lt("select").parts("field","icon"),IV=lt("slider").parts("container","track","thumb","filledTrack","mark"),_V=lt("stat").parts("container","label","helpText","number","icon"),NV=lt("switch").parts("container","track","thumb","label"),BV=lt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),FV=lt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),WV=lt("tag").parts("container","label","closeButton"),VV=lt("card").parts("container","header","body","footer");lt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:QV,defineMultiStyleConfig:HV}=jt(vV.keys),qV={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},UV={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},GV={pt:"2",px:"4",pb:"5"},XV={fontSize:"1.25em"},KV=QV({container:qV,button:UV,panel:GV,icon:XV}),YV=HV({baseStyle:KV});function il(t,e,n){return Math.min(Math.max(t,n),e)}class ZV extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Ud=ZV;function qk(t){if(typeof t!="string")throw new Ud(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=o9.test(t)?t9(t):t;const n=n9.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(nf(a,2),16)),parseInt(nf(o[3]||"f",2),16)/255]}const r=r9.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=i9.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=s9.exec(e);if(s){const[o,a,l,u]=Array.from(s).slice(1).map(parseFloat);if(il(0,100,a)!==a)throw new Ud(t);if(il(0,100,l)!==l)throw new Ud(t);return[...a9(o,a,l),Number.isNaN(u)?1:u]}throw new Ud(t)}function JV(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const rP=t=>parseInt(t.replace(/_/g,""),36),e9="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=rP(e.substring(0,3)),r=rP(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function t9(t){const e=t.toLowerCase().trim(),n=e9[JV(e)];if(!n)throw new Ud(t);return`#${n}`}const nf=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),n9=new RegExp(`^#${nf("([a-f0-9])",3)}([a-f0-9])?$`,"i"),r9=new RegExp(`^#${nf("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),i9=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${nf(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),s9=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,o9=/^[a-z]+$/i,iP=t=>Math.round(t*255),a9=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(iP);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,u=o):i>=3&&i<4?(l=o,u=s):i>=4&&i<5?(a=o,u=s):i>=5&&i<6&&(a=s,u=o);const d=r-s/2,h=a+d,f=l+d,p=u+d;return[h,f,p].map(iP)};function l9(t,e,n,r){return`rgba(${il(0,255,t).toFixed()}, ${il(0,255,e).toFixed()}, ${il(0,255,n).toFixed()}, ${parseFloat(il(0,1,r).toFixed(3))})`}function c9(t,e){const[n,r,i,s]=qk(t);return l9(n,r,i,s-e)}function u9(t){const[e,n,r,i]=qk(t);let s=o=>{const a=il(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}const d9=t=>Object.keys(t).length===0;function h9(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}const Jn=(t,e,n)=>{const r=h9(t,`colors.${e}`,e);try{return u9(r),r}catch{return"#000000"}},f9=t=>{const[e,n,r]=qk(t);return(e*299+n*587+r*114)/1e3},p9=t=>e=>{const n=Jn(e,t);return f9(n)<128?"dark":"light"},m9=t=>e=>p9(t)(e)==="dark",Lu=(t,e)=>n=>{const r=Jn(n,t);return c9(r,1-e)};function sP(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const g9=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function y9(t){const e=g9();return!t||d9(t)?e:t.string&&t.colors?v9(t.string,t.colors):t.string&&!t.colors?x9(t.string):t.colors&&!t.string?b9(t.colors):e}function x9(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function v9(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function b9(t){return t[Math.floor(Math.random()*t.length)]}function Ae(t,e){return n=>n.colorMode==="dark"?e:t}function Uk(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function o5(t){return tr(t)&&t.reference?t.reference:String(t)}const wy=(t,...e)=>e.map(o5).join(` ${t} `).replace(/calc/g,""),oP=(...t)=>`calc(${wy("+",...t)})`,aP=(...t)=>`calc(${wy("-",...t)})`,q1=(...t)=>`calc(${wy("*",...t)})`,lP=(...t)=>`calc(${wy("/",...t)})`,cP=t=>{const e=o5(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:q1(e,-1)},ro=Object.assign(t=>({add:(...e)=>ro(oP(t,...e)),subtract:(...e)=>ro(aP(t,...e)),multiply:(...e)=>ro(q1(t,...e)),divide:(...e)=>ro(lP(t,...e)),negate:()=>ro(cP(t)),toString:()=>t.toString()}),{add:oP,subtract:aP,multiply:q1,divide:lP,negate:cP});function S9(t){return!Number.isInteger(parseFloat(t.toString()))}function w9(t,e="-"){return t.replace(/\s+/g,e)}function a5(t){const e=w9(t.toString());return e.includes("\\.")?t:S9(t)?e.replace(".","\\."):t}function k9(t,e=""){return[e,a5(t)].filter(Boolean).join("-")}function C9(t,e){return`var(${a5(t)}${e?`, ${e}`:""})`}function O9(t,e=""){return`--${k9(t,e)}`}function mn(t,e){const n=O9(t,e==null?void 0:e.prefix);return{variable:n,reference:C9(n,j9(e==null?void 0:e.fallback))}}function j9(t){return t==null?void 0:t.reference}const{definePartsStyle:Jf,defineMultiStyleConfig:P9}=jt(bV.keys),Vr=Ee("alert-fg"),Oo=Ee("alert-bg"),T9=Jf({container:{bg:Oo.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Vr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Vr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Gk(t){const{theme:e,colorScheme:n}=t,r=Lu(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}const A9=Jf(t=>{const{colorScheme:e}=t,n=Gk(t);return{container:{[Vr.variable]:`colors.${e}.600`,[Oo.variable]:n.light,_dark:{[Vr.variable]:`colors.${e}.200`,[Oo.variable]:n.dark}}}}),E9=Jf(t=>{const{colorScheme:e}=t,n=Gk(t);return{container:{[Vr.variable]:`colors.${e}.600`,[Oo.variable]:n.light,_dark:{[Vr.variable]:`colors.${e}.200`,[Oo.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Vr.reference}}}),M9=Jf(t=>{const{colorScheme:e}=t,n=Gk(t);return{container:{[Vr.variable]:`colors.${e}.600`,[Oo.variable]:n.light,_dark:{[Vr.variable]:`colors.${e}.200`,[Oo.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Vr.reference}}}),R9=Jf(t=>{const{colorScheme:e}=t;return{container:{[Vr.variable]:"colors.white",[Oo.variable]:`colors.${e}.600`,_dark:{[Vr.variable]:"colors.gray.900",[Oo.variable]:`colors.${e}.200`},color:Vr.reference}}}),z9={subtle:A9,"left-accent":E9,"top-accent":M9,solid:R9},D9=P9({baseStyle:T9,variants:z9,defaultProps:{variant:"subtle",colorScheme:"blue"}}),l5={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},$9={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},L9={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},c5={...l5,...$9,container:L9},I9=t=>typeof t=="function";function nr(t,...e){return I9(t)?t(...e):t}const{definePartsStyle:u5,defineMultiStyleConfig:_9}=jt(SV.keys),Yc=Ee("avatar-border-color"),vh=Ee("avatar-bg"),rf=Ee("avatar-font-size"),Iu=Ee("avatar-size"),N9={borderRadius:"full",border:"0.2em solid",borderColor:Yc.reference,[Yc.variable]:"white",_dark:{[Yc.variable]:"colors.gray.800"}},B9={bg:vh.reference,fontSize:rf.reference,width:Iu.reference,height:Iu.reference,lineHeight:"1",[vh.variable]:"colors.gray.200",_dark:{[vh.variable]:"colors.whiteAlpha.400"}},F9=t=>{const{name:e,theme:n}=t,r=e?y9({string:e}):"colors.gray.400",i=m9(r)(n);let s="white";return i||(s="gray.800"),{bg:vh.reference,fontSize:rf.reference,color:s,borderColor:Yc.reference,verticalAlign:"top",width:Iu.reference,height:Iu.reference,"&:not([data-loaded])":{[vh.variable]:r},[Yc.variable]:"colors.white",_dark:{[Yc.variable]:"colors.gray.800"}}},W9={fontSize:rf.reference,lineHeight:"1"},V9=u5(t=>({badge:nr(N9,t),excessLabel:nr(B9,t),container:nr(F9,t),label:W9}));function _o(t){const e=t!=="100%"?c5[t]:void 0;return u5({container:{[Iu.variable]:e??t,[rf.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Iu.variable]:e??t,[rf.variable]:`calc(${e??t} / 2.5)`}})}const Q9={"2xs":_o(4),xs:_o(6),sm:_o(8),md:_o(12),lg:_o(16),xl:_o(24),"2xl":_o(32),full:_o("100%")},H9=_9({baseStyle:V9,sizes:Q9,defaultProps:{size:"md"}}),Jt=dV("badge",["bg","color","shadow"]),q9={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Jt.bg.reference,color:Jt.color.reference,boxShadow:Jt.shadow.reference},U9=t=>{const{colorScheme:e,theme:n}=t,r=Lu(`${e}.500`,.6)(n);return{[Jt.bg.variable]:`colors.${e}.500`,[Jt.color.variable]:"colors.white",_dark:{[Jt.bg.variable]:r,[Jt.color.variable]:"colors.whiteAlpha.800"}}},G9=t=>{const{colorScheme:e,theme:n}=t,r=Lu(`${e}.200`,.16)(n);return{[Jt.bg.variable]:`colors.${e}.100`,[Jt.color.variable]:`colors.${e}.800`,_dark:{[Jt.bg.variable]:r,[Jt.color.variable]:`colors.${e}.200`}}},X9=t=>{const{colorScheme:e,theme:n}=t,r=Lu(`${e}.200`,.8)(n);return{[Jt.color.variable]:`colors.${e}.500`,_dark:{[Jt.color.variable]:r},[Jt.shadow.variable]:`inset 0 0 0px 1px ${Jt.color.reference}`}},K9={solid:U9,subtle:G9,outline:X9},bh={baseStyle:q9,variants:K9,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Y9,definePartsStyle:Z9}=jt(wV.keys),fv=Ee("breadcrumb-link-decor"),J9={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:fv.reference,[fv.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[fv.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},eQ=Z9({link:J9}),tQ=Y9({baseStyle:eQ}),nQ={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},d5=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:Ae("gray.800","whiteAlpha.900")(t),_hover:{bg:Ae("gray.100","whiteAlpha.200")(t)},_active:{bg:Ae("gray.200","whiteAlpha.300")(t)}};const r=Lu(`${e}.200`,.12)(n),i=Lu(`${e}.200`,.24)(n);return{color:Ae(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Ae(`${e}.50`,r)(t)},_active:{bg:Ae(`${e}.100`,i)(t)}}},rQ=t=>{const{colorScheme:e}=t,n=Ae("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...nr(d5,t)}},iQ={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},sQ=t=>{const{colorScheme:e}=t;if(e==="gray"){const a=Ae("gray.100","whiteAlpha.200")(t);return{bg:a,color:Ae("gray.800","whiteAlpha.900")(t),_hover:{bg:Ae("gray.200","whiteAlpha.300")(t),_disabled:{bg:a}},_active:{bg:Ae("gray.300","whiteAlpha.400")(t)}}}const{bg:n=`${e}.500`,color:r="white",hoverBg:i=`${e}.600`,activeBg:s=`${e}.700`}=iQ[e]??{},o=Ae(n,`${e}.200`)(t);return{bg:o,color:Ae(r,"gray.800")(t),_hover:{bg:Ae(i,`${e}.300`)(t),_disabled:{bg:o}},_active:{bg:Ae(s,`${e}.400`)(t)}}},oQ=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ae(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ae(`${e}.700`,`${e}.500`)(t)}}},aQ={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},lQ={ghost:d5,outline:rQ,solid:sQ,link:oQ,unstyled:aQ},cQ={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},uQ={baseStyle:nQ,variants:lQ,sizes:cQ,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:wl,defineMultiStyleConfig:dQ}=jt(VV.keys),u0=Ee("card-bg"),go=Ee("card-padding"),h5=Ee("card-shadow"),sg=Ee("card-radius"),f5=Ee("card-border-width","0"),p5=Ee("card-border-color"),hQ=wl({container:{[u0.variable]:"colors.chakra-body-bg",backgroundColor:u0.reference,boxShadow:h5.reference,borderRadius:sg.reference,color:"chakra-body-text",borderWidth:f5.reference,borderColor:p5.reference},body:{padding:go.reference,flex:"1 1 0%"},header:{padding:go.reference},footer:{padding:go.reference}}),fQ={sm:wl({container:{[sg.variable]:"radii.base",[go.variable]:"space.3"}}),md:wl({container:{[sg.variable]:"radii.md",[go.variable]:"space.5"}}),lg:wl({container:{[sg.variable]:"radii.xl",[go.variable]:"space.7"}})},pQ={elevated:wl({container:{[h5.variable]:"shadows.base",_dark:{[u0.variable]:"colors.gray.700"}}}),outline:wl({container:{[f5.variable]:"1px",[p5.variable]:"colors.chakra-border-color"}}),filled:wl({container:{[u0.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[go.variable]:0},header:{[go.variable]:0},footer:{[go.variable]:0}}},mQ=dQ({baseStyle:hQ,variants:pQ,sizes:fQ,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:og,defineMultiStyleConfig:gQ}=jt(kV.keys),Sh=Ee("checkbox-size"),yQ=t=>{const{colorScheme:e}=t;return{w:Sh.reference,h:Sh.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ae(`${e}.500`,`${e}.200`)(t),borderColor:Ae(`${e}.500`,`${e}.200`)(t),color:Ae("white","gray.900")(t),_hover:{bg:Ae(`${e}.600`,`${e}.300`)(t),borderColor:Ae(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Ae("gray.200","transparent")(t),bg:Ae("gray.200","whiteAlpha.300")(t),color:Ae("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ae(`${e}.500`,`${e}.200`)(t),borderColor:Ae(`${e}.500`,`${e}.200`)(t),color:Ae("white","gray.900")(t)},_disabled:{bg:Ae("gray.100","whiteAlpha.100")(t),borderColor:Ae("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ae("red.500","red.300")(t)}}},xQ={_disabled:{cursor:"not-allowed"}},vQ={userSelect:"none",_disabled:{opacity:.4}},bQ={transitionProperty:"transform",transitionDuration:"normal"},SQ=og(t=>({icon:bQ,container:xQ,control:nr(yQ,t),label:vQ})),wQ={sm:og({control:{[Sh.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:og({control:{[Sh.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:og({control:{[Sh.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Ho=gQ({baseStyle:SQ,sizes:wQ,defaultProps:{size:"md",colorScheme:"blue"}}),wh=mn("close-button-size"),Td=mn("close-button-bg"),kQ={w:[wh.reference],h:[wh.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Td.variable]:"colors.blackAlpha.100",_dark:{[Td.variable]:"colors.whiteAlpha.100"}},_active:{[Td.variable]:"colors.blackAlpha.200",_dark:{[Td.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Td.reference},CQ={lg:{[wh.variable]:"sizes.10",fontSize:"md"},md:{[wh.variable]:"sizes.8",fontSize:"xs"},sm:{[wh.variable]:"sizes.6",fontSize:"2xs"}},OQ={baseStyle:kQ,sizes:CQ,defaultProps:{size:"md"}},{variants:jQ,defaultProps:PQ}=bh,TQ={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Jt.bg.reference,color:Jt.color.reference,boxShadow:Jt.shadow.reference},AQ={baseStyle:TQ,variants:jQ,defaultProps:PQ},EQ={w:"100%",mx:"auto",maxW:"prose",px:"4"},MQ={baseStyle:EQ},RQ={opacity:.6,borderColor:"inherit"},zQ={borderStyle:"solid"},DQ={borderStyle:"dashed"},$Q={solid:zQ,dashed:DQ},LQ={baseStyle:RQ,variants:$Q,defaultProps:{variant:"solid"}},{definePartsStyle:U1,defineMultiStyleConfig:IQ}=jt(CV.keys),pv=Ee("drawer-bg"),mv=Ee("drawer-box-shadow");function lc(t){return U1(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const _Q={bg:"blackAlpha.600",zIndex:"modal"},NQ={display:"flex",zIndex:"modal",justifyContent:"center"},BQ=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[pv.variable]:"colors.white",[mv.variable]:"shadows.lg",_dark:{[pv.variable]:"colors.gray.700",[mv.variable]:"shadows.dark-lg"},bg:pv.reference,boxShadow:mv.reference}},FQ={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},WQ={position:"absolute",top:"2",insetEnd:"3"},VQ={px:"6",py:"2",flex:"1",overflow:"auto"},QQ={px:"6",py:"4"},HQ=U1(t=>({overlay:_Q,dialogContainer:NQ,dialog:nr(BQ,t),header:FQ,closeButton:WQ,body:VQ,footer:QQ})),qQ={xs:lc("xs"),sm:lc("md"),md:lc("lg"),lg:lc("2xl"),xl:lc("4xl"),full:lc("full")},UQ=IQ({baseStyle:HQ,sizes:qQ,defaultProps:{size:"xs"}}),{definePartsStyle:GQ,defineMultiStyleConfig:XQ}=jt(OV.keys),KQ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},YQ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},ZQ={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},JQ=GQ({preview:KQ,input:YQ,textarea:ZQ}),e7=XQ({baseStyle:JQ}),{definePartsStyle:t7,defineMultiStyleConfig:n7}=jt(jV.keys),Zc=Ee("form-control-color"),r7={marginStart:"1",[Zc.variable]:"colors.red.500",_dark:{[Zc.variable]:"colors.red.300"},color:Zc.reference},i7={mt:"2",[Zc.variable]:"colors.gray.600",_dark:{[Zc.variable]:"colors.whiteAlpha.600"},color:Zc.reference,lineHeight:"normal",fontSize:"sm"},s7=t7({container:{width:"100%",position:"relative"},requiredIndicator:r7,helperText:i7}),o7=n7({baseStyle:s7}),{definePartsStyle:a7,defineMultiStyleConfig:l7}=jt(PV.keys),Jc=Ee("form-error-color"),c7={[Jc.variable]:"colors.red.500",_dark:{[Jc.variable]:"colors.red.300"},color:Jc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},u7={marginEnd:"0.5em",[Jc.variable]:"colors.red.500",_dark:{[Jc.variable]:"colors.red.300"},color:Jc.reference},d7=a7({text:c7,icon:u7}),h7=l7({baseStyle:d7}),f7={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},p7={baseStyle:f7},m7={fontFamily:"heading",fontWeight:"bold"},g7={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},y7={baseStyle:m7,sizes:g7,defaultProps:{size:"xl"}},{definePartsStyle:uo,defineMultiStyleConfig:x7}=jt(TV.keys),Tc=Ee("input-height"),Ac=Ee("input-font-size"),Ec=Ee("input-padding"),Mc=Ee("input-border-radius"),v7=uo({addon:{height:Tc.reference,fontSize:Ac.reference,px:Ec.reference,borderRadius:Mc.reference},field:{width:"100%",height:Tc.reference,fontSize:Ac.reference,px:Ec.reference,borderRadius:Mc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),No={lg:{[Ac.variable]:"fontSizes.lg",[Ec.variable]:"space.4",[Mc.variable]:"radii.md",[Tc.variable]:"sizes.12"},md:{[Ac.variable]:"fontSizes.md",[Ec.variable]:"space.4",[Mc.variable]:"radii.md",[Tc.variable]:"sizes.10"},sm:{[Ac.variable]:"fontSizes.sm",[Ec.variable]:"space.3",[Mc.variable]:"radii.sm",[Tc.variable]:"sizes.8"},xs:{[Ac.variable]:"fontSizes.xs",[Ec.variable]:"space.2",[Mc.variable]:"radii.sm",[Tc.variable]:"sizes.6"}},b7={lg:uo({field:No.lg,group:No.lg}),md:uo({field:No.md,group:No.md}),sm:uo({field:No.sm,group:No.sm}),xs:uo({field:No.xs,group:No.xs})};function Xk(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Ae("blue.500","blue.300")(t),errorBorderColor:n||Ae("red.500","red.300")(t)}}const S7=uo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Xk(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ae("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Jn(e,r),boxShadow:`0 0 0 1px ${Jn(e,r)}`},_focusVisible:{zIndex:1,borderColor:Jn(e,n),boxShadow:`0 0 0 1px ${Jn(e,n)}`}},addon:{border:"1px solid",borderColor:Ae("inherit","whiteAlpha.50")(t),bg:Ae("gray.100","whiteAlpha.300")(t)}}}),w7=uo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Xk(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ae("gray.100","whiteAlpha.50")(t),_hover:{bg:Ae("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Jn(e,r)},_focusVisible:{bg:"transparent",borderColor:Jn(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ae("gray.100","whiteAlpha.50")(t)}}}),k7=uo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Xk(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Jn(e,r),boxShadow:`0px 1px 0px 0px ${Jn(e,r)}`},_focusVisible:{borderColor:Jn(e,n),boxShadow:`0px 1px 0px 0px ${Jn(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),C7=uo({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),O7={outline:S7,filled:w7,flushed:k7,unstyled:C7},at=x7({baseStyle:v7,sizes:b7,variants:O7,defaultProps:{size:"md",variant:"outline"}}),gv=Ee("kbd-bg"),j7={[gv.variable]:"colors.gray.100",_dark:{[gv.variable]:"colors.whiteAlpha.100"},bg:gv.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},P7={baseStyle:j7},T7={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},A7={baseStyle:T7},{defineMultiStyleConfig:E7,definePartsStyle:M7}=jt(AV.keys),R7={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},z7=M7({icon:R7}),D7=E7({baseStyle:z7}),{defineMultiStyleConfig:$7,definePartsStyle:L7}=jt(EV.keys),fs=Ee("menu-bg"),yv=Ee("menu-shadow"),I7={[fs.variable]:"#fff",[yv.variable]:"shadows.sm",_dark:{[fs.variable]:"colors.gray.700",[yv.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:fs.reference,boxShadow:yv.reference},_7={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[fs.variable]:"colors.gray.100",_dark:{[fs.variable]:"colors.whiteAlpha.100"}},_active:{[fs.variable]:"colors.gray.200",_dark:{[fs.variable]:"colors.whiteAlpha.200"}},_expanded:{[fs.variable]:"colors.gray.100",_dark:{[fs.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:fs.reference},N7={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},B7={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},F7={opacity:.6},W7={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},V7={transitionProperty:"common",transitionDuration:"normal"},Q7=L7({button:V7,list:I7,item:_7,groupTitle:N7,icon:B7,command:F7,divider:W7}),H7=$7({baseStyle:Q7}),{defineMultiStyleConfig:q7,definePartsStyle:G1}=jt(MV.keys),xv=Ee("modal-bg"),vv=Ee("modal-shadow"),U7={bg:"blackAlpha.600",zIndex:"modal"},G7=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},X7=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[xv.variable]:"colors.white",[vv.variable]:"shadows.lg",_dark:{[xv.variable]:"colors.gray.700",[vv.variable]:"shadows.dark-lg"},bg:xv.reference,boxShadow:vv.reference}},K7={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Y7={position:"absolute",top:"2",insetEnd:"3"},Z7=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},J7={px:"6",py:"4"},eH=G1(t=>({overlay:U7,dialogContainer:nr(G7,t),dialog:nr(X7,t),header:K7,closeButton:Y7,body:nr(Z7,t),footer:J7}));function Ni(t){return G1(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const tH={xs:Ni("xs"),sm:Ni("sm"),md:Ni("md"),lg:Ni("lg"),xl:Ni("xl"),"2xl":Ni("2xl"),"3xl":Ni("3xl"),"4xl":Ni("4xl"),"5xl":Ni("5xl"),"6xl":Ni("6xl"),full:Ni("full")},nH=q7({baseStyle:eH,sizes:tH,defaultProps:{size:"md"}}),m5={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:rH,definePartsStyle:g5}=jt(RV.keys),Kk=mn("number-input-stepper-width"),y5=mn("number-input-input-padding"),iH=ro(Kk).add("0.5rem").toString(),bv=mn("number-input-bg"),Sv=mn("number-input-color"),wv=mn("number-input-border-color"),sH={[Kk.variable]:"sizes.6",[y5.variable]:iH},oH=t=>{var e;return((e=nr(at.baseStyle,t))==null?void 0:e.field)??{}},aH={width:Kk.reference},lH={borderStart:"1px solid",borderStartColor:wv.reference,color:Sv.reference,bg:bv.reference,[Sv.variable]:"colors.chakra-body-text",[wv.variable]:"colors.chakra-border-color",_dark:{[Sv.variable]:"colors.whiteAlpha.800",[wv.variable]:"colors.whiteAlpha.300"},_active:{[bv.variable]:"colors.gray.200",_dark:{[bv.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},cH=g5(t=>({root:sH,field:nr(oH,t)??{},stepperGroup:aH,stepper:lH}));function Jp(t){var s,o;const e=(s=at.sizes)==null?void 0:s[t],n={lg:"md",md:"md",sm:"sm",xs:"sm"},r=((o=e.field)==null?void 0:o.fontSize)??"md",i=m5.fontSizes[r];return g5({field:{...e.field,paddingInlineEnd:y5.reference,verticalAlign:"top"},stepper:{fontSize:ro(i).multiply(.75).toString(),_first:{borderTopEndRadius:n[t]},_last:{borderBottomEndRadius:n[t],mt:"-1px",borderTopWidth:1}}})}const uH={xs:Jp("xs"),sm:Jp("sm"),md:Jp("md"),lg:Jp("lg")},dH=rH({baseStyle:cH,sizes:uH,variants:at.variants,defaultProps:at.defaultProps});var KM;const hH={...(KM=at.baseStyle)==null?void 0:KM.field,textAlign:"center"},fH={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var YM;const pH={outline:t=>{var e,n;return((n=nr((e=at.variants)==null?void 0:e.outline,t))==null?void 0:n.field)??{}},flushed:t=>{var e,n;return((n=nr((e=at.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)??{}},filled:t=>{var e,n;return((n=nr((e=at.variants)==null?void 0:e.filled,t))==null?void 0:n.field)??{}},unstyled:((YM=at.variants)==null?void 0:YM.unstyled.field)??{}},mH={baseStyle:hH,sizes:fH,variants:pH,defaultProps:at.defaultProps},{defineMultiStyleConfig:gH,definePartsStyle:yH}=jt(zV.keys),em=mn("popper-bg"),xH=mn("popper-arrow-bg"),uP=mn("popper-arrow-shadow-color"),vH={zIndex:"popover"},bH={[em.variable]:"colors.white",bg:em.reference,[xH.variable]:em.reference,[uP.variable]:"colors.gray.200",_dark:{[em.variable]:"colors.gray.700",[uP.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},SH={px:3,py:2,borderBottomWidth:"1px"},wH={px:3,py:2},kH={px:3,py:2,borderTopWidth:"1px"},CH={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},OH=yH({popper:vH,content:bH,header:SH,body:wH,footer:kH,closeButton:CH}),jH=gH({baseStyle:OH}),{defineMultiStyleConfig:PH,definePartsStyle:Gd}=jt(DV.keys),TH=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=Ae(sP(),sP("1rem","rgba(0,0,0,0.1)"))(t),o=Ae(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Jn(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},AH={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},EH=t=>({bg:Ae("gray.100","whiteAlpha.300")(t)}),MH=t=>({transitionProperty:"common",transitionDuration:"slow",...TH(t)}),RH=Gd(t=>({label:AH,filledTrack:MH(t),track:EH(t)})),zH={xs:Gd({track:{h:"1"}}),sm:Gd({track:{h:"2"}}),md:Gd({track:{h:"3"}}),lg:Gd({track:{h:"4"}})},DH=PH({sizes:zH,baseStyle:RH,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:$H,definePartsStyle:ag}=jt($V.keys),LH=t=>{var n;const e=(n=nr(Ho.baseStyle,t))==null?void 0:n.control;return{...e,borderRadius:"full",_checked:{...e==null?void 0:e._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},IH=ag(t=>{var e,n;return{label:(e=Ho.baseStyle)==null?void 0:e.call(Ho,t).label,container:(n=Ho.baseStyle)==null?void 0:n.call(Ho,t).container,control:LH(t)}}),_H={md:ag({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:ag({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:ag({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},NH=$H({baseStyle:IH,sizes:_H,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:BH,definePartsStyle:FH}=jt(LV.keys),tm=Ee("select-bg");var ZM;const WH={...(ZM=at.baseStyle)==null?void 0:ZM.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:tm.reference,[tm.variable]:"colors.white",_dark:{[tm.variable]:"colors.gray.700"},"> option, > optgroup":{bg:tm.reference}},VH={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},QH=FH({field:WH,icon:VH}),nm={paddingInlineEnd:"8"};var JM,eR,tR,nR,rR,iR,sR,oR;const HH={lg:{...(JM=at.sizes)==null?void 0:JM.lg,field:{...(eR=at.sizes)==null?void 0:eR.lg.field,...nm}},md:{...(tR=at.sizes)==null?void 0:tR.md,field:{...(nR=at.sizes)==null?void 0:nR.md.field,...nm}},sm:{...(rR=at.sizes)==null?void 0:rR.sm,field:{...(iR=at.sizes)==null?void 0:iR.sm.field,...nm}},xs:{...(sR=at.sizes)==null?void 0:sR.xs,field:{...(oR=at.sizes)==null?void 0:oR.xs.field,...nm},icon:{insetEnd:"1"}}},qH=BH({baseStyle:QH,sizes:HH,variants:at.variants,defaultProps:at.defaultProps}),kv=Ee("skeleton-start-color"),Cv=Ee("skeleton-end-color"),UH={[kv.variable]:"colors.gray.100",[Cv.variable]:"colors.gray.400",_dark:{[kv.variable]:"colors.gray.800",[Cv.variable]:"colors.gray.600"},background:kv.reference,borderColor:Cv.reference,opacity:.7,borderRadius:"sm"},GH={baseStyle:UH},Ov=Ee("skip-link-bg"),XH={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Ov.variable]:"colors.white",_dark:{[Ov.variable]:"colors.gray.700"},bg:Ov.reference}},KH={baseStyle:XH},{defineMultiStyleConfig:YH,definePartsStyle:ky}=jt(IV.keys),Ll=Ee("slider-thumb-size"),sf=Ee("slider-track-size"),Yo=Ee("slider-bg"),ZH=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Uk({orientation:e,vertical:{h:"100%",px:no(Ll.reference).divide(2).toString()},horizontal:{w:"100%",py:no(Ll.reference).divide(2).toString()}})}},JH=t=>({...Uk({orientation:t.orientation,horizontal:{h:sf.reference},vertical:{w:sf.reference}}),overflow:"hidden",borderRadius:"sm",[Yo.variable]:"colors.gray.200",_dark:{[Yo.variable]:"colors.whiteAlpha.200"},_disabled:{[Yo.variable]:"colors.gray.300",_dark:{[Yo.variable]:"colors.whiteAlpha.300"}},bg:Yo.reference}),eq=t=>{const{orientation:e}=t;return{...Uk({orientation:e,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:Ll.reference,h:Ll.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},tq=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[Yo.variable]:`colors.${e}.500`,_dark:{[Yo.variable]:`colors.${e}.200`},bg:Yo.reference}},nq=ky(t=>({container:ZH(t),track:JH(t),thumb:eq(t),filledTrack:tq(t)})),rq=ky({container:{[Ll.variable]:"sizes.4",[sf.variable]:"sizes.1"}}),iq=ky({container:{[Ll.variable]:"sizes.3.5",[sf.variable]:"sizes.1"}}),sq=ky({container:{[Ll.variable]:"sizes.2.5",[sf.variable]:"sizes.0.5"}}),oq={lg:rq,md:iq,sm:sq},aq=YH({baseStyle:nq,sizes:oq,defaultProps:{size:"md",colorScheme:"blue"}}),Za=mn("spinner-size"),lq={width:[Za.reference],height:[Za.reference]},cq={xs:{[Za.variable]:"sizes.3"},sm:{[Za.variable]:"sizes.4"},md:{[Za.variable]:"sizes.6"},lg:{[Za.variable]:"sizes.8"},xl:{[Za.variable]:"sizes.12"}},uq={baseStyle:lq,sizes:cq,defaultProps:{size:"md"}},{defineMultiStyleConfig:dq,definePartsStyle:x5}=jt(_V.keys),hq={fontWeight:"medium"},fq={opacity:.8,marginBottom:"2"},pq={verticalAlign:"baseline",fontWeight:"semibold"},mq={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},gq=x5({container:{},label:hq,helpText:fq,number:pq,icon:mq}),yq={md:x5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},xq=dq({baseStyle:gq,sizes:yq,defaultProps:{size:"md"}}),{defineMultiStyleConfig:vq,definePartsStyle:Xd}=jt(["stepper","step","title","description","indicator","separator","icon","number"]),io=Ee("stepper-indicator-size"),Rc=Ee("stepper-icon-size"),zc=Ee("stepper-title-font-size"),Kd=Ee("stepper-description-font-size"),Ad=Ee("stepper-accent-color"),bq=Xd(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Ad.variable]:`colors.${t}.500`,_dark:{[Ad.variable]:`colors.${t}.200`}},title:{fontSize:zc.reference,fontWeight:"medium"},description:{fontSize:Kd.reference,color:"chakra-subtle-text"},number:{fontSize:zc.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Rc.reference,height:Rc.reference},indicator:{flexShrink:0,borderRadius:"full",width:io.reference,height:io.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Ad.reference},"&[data-status=complete]":{bg:Ad.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Ad.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${io.reference} - 8px)`,top:`calc(${io.reference} + 4px)`,insetStart:`calc(${io.reference} / 2 - 1px)`}}})),Sq=vq({baseStyle:bq,sizes:{xs:Xd({stepper:{[io.variable]:"sizes.4",[Rc.variable]:"sizes.3",[zc.variable]:"fontSizes.xs",[Kd.variable]:"fontSizes.xs"}}),sm:Xd({stepper:{[io.variable]:"sizes.6",[Rc.variable]:"sizes.4",[zc.variable]:"fontSizes.sm",[Kd.variable]:"fontSizes.xs"}}),md:Xd({stepper:{[io.variable]:"sizes.8",[Rc.variable]:"sizes.5",[zc.variable]:"fontSizes.md",[Kd.variable]:"fontSizes.sm"}}),lg:Xd({stepper:{[io.variable]:"sizes.10",[Rc.variable]:"sizes.6",[zc.variable]:"fontSizes.lg",[Kd.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:wq,definePartsStyle:lg}=jt(NV.keys),kh=mn("switch-track-width"),kl=mn("switch-track-height"),jv=mn("switch-track-diff"),kq=ro.subtract(kh,kl),X1=mn("switch-thumb-x"),Ed=mn("switch-bg"),Cq=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[kh.reference],height:[kl.reference],transitionProperty:"common",transitionDuration:"fast",[Ed.variable]:"colors.gray.300",_dark:{[Ed.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Ed.variable]:`colors.${e}.500`,_dark:{[Ed.variable]:`colors.${e}.200`}},bg:Ed.reference}},Oq={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[kl.reference],height:[kl.reference],_checked:{transform:`translateX(${X1.reference})`}},jq=lg(t=>({container:{[jv.variable]:kq,[X1.variable]:jv.reference,_rtl:{[X1.variable]:ro(jv).negate().toString()}},track:Cq(t),thumb:Oq})),Pq={sm:lg({container:{[kh.variable]:"1.375rem",[kl.variable]:"sizes.3"}}),md:lg({container:{[kh.variable]:"1.875rem",[kl.variable]:"sizes.4"}}),lg:lg({container:{[kh.variable]:"2.875rem",[kl.variable]:"sizes.6"}})},Tq=wq({baseStyle:jq,sizes:Pq,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Aq,definePartsStyle:eu}=jt(BV.keys),Eq=eu({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),d0={"&[data-is-numeric=true]":{textAlign:"end"}},Mq=eu(t=>{const{colorScheme:e}=t;return{th:{color:Ae("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...d0},td:{borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...d0},caption:{color:Ae("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Rq=eu(t=>{const{colorScheme:e}=t;return{th:{color:Ae("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...d0},td:{borderBottom:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t),...d0},caption:{color:Ae("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ae(`${e}.100`,`${e}.700`)(t)},td:{background:Ae(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),zq={simple:Mq,striped:Rq,unstyled:{}},Dq={sm:eu({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:eu({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:eu({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},$q=Aq({baseStyle:Eq,variants:zq,sizes:Dq,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),mr=Ee("tabs-color"),qi=Ee("tabs-bg"),rm=Ee("tabs-border-color"),{defineMultiStyleConfig:Lq,definePartsStyle:Es}=jt(FV.keys),Iq=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},_q=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},Nq=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},Bq={p:4},Fq=Es(t=>({root:Iq(t),tab:_q(t),tablist:Nq(t),tabpanel:Bq})),Wq={sm:Es({tab:{py:1,px:4,fontSize:"sm"}}),md:Es({tab:{fontSize:"md",py:2,px:4}}),lg:Es({tab:{fontSize:"lg",py:3,px:4}})},Vq=Es(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[mr.variable]:`colors.${e}.600`,_dark:{[mr.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[qi.variable]:"colors.gray.200",_dark:{[qi.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:mr.reference,bg:qi.reference}}}),Qq=Es(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[rm.variable]:"transparent",_selected:{[mr.variable]:`colors.${e}.600`,[rm.variable]:"colors.white",_dark:{[mr.variable]:`colors.${e}.300`,[rm.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:rm.reference},color:mr.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Hq=Es(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[qi.variable]:"colors.gray.50",_dark:{[qi.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[qi.variable]:"colors.white",[mr.variable]:`colors.${e}.600`,_dark:{[qi.variable]:"colors.gray.800",[mr.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:mr.reference,bg:qi.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),qq=Es(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Jn(n,`${e}.700`),bg:Jn(n,`${e}.100`)}}}}),Uq=Es(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[mr.variable]:"colors.gray.600",_dark:{[mr.variable]:"inherit"},_selected:{[mr.variable]:"colors.white",[qi.variable]:`colors.${e}.600`,_dark:{[mr.variable]:"colors.gray.800",[qi.variable]:`colors.${e}.300`}},color:mr.reference,bg:qi.reference}}}),Gq=Es({}),Xq={line:Vq,enclosed:Qq,"enclosed-colored":Hq,"soft-rounded":qq,"solid-rounded":Uq,unstyled:Gq},Kq=Lq({baseStyle:Fq,sizes:Wq,variants:Xq,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:Yq,definePartsStyle:Cl}=jt(WV.keys),dP=Ee("tag-bg"),hP=Ee("tag-color"),Pv=Ee("tag-shadow"),cg=Ee("tag-min-height"),ug=Ee("tag-min-width"),dg=Ee("tag-font-size"),hg=Ee("tag-padding-inline"),Zq={fontWeight:"medium",lineHeight:1.2,outline:0,[hP.variable]:Jt.color.reference,[dP.variable]:Jt.bg.reference,[Pv.variable]:Jt.shadow.reference,color:hP.reference,bg:dP.reference,boxShadow:Pv.reference,borderRadius:"md",minH:cg.reference,minW:ug.reference,fontSize:dg.reference,px:hg.reference,_focusVisible:{[Pv.variable]:"shadows.outline"}},Jq={lineHeight:1.2,overflow:"visible"},eU={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},tU=Cl({container:Zq,label:Jq,closeButton:eU}),nU={sm:Cl({container:{[cg.variable]:"sizes.5",[ug.variable]:"sizes.5",[dg.variable]:"fontSizes.xs",[hg.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Cl({container:{[cg.variable]:"sizes.6",[ug.variable]:"sizes.6",[dg.variable]:"fontSizes.sm",[hg.variable]:"space.2"}}),lg:Cl({container:{[cg.variable]:"sizes.8",[ug.variable]:"sizes.8",[dg.variable]:"fontSizes.md",[hg.variable]:"space.3"}})},rU={subtle:Cl(t=>{var e;return{container:(e=bh.variants)==null?void 0:e.subtle(t)}}),solid:Cl(t=>{var e;return{container:(e=bh.variants)==null?void 0:e.solid(t)}}),outline:Cl(t=>{var e;return{container:(e=bh.variants)==null?void 0:e.outline(t)}})},iU=Yq({variants:rU,baseStyle:tU,sizes:nU,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var aR;const sU={...(aR=at.baseStyle)==null?void 0:aR.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var lR;const oU={outline:t=>{var e;return((e=at.variants)==null?void 0:e.outline(t).field)??{}},flushed:t=>{var e;return((e=at.variants)==null?void 0:e.flushed(t).field)??{}},filled:t=>{var e;return((e=at.variants)==null?void 0:e.filled(t).field)??{}},unstyled:((lR=at.variants)==null?void 0:lR.unstyled.field)??{}};var cR,uR,dR,hR;const aU={xs:((cR=at.sizes)==null?void 0:cR.xs.field)??{},sm:((uR=at.sizes)==null?void 0:uR.sm.field)??{},md:((dR=at.sizes)==null?void 0:dR.md.field)??{},lg:((hR=at.sizes)==null?void 0:hR.lg.field)??{}},lU={baseStyle:sU,sizes:aU,variants:oU,defaultProps:{size:"md",variant:"outline"}},im=mn("tooltip-bg"),Tv=mn("tooltip-fg"),cU=mn("popper-arrow-bg"),uU={bg:im.reference,color:Tv.reference,[im.variable]:"colors.gray.700",[Tv.variable]:"colors.whiteAlpha.900",_dark:{[im.variable]:"colors.gray.300",[Tv.variable]:"colors.gray.900"},[cU.variable]:im.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},dU={baseStyle:uU},hU={Accordion:YV,Alert:D9,Avatar:H9,Badge:bh,Breadcrumb:tQ,Button:uQ,Checkbox:Ho,CloseButton:OQ,Code:AQ,Container:MQ,Divider:LQ,Drawer:UQ,Editable:e7,Form:o7,FormError:h7,FormLabel:p7,Heading:y7,Input:at,Kbd:P7,Link:A7,List:D7,Menu:H7,Modal:nH,NumberInput:dH,PinInput:mH,Popover:jH,Progress:DH,Radio:NH,Select:qH,Skeleton:GH,SkipLink:KH,Slider:aq,Spinner:uq,Stat:xq,Switch:Tq,Table:$q,Tabs:Kq,Tag:iU,Textarea:lU,Tooltip:dU,Card:mQ,Stepper:Sq},fU={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},pU={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},mU={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},gU={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},yU={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},xU={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},vU={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},bU={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},SU={property:xU,easing:vU,duration:bU},wU={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},kU={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},CU={breakpoints:pU,zIndices:wU,radii:gU,blur:kU,colors:mU,...m5,sizes:c5,shadows:yU,space:l5,borders:fU,transition:SU},OU={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},jU={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},PU=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function TU(t){return tr(t)?PU.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}const AU="ltr",EU={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},v5={semanticTokens:OU,direction:AU,...CU,components:hU,styles:jU,config:EU};function MU(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function RU(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var zU=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RU(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=MU(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_n="-ms-",h0="-moz-",st="-webkit-",b5="comm",Yk="rule",Zk="decl",DU="@import",S5="@keyframes",$U="@layer",LU=Math.abs,Cy=String.fromCharCode,IU=Object.assign;function _U(t,e){return jn(t,0)^45?(((e<<2^jn(t,0))<<2^jn(t,1))<<2^jn(t,2))<<2^jn(t,3):0}function w5(t){return t.trim()}function NU(t,e){return(t=e.exec(t))?t[0]:t}function ot(t,e,n){return t.replace(e,n)}function K1(t,e){return t.indexOf(e)}function jn(t,e){return t.charCodeAt(e)|0}function of(t,e,n){return t.slice(e,n)}function ys(t){return t.length}function Jk(t){return t.length}function sm(t,e){return e.push(t),t}function BU(t,e){return t.map(e).join("")}var Oy=1,_u=1,k5=0,Ar=0,rn=0,ld="";function jy(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Oy,column:_u,length:o,return:""}}function Md(t,e){return IU(jy("",null,null,"",null,null,0),t,{length:-t.length},e)}function FU(){return rn}function WU(){return rn=Ar>0?jn(ld,--Ar):0,_u--,rn===10&&(_u=1,Oy--),rn}function Qr(){return rn=Ar<k5?jn(ld,Ar++):0,_u++,rn===10&&(_u=1,Oy++),rn}function Ms(){return jn(ld,Ar)}function fg(){return Ar}function ep(t,e){return of(ld,t,e)}function af(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C5(t){return Oy=_u=1,k5=ys(ld=t),Ar=0,[]}function O5(t){return ld="",t}function pg(t){return w5(ep(Ar-1,Y1(t===91?t+2:t===40?t+1:t)))}function VU(t){for(;(rn=Ms())&&rn<33;)Qr();return af(t)>2||af(rn)>3?"":" "}function QU(t,e){for(;--e&&Qr()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return ep(t,fg()+(e<6&&Ms()==32&&Qr()==32))}function Y1(t){for(;Qr();)switch(rn){case t:return Ar;case 34:case 39:t!==34&&t!==39&&Y1(rn);break;case 40:t===41&&Y1(t);break;case 92:Qr();break}return Ar}function HU(t,e){for(;Qr()&&t+rn!==57;)if(t+rn===84&&Ms()===47)break;return"/*"+ep(e,Ar-1)+"*"+Cy(t===47?t:Qr())}function qU(t){for(;!af(Ms());)Qr();return ep(t,Ar)}function UU(t){return O5(mg("",null,null,null,[""],t=C5(t),0,[0],t))}function mg(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,p=0,m=0,g=1,x=1,v=1,y=0,b="",w=i,k=s,O=r,C=b;x;)switch(m=y,y=Qr()){case 40:if(m!=108&&jn(C,h-1)==58){K1(C+=ot(pg(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=pg(y);break;case 9:case 10:case 13:case 32:C+=VU(m);break;case 92:C+=QU(fg()-1,7);continue;case 47:switch(Ms()){case 42:case 47:sm(GU(HU(Qr(),fg()),e,n),l);break;default:C+="/"}break;case 123*g:a[u++]=ys(C)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:x=0;case 59+d:v==-1&&(C=ot(C,/\f/g,"")),p>0&&ys(C)-h&&sm(p>32?pP(C+";",r,n,h-1):pP(ot(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(sm(O=fP(C,e,n,u,d,i,a,b,w=[],k=[],h),s),y===123)if(d===0)mg(C,e,O,O,w,s,h,a,k);else switch(f===99&&jn(C,3)===110?100:f){case 100:case 108:case 109:case 115:mg(t,O,O,r&&sm(fP(t,O,O,0,0,i,a,b,i,w=[],h),k),i,k,h,a,r?w:k);break;default:mg(C,O,O,O,[""],k,0,a,k)}}u=d=p=0,g=v=1,b=C="",h=o;break;case 58:h=1+ys(C),p=m;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&WU()==125)continue}switch(C+=Cy(y),y*g){case 38:v=d>0?1:(C+="\f",-1);break;case 44:a[u++]=(ys(C)-1)*v,v=1;break;case 64:Ms()===45&&(C+=pg(Qr())),f=Ms(),d=h=ys(b=C+=qU(fg())),y++;break;case 45:m===45&&ys(C)==2&&(g=0)}}return s}function fP(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],p=Jk(f),m=0,g=0,x=0;m<r;++m)for(var v=0,y=of(t,h+1,h=LU(g=o[m])),b=t;v<p;++v)(b=w5(g>0?f[v]+" "+y:ot(y,/&\f/g,f[v])))&&(l[x++]=b);return jy(t,e,n,i===0?Yk:a,l,u,d)}function GU(t,e,n){return jy(t,e,n,b5,Cy(FU()),of(t,2,-2),0)}function pP(t,e,n,r){return jy(t,e,n,Zk,of(t,0,r),of(t,r+1,-1),r)}function tu(t,e){for(var n="",r=Jk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function XU(t,e,n,r){switch(t.type){case $U:if(t.children.length)break;case DU:case Zk:return t.return=t.return||t.value;case b5:return"";case S5:return t.return=t.value+"{"+tu(t.children,r)+"}";case Yk:t.value=t.props.join(",")}return ys(n=tu(t.children,r))?t.return=t.value+"{"+n+"}":""}function KU(t){var e=Jk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function YU(t){return function(e){e.root||(e=e.return)&&t(e)}}var mP=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function j5(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ZU=function(e,n,r){for(var i=0,s=0;i=s,s=Ms(),i===38&&s===12&&(n[r]=1),!af(s);)Qr();return ep(e,Ar)},JU=function(e,n){var r=-1,i=44;do switch(af(i)){case 0:i===38&&Ms()===12&&(n[r]=1),e[r]+=ZU(Ar-1,n,r);break;case 2:e[r]+=pg(i);break;case 4:if(i===44){e[++r]=Ms()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Cy(i)}while(i=Qr());return e},eG=function(e,n){return O5(JU(C5(e),n))},gP=new WeakMap,tG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gP.get(r))&&!i){gP.set(e,!0);for(var s=[],o=eG(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},nG=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function P5(t,e){switch(_U(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+h0+t+_n+t+t;case 6828:case 4268:return st+t+_n+t+t;case 6165:return st+t+_n+"flex-"+t+t;case 5187:return st+t+ot(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return st+t+_n+"flex-item-"+ot(t,/flex-|-self/,"")+t;case 4675:return st+t+_n+"flex-line-pack"+ot(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+_n+ot(t,"shrink","negative")+t;case 5292:return st+t+_n+ot(t,"basis","preferred-size")+t;case 6060:return st+"box-"+ot(t,"-grow","")+st+t+_n+ot(t,"grow","positive")+t;case 4554:return st+ot(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return ot(ot(ot(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return ot(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ot(ot(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return ot(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ys(t)-1-e>6)switch(jn(t,e+1)){case 109:if(jn(t,e+4)!==45)break;case 102:return ot(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+h0+(jn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~K1(t,"stretch")?P5(ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(jn(t,e+1)!==115)break;case 6444:switch(jn(t,ys(t)-3-(~K1(t,"!important")&&10))){case 107:return ot(t,":",":"+st)+t;case 101:return ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(jn(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+_n+"$2box$3")+t}break;case 5936:switch(jn(t,e+11)){case 114:return st+t+_n+ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+_n+ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+_n+ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+_n+t+t}return t}var rG=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Zk:e.return=P5(e.value,e.length);break;case S5:return tu([Md(e,{value:ot(e.value,"@","@"+st)})],i);case Yk:if(e.length)return BU(e.props,function(s){switch(NU(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return tu([Md(e,{props:[ot(s,/:(read-\w+)/,":"+h0+"$1")]})],i);case"::placeholder":return tu([Md(e,{props:[ot(s,/:(plac\w+)/,":"+st+"input-$1")]}),Md(e,{props:[ot(s,/:(plac\w+)/,":"+h0+"$1")]}),Md(e,{props:[ot(s,/:(plac\w+)/,_n+"input-$1")]})],i)}return""})}},iG=[rG],sG=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var x=g.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||iG,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var x=g.getAttribute("data-emotion").split(" "),v=1;v<x.length;v++)s[x[v]]=!0;a.push(g)});var l,u=[tG,nG];{var d,h=[XU,YU(function(g){d.insert(g)})],f=KU(u.concat(i,h)),p=function(x){return tu(UU(x),f)};l=function(x,v,y,b){d=y,p(x?x+"{"+v.styles+"}":v.styles),b&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new zU({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m};function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(null,arguments)}var T5={exports:{}},mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,eC=wn?Symbol.for("react.element"):60103,tC=wn?Symbol.for("react.portal"):60106,Py=wn?Symbol.for("react.fragment"):60107,Ty=wn?Symbol.for("react.strict_mode"):60108,Ay=wn?Symbol.for("react.profiler"):60114,Ey=wn?Symbol.for("react.provider"):60109,My=wn?Symbol.for("react.context"):60110,nC=wn?Symbol.for("react.async_mode"):60111,Ry=wn?Symbol.for("react.concurrent_mode"):60111,zy=wn?Symbol.for("react.forward_ref"):60112,Dy=wn?Symbol.for("react.suspense"):60113,oG=wn?Symbol.for("react.suspense_list"):60120,$y=wn?Symbol.for("react.memo"):60115,Ly=wn?Symbol.for("react.lazy"):60116,aG=wn?Symbol.for("react.block"):60121,lG=wn?Symbol.for("react.fundamental"):60117,cG=wn?Symbol.for("react.responder"):60118,uG=wn?Symbol.for("react.scope"):60119;function Jr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eC:switch(t=t.type,t){case nC:case Ry:case Py:case Ay:case Ty:case Dy:return t;default:switch(t=t&&t.$$typeof,t){case My:case zy:case Ly:case $y:case Ey:return t;default:return e}}case tC:return e}}}function A5(t){return Jr(t)===Ry}mt.AsyncMode=nC;mt.ConcurrentMode=Ry;mt.ContextConsumer=My;mt.ContextProvider=Ey;mt.Element=eC;mt.ForwardRef=zy;mt.Fragment=Py;mt.Lazy=Ly;mt.Memo=$y;mt.Portal=tC;mt.Profiler=Ay;mt.StrictMode=Ty;mt.Suspense=Dy;mt.isAsyncMode=function(t){return A5(t)||Jr(t)===nC};mt.isConcurrentMode=A5;mt.isContextConsumer=function(t){return Jr(t)===My};mt.isContextProvider=function(t){return Jr(t)===Ey};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eC};mt.isForwardRef=function(t){return Jr(t)===zy};mt.isFragment=function(t){return Jr(t)===Py};mt.isLazy=function(t){return Jr(t)===Ly};mt.isMemo=function(t){return Jr(t)===$y};mt.isPortal=function(t){return Jr(t)===tC};mt.isProfiler=function(t){return Jr(t)===Ay};mt.isStrictMode=function(t){return Jr(t)===Ty};mt.isSuspense=function(t){return Jr(t)===Dy};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Py||t===Ry||t===Ay||t===Ty||t===Dy||t===oG||typeof t=="object"&&t!==null&&(t.$$typeof===Ly||t.$$typeof===$y||t.$$typeof===Ey||t.$$typeof===My||t.$$typeof===zy||t.$$typeof===lG||t.$$typeof===cG||t.$$typeof===uG||t.$$typeof===aG)};mt.typeOf=Jr;T5.exports=mt;var dG=T5.exports,E5=dG,hG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M5={};M5[E5.ForwardRef]=hG;M5[E5.Memo]=fG;var pG=!0;function R5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var rC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||pG===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},iC=function(e,n,r){rC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mG(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yG=/[A-Z]|^ms/g,xG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z5=function(e){return e.charCodeAt(1)===45},yP=function(e){return e!=null&&typeof e!="boolean"},Av=j5(function(t){return z5(t)?t:t.replace(yG,"-$&").toLowerCase()}),xP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(xG,function(r,i,s){return xs={name:i,styles:s,next:xs},i})}return gG[e]!==1&&!z5(e)&&typeof n=="number"&&n!==0?n+"px":n};function lf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return xs={name:i.name,styles:i.styles,next:xs},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)xs={name:o.name,styles:o.styles,next:xs},o=o.next;var a=s.styles+";";return a}return vG(t,e,n)}case"function":{if(t!==void 0){var l=xs,u=n(t);return xs=l,lf(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function vG(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":yP(a)&&(r+=Av(s)+":"+xP(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)yP(o[l])&&(r+=Av(s)+":"+xP(s,o[l])+";");else{var u=lf(t,e,o);switch(s){case"animation":case"animationName":{r+=Av(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var vP=/label:\s*([^\s;{]+)\s*(;|$)/g,xs;function Iy(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";xs=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=lf(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=lf(n,e,t[a]),r){var l=s;i+=l[a]}vP.lastIndex=0;for(var u="",d;(d=vP.exec(i))!==null;)u+="-"+d[1];var h=mG(i)+u;return{name:h,styles:i,next:xs}}var bG=function(e){return e()},D5=L2.useInsertionEffect?L2.useInsertionEffect:!1,$5=D5||bG,bP=D5||S.useLayoutEffect,sC=S.createContext(typeof HTMLElement<"u"?sG({key:"css"}):null);sC.Provider;var SG=function(){return S.useContext(sC)},oC=function(e){return S.forwardRef(function(n,r){var i=S.useContext(sC);return e(n,i,r)})},Nu=S.createContext({}),wG=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Pa({},e,n)},kG=mP(function(t){return mP(function(e){return wG(t,e)})}),CG=function(e){var n=S.useContext(Nu);return e.theme!==n&&(n=kG(n)(e.theme)),S.createElement(Nu.Provider,{value:n},e.children)},aC={}.hasOwnProperty,Z1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",OG=function(e,n){var r={};for(var i in n)aC.call(n,i)&&(r[i]=n[i]);return r[Z1]=e,r},jG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return rC(n,r,i),$5(function(){return iC(n,r,i)}),null},PG=oC(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Z1],s=[r],o="";typeof t.className=="string"?o=R5(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Iy(s,void 0,S.useContext(Nu));o+=e.key+"-"+a.name;var l={};for(var u in t)aC.call(t,u)&&u!=="css"&&u!==Z1&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),S.createElement(S.Fragment,null,S.createElement(jG,{cache:e,serialized:a,isStringTag:typeof i=="string"}),S.createElement(i,l))}),TG=PG,SP=function(e,n){var r=arguments;if(n==null||!aC.call(n,"css"))return S.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=TG,s[1]=OG(e,n);for(var o=2;o<i;o++)s[o]=r[o];return S.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(SP||(SP={}));var _y=oC(function(t,e){var n=t.styles,r=Iy([n],void 0,S.useContext(Nu)),i=S.useRef();return bP(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),bP(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&iC(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Zi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Iy(e)}function ar(){var t=Zi.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const lC=S.createContext({});lC.displayName="ColorModeContext";function Ny(){const t=S.useContext(lC);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Ke(t,e){const{colorMode:n}=Ny();return n==="dark"?e:t}const om={light:"chakra-ui-light",dark:"chakra-ui-dark"};function AG(t={}){const{preventTransition:e=!0,nonce:n}=t,r={setDataset:i=>{const s=e?r.preventTransition():void 0;document.documentElement.dataset.theme=i,document.documentElement.style.colorScheme=i,s==null||s()},setClassName(i){document.body.classList.add(i?om.dark:om.light),document.body.classList.remove(i?om.light:om.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(i){return r.query().matches??i==="dark"?"dark":"light"},addListener(i){const s=r.query(),o=a=>{i(a.matches?"dark":"light")};return typeof s.addListener=="function"?s.addListener(o):s.addEventListener("change",o),()=>{typeof s.removeListener=="function"?s.removeListener(o):s.removeEventListener("change",o)}},preventTransition(){const i=document.createElement("style");return i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),n!==void 0&&(i.nonce=n),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(i)})})}}};return r}const EG="chakra-ui-color-mode";function MG(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}const RG=MG(EG),wP=()=>{},zG=rW()?S.useLayoutEffect:S.useEffect;function kP(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}const L5=function(e){const{value:n,children:r,options:{useSystemColorMode:i,initialColorMode:s,disableTransitionOnChange:o}={},colorModeManager:a=RG}=e,l=SG(),u=s==="dark"?"dark":"light",[d,h]=S.useState(()=>kP(a,u)),[f,p]=S.useState(()=>kP(a)),{getSystemTheme:m,setClassName:g,setDataset:x,addListener:v}=S.useMemo(()=>AG({preventTransition:o,nonce:l==null?void 0:l.nonce}),[o,l==null?void 0:l.nonce]),y=s==="system"&&!d?f:d,b=S.useCallback(O=>{const C=O==="system"?m():O;h(C),g(C==="dark"),x(C),a.set(C)},[a,m,g,x]);zG(()=>{s==="system"&&p(m())},[]),S.useEffect(()=>{const O=a.get();if(O){b(O);return}if(s==="system"){b("system");return}b(u)},[a,u,s,b]);const w=S.useCallback(()=>{b(y==="dark"?"light":"dark")},[y,b]);S.useEffect(()=>{if(i)return v(b)},[i,v,b]);const k=S.useMemo(()=>({colorMode:n??y,toggleColorMode:n?wP:w,setColorMode:n?wP:b,forced:n!==void 0}),[y,w,b,n]);return c.jsx(lC.Provider,{value:k,children:r})};L5.displayName="ColorModeProvider";const I5=String.raw,_5=I5`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,DG=()=>c.jsx(_y,{styles:_5}),$G=({scope:t=""})=>c.jsx(_y,{styles:I5`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${_5}
    `});function LG(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=S.useMemo(()=>xV(n),[n]);return c.jsxs(CG,{theme:i,children:[c.jsx(IG,{root:e}),r]})}function IG({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return c.jsx(_y,{styles:n=>({[e]:n.__cssVars})})}tt({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function _G(t){return tt({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function NG(){const{colorMode:t}=Ny();return c.jsx(_y,{styles:e=>{const n=QD(e,"styles.global"),r=Nr(n,{theme:e,colorMode:t});return r?i5(r)(e):void 0}})}const[BG,FG]=tt({strict:!1,name:"PortalManagerContext"});function N5(t){const{children:e,zIndex:n}=t;return c.jsx(BG,{value:{zIndex:n},children:e})}N5.displayName="PortalManager";const B5=S.createContext({getDocument(){return document},getWindow(){return window}});B5.displayName="EnvironmentContext";function F5(t){const{children:e,environment:n,disabled:r}=t,i=S.useRef(null),s=S.useMemo(()=>n||{getDocument:()=>{var a;return((a=i.current)==null?void 0:a.ownerDocument)??document},getWindow:()=>{var a;return((a=i.current)==null?void 0:a.ownerDocument.defaultView)??window}},[n]),o=!r||!n;return c.jsxs(B5.Provider,{value:s,children:[e,o&&c.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}F5.displayName="EnvironmentProvider";const WG=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:d}=t,h=c.jsx(F5,{environment:a,disabled:u,children:e});return c.jsx(LG,{theme:o,cssVarsRoot:l,children:c.jsxs(L5,{colorModeManager:n,options:o.config,children:[s?c.jsx($G,{scope:i}):c.jsx(DG,{}),!d&&c.jsx(NG,{}),r?c.jsx(N5,{zIndex:r,children:h}):h]})})},W5=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),By=S.createContext({}),tp=S.createContext(null),Fy=typeof document<"u",cC=Fy?S.useLayoutEffect:S.useEffect,V5=S.createContext({strict:!1}),uC=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),VG="framerAppearId",Q5="data-"+uC(VG);function QG(t,e,n,r){const{visualElement:i}=S.useContext(By),s=S.useContext(V5),o=S.useContext(tp),a=S.useContext(W5).reducedMotion,l=S.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(n,o)});const d=S.useRef(!!(n[Q5]&&!window.HandoffComplete));return cC(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HG(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dc(n)&&(n.current=r))},[e])}function cf(t){return typeof t=="string"||Array.isArray(t)}function Wy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hC=["initial",...dC];function Vy(t){return Wy(t.animate)||hC.some(e=>cf(t[e]))}function H5(t){return!!(Vy(t)||t.variants)}function qG(t,e){if(Vy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cf(n)?n:void 0,animate:cf(r)?r:void 0}}return t.inherit!==!1?e:{}}function UG(t){const{initial:e,animate:n}=qG(t,S.useContext(By));return S.useMemo(()=>({initial:e,animate:n}),[CP(e),CP(n)])}function CP(t){return Array.isArray(t)?t.join(" "):t}const OP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uf={};for(const t in OP)uf[t]={isEnabled:e=>OP[t].some(n=>!!e[n])};function GG(t){for(const e in t)uf[e]={...uf[e],...t[e]}}const fC=S.createContext({}),q5=S.createContext({}),XG=Symbol.for("motionComponentSymbol");function KG({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&GG(t);function s(a,l){let u;const d={...S.useContext(W5),...a,layoutId:YG(a)},{isStatic:h}=d,f=UG(a),p=r(a,h);if(!h&&Fy){f.visualElement=QG(i,p,d,e);const m=S.useContext(q5),g=S.useContext(V5).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,g,t,m))}return S.createElement(By.Provider,{value:f},u&&f.visualElement?S.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,a,HG(p,f.visualElement,l),p,h,f.visualElement))}const o=S.forwardRef(s);return o[XG]=i,o}function YG({layoutId:t}){const e=S.useContext(fC).id;return e&&t!==void 0?e+"-"+t:t}function ZG(t){function e(r,i={}){return KG(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const JG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pC(t){return typeof t!="string"||t.includes("-")?!1:!!(JG.indexOf(t)>-1||/[A-Z]/.test(t))}const f0={};function eX(t){Object.assign(f0,t)}const np=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zl=new Set(np);function U5(t,{layout:e,layoutId:n}){return Zl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!f0[t]||t==="opacity")}const Er=t=>!!(t&&t.getVelocity),tX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nX=np.length;function rX(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<nX;o++){const a=np[o];if(t[a]!==void 0){const l=tX[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const G5=t=>e=>typeof e=="string"&&e.startsWith(t),X5=G5("--"),J1=G5("var(--"),iX=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sX=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ta=(t,e,n)=>Math.min(Math.max(n,t),e),Jl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ch={...Jl,transform:t=>Ta(0,1,t)},am={...Jl,default:1},Oh=t=>Math.round(t*1e5)/1e5,Qy=/(-)?([\d]*\.?[\d])+/g,K5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oX=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function rp(t){return typeof t=="string"}const ip=t=>({test:e=>rp(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fo=ip("deg"),Rs=ip("%"),Re=ip("px"),aX=ip("vh"),lX=ip("vw"),jP={...Rs,parse:t=>Rs.parse(t)/100,transform:t=>Rs.transform(t*100)},PP={...Jl,transform:Math.round},Y5={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,size:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,rotate:Fo,rotateX:Fo,rotateY:Fo,rotateZ:Fo,scale:am,scaleX:am,scaleY:am,scaleZ:am,skew:Fo,skewX:Fo,skewY:Fo,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Ch,originX:jP,originY:jP,originZ:Re,zIndex:PP,fillOpacity:Ch,strokeOpacity:Ch,numOctaves:PP};function mC(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(X5(h)){s[h]=f;continue}const p=Y5[h],m=sX(f,p);if(Zl.has(h)){if(l=!0,o[h]=m,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}if(e.transform||(l||r?i.transform=rX(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const gC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z5(t,e,n){for(const r in e)!Er(e[r])&&!U5(r,n)&&(t[r]=e[r])}function cX({transformTemplate:t},e,n){return S.useMemo(()=>{const r=gC();return mC(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function uX(t,e,n){const r=t.style||{},i={};return Z5(i,r,t),Object.assign(i,cX(t,e,n)),t.transformValues?t.transformValues(i):i}function dX(t,e,n){const r={},i=uX(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const hX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hX.has(t)}let J5=t=>!p0(t);function fX(t){t&&(J5=e=>e.startsWith("on")?!p0(e):t(e))}try{fX(require("@emotion/is-prop-valid").default)}catch{}function pX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(J5(i)||n===!0&&p0(i)||!e&&!p0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function TP(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function mX(t,e,n){const r=TP(e,t.x,t.width),i=TP(n,t.y,t.height);return`${r} ${i}`}const gX={offset:"stroke-dashoffset",array:"stroke-dasharray"},yX={offset:"strokeDashoffset",array:"strokeDasharray"};function xX(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?gX:yX;t[s.offset]=Re.transform(-r);const o=Re.transform(e),a=Re.transform(n);t[s.array]=`${o} ${a}`}function yC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(mC(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=mX(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&xX(p,o,a,l,!1)}const e$=()=>({...gC(),attrs:{}}),xC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vX(t,e,n,r){const i=S.useMemo(()=>{const s=e$();return yC(s,e,{enableHardwareAcceleration:!1},xC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Z5(s,t.style,t),i.style={...s,...i.style}}return i}function bX(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(pC(n)?vX:dX)(r,s,o,n),d={...pX(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=S.useMemo(()=>Er(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function t$(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const n$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r$(t,e,n,r){t$(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(n$.has(i)?i:uC(i),e.attrs[i])}function vC(t,e){const{style:n}=t,r={};for(const i in n)(Er(n[i])||e.style&&Er(e.style[i])||U5(i,t))&&(r[i]=n[i]);return r}function i$(t,e){const n=vC(t,e);for(const r in t)if(Er(t[r])||Er(e[r])){const i=np.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function bC(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function s$(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const m0=t=>Array.isArray(t),SX=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wX=t=>m0(t)?t[t.length-1]||0:t;function gg(t){const e=Er(t)?t.get():t;return SX(e)?e.toValue():e}function kX({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:CX(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const o$=t=>(e,n)=>{const r=S.useContext(By),i=S.useContext(tp),s=()=>kX(t,e,r,i);return n?s():s$(s)};function CX(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=gg(s[f]);let{initial:o,animate:a}=t;const l=Vy(t),u=H5(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Wy(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const m=bC(t,p);if(!m)return;const{transitionEnd:g,transition:x,...v}=m;for(const y in v){let b=v[y];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(i[y]=b)}for(const y in g)i[y]=g[y]}),i}const Zt=t=>t;class AP{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function OX(t){let e=new AP,n=new AP,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const lm=["prepare","read","update","preRender","render","postRender"],jX=40;function PX(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=lm.reduce((h,f)=>(h[f]=OX(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,jX),1),i.timestamp=h,i.isProcessing=!0,lm.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:lm.reduce((h,f)=>{const p=s[f];return h[f]=(m,g=!1,x=!1)=>(n||l(),p.schedule(m,g,x)),h},{}),cancel:h=>lm.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Ot,cancel:jo,state:Bn,steps:Ev}=PX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0),TX={useVisualState:o$({scrapeMotionValuesFromProps:i$,createRenderState:e$,onMount:(t,e,{renderState:n,latestValues:r})=>{Ot.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ot.render(()=>{yC(n,r,{enableHardwareAcceleration:!1},xC(e.tagName),t.transformTemplate),r$(e,n)})}})},AX={useVisualState:o$({scrapeMotionValuesFromProps:vC,createRenderState:gC})};function EX(t,{forwardMotionProps:e=!1},n,r){return{...pC(t)?TX:AX,preloadedFeatures:n,useRender:bX(e),createVisualElement:r,Component:t}}function ho(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const a$=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Hy(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const MX=t=>e=>a$(e)&&t(e,Hy(e));function yo(t,e,n,r){return ho(t,e,MX(n),r)}const RX=(t,e)=>n=>e(t(n)),ba=(...t)=>t.reduce(RX);function l$(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const EP=l$("dragHorizontal"),MP=l$("dragVertical");function c$(t){let e=!1;if(t==="y")e=MP();else if(t==="x")e=EP();else{const n=EP(),r=MP();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function u$(){const t=c$(!0);return t?(t(),!1):!0}class Na{constructor(e){this.isMounted=!1,this.node=e}update(){}}function RP(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||u$())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ot.update(()=>a[r](s,o))};return yo(t.current,n,i,{passive:!t.getProps()[r]})}class zX extends Na{mount(){this.unmount=ba(RP(this.node,!0),RP(this.node,!1))}unmount(){}}class DX extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ba(ho(this.node.current,"focus",()=>this.onFocus()),ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const d$=(t,e)=>e?t===e?!0:d$(t,e.parentElement):!1;function Mv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Hy(n))}class $X extends Na{constructor(){super(...arguments),this.removeStartListeners=Zt,this.removeEndListeners=Zt,this.removeAccessibleListeners=Zt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=yo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ot.update(()=>{!h&&!d$(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=yo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ba(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Mv("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ot.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=ho(this.node.current,"keyup",o),Mv("down",(a,l)=>{this.startPress(a,l)})},n=ho(this.node.current,"keydown",e),r=()=>{this.isPressing&&Mv("cancel",(s,o)=>this.cancelPress(s,o))},i=ho(this.node.current,"blur",r);this.removeAccessibleListeners=ba(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ot.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!u$()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ot.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=yo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ho(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ba(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const eS=new WeakMap,Rv=new WeakMap,LX=t=>{const e=eS.get(t.target);e&&e(t)},IX=t=>{t.forEach(LX)};function _X({root:t,...e}){const n=t||document;Rv.has(n)||Rv.set(n,{});const r=Rv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(IX,{root:t,...e})),r[i]}function NX(t,e,n){const r=_X(e);return eS.set(t,n),r.observe(t),()=>{eS.delete(t),r.unobserve(t)}}const BX={some:0,all:1};class FX extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:BX[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return NX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WX(e,n))&&this.startObserver()}unmount(){}}function WX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VX={inView:{Feature:FX},tap:{Feature:$X},focus:{Feature:DX},hover:{Feature:zX}};function h$(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function QX(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function HX(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function qy(t,e,n){const r=t.getProps();return bC(r,e,n!==void 0?n:r.custom,QX(t),HX(t))}let SC=Zt;const Ol=t=>t*1e3,xo=t=>t/1e3,qX={current:!1},f$=t=>Array.isArray(t)&&typeof t[0]=="number";function p$(t){return!!(!t||typeof t=="string"&&m$[t]||f$(t)||Array.isArray(t)&&t.every(p$))}const Yd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,m$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yd([0,.65,.55,1]),circOut:Yd([.55,0,1,.45]),backIn:Yd([.31,.01,.66,-.59]),backOut:Yd([.33,1.53,.69,.99])};function g$(t){if(t)return f$(t)?Yd(t):Array.isArray(t)?t.map(g$):m$[t]}function UX(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=g$(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function GX(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const y$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XX=1e-7,KX=12;function YX(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=y$(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>XX&&++a<KX);return o}function sp(t,e,n,r){if(t===e&&n===r)return Zt;const i=s=>YX(s,0,1,t,n);return s=>s===0||s===1?s:y$(i(s),e,r)}const ZX=sp(.42,0,1,1),JX=sp(0,0,.58,1),x$=sp(.42,0,.58,1),eK=t=>Array.isArray(t)&&typeof t[0]!="number",v$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b$=t=>e=>1-t(1-e),wC=t=>1-Math.sin(Math.acos(t)),S$=b$(wC),tK=v$(wC),w$=sp(.33,1.53,.69,.99),kC=b$(w$),nK=v$(kC),rK=t=>(t*=2)<1?.5*kC(t):.5*(2-Math.pow(2,-10*(t-1))),iK={linear:Zt,easeIn:ZX,easeInOut:x$,easeOut:JX,circIn:wC,circInOut:tK,circOut:S$,backIn:kC,backInOut:nK,backOut:w$,anticipate:rK},zP=t=>{if(Array.isArray(t)){SC(t.length===4);const[e,n,r,i]=t;return sp(e,n,r,i)}else if(typeof t=="string")return iK[t];return t},CC=(t,e)=>n=>!!(rp(n)&&oX.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),k$=(t,e,n)=>r=>{if(!rp(r))return r;const[i,s,o,a]=r.match(Qy);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sK=t=>Ta(0,255,t),zv={...Jl,transform:t=>Math.round(sK(t))},sl={test:CC("rgb","red"),parse:k$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zv.transform(t)+", "+zv.transform(e)+", "+zv.transform(n)+", "+Oh(Ch.transform(r))+")"};function oK(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tS={test:CC("#"),parse:oK,transform:sl.transform},$c={test:CC("hsl","hue"),parse:k$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rs.transform(Oh(e))+", "+Rs.transform(Oh(n))+", "+Oh(Ch.transform(r))+")"},Un={test:t=>sl.test(t)||tS.test(t)||$c.test(t),parse:t=>sl.test(t)?sl.parse(t):$c.test(t)?$c.parse(t):tS.parse(t),transform:t=>rp(t)?t:t.hasOwnProperty("red")?sl.transform(t):$c.transform(t)},It=(t,e,n)=>-n*t+n*e+t;function Dv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Dv(l,a,t+1/3),s=Dv(l,a,t),o=Dv(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const $v=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},lK=[tS,sl,$c],cK=t=>lK.find(e=>e.test(t));function DP(t){const e=cK(t);let n=e.parse(t);return e===$c&&(n=aK(n)),n}const C$=(t,e)=>{const n=DP(t),r=DP(e),i={...n};return s=>(i.red=$v(n.red,r.red,s),i.green=$v(n.green,r.green,s),i.blue=$v(n.blue,r.blue,s),i.alpha=It(n.alpha,r.alpha,s),sl.transform(i))};function uK(t){var e,n;return isNaN(t)&&rp(t)&&(((e=t.match(Qy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(K5))===null||n===void 0?void 0:n.length)||0)>0}const O$={regex:iX,countKey:"Vars",token:"${v}",parse:Zt},j$={regex:K5,countKey:"Colors",token:"${c}",parse:Un.parse},P$={regex:Qy,countKey:"Numbers",token:"${n}",parse:Jl.parse};function Lv(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function g0(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Lv(n,O$),Lv(n,j$),Lv(n,P$),n}function T$(t){return g0(t).values}function A$(t){const{values:e,numColors:n,numVars:r,tokenised:i}=g0(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(O$.token,o[l]):l<r+n?a=a.replace(j$.token,Un.transform(o[l])):a=a.replace(P$.token,Oh(o[l]));return a}}const dK=t=>typeof t=="number"?0:t;function hK(t){const e=T$(t);return A$(t)(e.map(dK))}const Aa={test:uK,parse:T$,createTransformer:A$,getAnimatableNone:hK},E$=(t,e)=>n=>`${n>0?e:t}`;function M$(t,e){return typeof t=="number"?n=>It(t,e,n):Un.test(t)?C$(t,e):t.startsWith("var(")?E$(t,e):z$(t,e)}const R$=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>M$(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},fK=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=M$(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},z$=(t,e)=>{const n=Aa.createTransformer(e),r=g0(t),i=g0(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ba(R$(r.values,i.values),n):E$(t,e)},df=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},$P=(t,e)=>n=>It(t,e,n);function pK(t){return typeof t=="number"?$P:typeof t=="string"?Un.test(t)?C$:z$:Array.isArray(t)?R$:typeof t=="object"?fK:$P}function mK(t,e,n){const r=[],i=n||pK(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Zt:e;a=ba(l,a)}r.push(a)}return r}function D$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(SC(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=mK(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=df(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Ta(t[0],t[s-1],u)):l}function gK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=df(0,e,r);t.push(It(n,1,i))}}function yK(t){const e=[0];return gK(e,t.length-1),e}function xK(t,e){return t.map(n=>n*e)}function vK(t,e){return t.map(()=>e||x$).splice(0,t.length-1)}function y0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=eK(r)?r.map(zP):zP(r),s={done:!1,value:e[0]},o=xK(n&&n.length===e.length?n:yK(e),t),a=D$(o,e,{ease:Array.isArray(i)?i:vK(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function $$(t,e){return e?t*(1e3/e):0}const bK=5;function L$(t,e,n){const r=Math.max(e-bK,0);return $$(n-t(r),e-r)}const Iv=.001,SK=.01,wK=10,kK=.05,CK=1;function OK({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Ta(kK,CK,o),t=Ta(SK,wK,xo(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,p=nS(u,o),m=Math.exp(-h);return Iv-f/p*m},s=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),g=nS(Math.pow(u,2),o);return(-i(u)+Iv>0?-1:1)*((f-p)*m)/g}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Iv+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=PK(i,s,a);if(t=Ol(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const jK=12;function PK(t,e,n){let r=n;for(let i=1;i<jK;i++)r=r-t(r)/e(r);return r}function nS(t,e){return t*Math.sqrt(1-e*e)}const TK=["duration","bounce"],AK=["stiffness","damping","mass"];function LP(t,e){return e.some(n=>t[n]!==void 0)}function EK(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!LP(t,AK)&&LP(t,TK)){const n=OK(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function I$({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=EK({...r,velocity:-xo(r.velocity||0)}),p=h||0,m=l/(2*Math.sqrt(a*u)),g=s-i,x=xo(Math.sqrt(a/u)),v=Math.abs(g)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(m<1){const b=nS(x,m);y=w=>{const k=Math.exp(-m*x*w);return s-k*((p+m*x*g)/b*Math.sin(b*w)+g*Math.cos(b*w))}}else if(m===1)y=b=>s-Math.exp(-x*b)*(g+(p+x*g)*b);else{const b=x*Math.sqrt(m*m-1);y=w=>{const k=Math.exp(-m*x*w),O=Math.min(b*w,300);return s-k*((p+m*x*g)*Math.sinh(O)+b*g*Math.cosh(O))/b}}return{calculatedDuration:f&&d||null,next:b=>{const w=y(b);if(f)o.done=b>=d;else{let k=p;b!==0&&(m<1?k=L$(y,b,w):k=0);const O=Math.abs(k)<=n,C=Math.abs(s-w)<=e;o.done=O&&C}return o.value=o.done?s:w,o}}}function IP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=j=>a!==void 0&&j<a||l!==void 0&&j>l,m=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let g=n*e;const x=h+g,v=o===void 0?x:o(x);v!==x&&(g=v-h);const y=j=>-g*Math.exp(-j/r),b=j=>v+y(j),w=j=>{const P=y(j),A=b(j);f.done=Math.abs(P)<=u,f.value=f.done?v:A};let k,O;const C=j=>{p(f.value)&&(k=j,O=I$({keyframes:[f.value,m(f.value)],velocity:L$(b,j,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:j=>{let P=!1;return!O&&k===void 0&&(P=!0,w(j),C(j)),k!==void 0&&j>k?O.next(j-k):(!P&&w(j),f)}}}const MK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ot.update(e,!0),stop:()=>jo(e),now:()=>Bn.isProcessing?Bn.timestamp:performance.now()}},_P=2e4;function NP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_P;)e+=n,r=t.next(e);return e>=_P?1/0:e}const RK={decay:IP,inertia:IP,tween:y0,keyframes:y0,spring:I$};function x0({autoplay:t=!0,delay:e=0,driver:n=MK,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let p=1,m=!1,g,x;const v=()=>{x=new Promise(Y=>{g=Y})};v();let y;const b=RK[i]||y0;let w;b!==y0&&typeof r[0]!="number"&&(w=D$([0,100],r,{clamp:!1}),r=[0,100]);const k=b({...f,keyframes:r});let O;a==="mirror"&&(O=b({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let C="idle",j=null,P=null,A=null;k.calculatedDuration===null&&s&&(k.calculatedDuration=NP(k));const{calculatedDuration:E}=k;let F=1/0,H=1/0;E!==null&&(F=E+o,H=F*(s+1)-o);let _=0;const B=Y=>{if(P===null)return;p>0&&(P=Math.min(P,Y)),p<0&&(P=Math.min(Y-H/p,P)),j!==null?_=j:_=Math.round(Y-P)*p;const ie=_-e*(p>=0?1:-1),Z=p>=0?ie<0:ie>H;_=Math.max(ie,0),C==="finished"&&j===null&&(_=H);let se=_,V=k;if(s){const _e=Math.min(_,H)/F;let We=Math.floor(_e),he=_e%1;!he&&_e>=1&&(he=1),he===1&&We--,We=Math.min(We,s+1),!!(We%2)&&(a==="reverse"?(he=1-he,o&&(he-=o/F)):a==="mirror"&&(V=O)),se=Ta(0,1,he)*F}const J=Z?{done:!1,value:r[0]}:V.next(se);w&&(J.value=w(J.value));let{done:U}=J;!Z&&E!==null&&(U=p>=0?_>=H:_<=0);const Se=j===null&&(C==="finished"||C==="running"&&U);return h&&h(J.value),Se&&L(),J},ee=()=>{y&&y.stop(),y=void 0},W=()=>{C="idle",ee(),g(),v(),P=A=null},L=()=>{C="finished",d&&d(),ee(),g()},Q=()=>{if(m)return;y||(y=n(B));const Y=y.now();l&&l(),j!==null?P=Y-j:(!P||C==="finished")&&(P=Y),C==="finished"&&v(),A=P,j=null,C="running",y.start()};t&&Q();const I={then(Y,ie){return x.then(Y,ie)},get time(){return xo(_)},set time(Y){Y=Ol(Y),_=Y,j!==null||!y||p===0?j=Y:P=y.now()-Y/p},get duration(){const Y=k.calculatedDuration===null?NP(k):k.calculatedDuration;return xo(Y)},get speed(){return p},set speed(Y){Y===p||!y||(p=Y,I.time=xo(_))},get state(){return C},play:Q,pause:()=>{C="paused",j=_},stop:()=>{m=!0,C!=="idle"&&(C="idle",u&&u(),W())},cancel:()=>{A!==null&&B(A),W()},complete:()=>{C="finished"},sample:Y=>(P=0,B(Y))};return I}function zK(t){let e;return()=>(e===void 0&&(e=t()),e)}const DK=zK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$K=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cm=10,LK=2e4,IK=(t,e)=>e.type==="spring"||t==="backgroundColor"||!p$(e.ease);function _K(t,e,{onUpdate:n,onComplete:r,...i}){if(!(DK()&&$K.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(b=>{a=b})};d();let{keyframes:h,duration:f=300,ease:p,times:m}=i;if(IK(e,i)){const b=x0({...i,repeat:0,delay:0});let w={done:!1,value:h[0]};const k=[];let O=0;for(;!w.done&&O<LK;)w=b.sample(O),k.push(w.value),O+=cm;m=void 0,h=k,f=O-cm,p="linear"}const g=UX(t.owner.current,e,h,{...i,duration:f,ease:p,times:m}),x=()=>{u=!1,g.cancel()},v=()=>{u=!0,Ot.update(x),a(),d()};return g.onfinish=()=>{u||(t.set(GX(h,i)),r&&r(),v())},{then(b,w){return l.then(b,w)},attachTimeline(b){return g.timeline=b,g.onfinish=null,Zt},get time(){return xo(g.currentTime||0)},set time(b){g.currentTime=Ol(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return xo(f)},play:()=>{o||(g.play(),jo(x))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const w=x0({...i,autoplay:!1});t.setWithVelocity(w.sample(b-cm).value,w.sample(b).value,cm)}v()},complete:()=>{u||g.finish()},cancel:v}}function NK({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Zt,pause:Zt,stop:Zt,then:s=>(s(),Promise.resolve()),cancel:Zt,complete:Zt});return e?x0({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const BK={type:"spring",stiffness:500,damping:25,restSpeed:10},FK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WK={type:"keyframes",duration:.8},VK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QK=(t,{keyframes:e})=>e.length>2?WK:Zl.has(t)?t.startsWith("scale")?FK(e[1]):BK:VK,rS=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Aa.test(e)||e==="0")&&!e.startsWith("url(")),HK=new Set(["brightness","contrast","saturate","opacity"]);function qK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qy)||[];if(!r)return t;const i=n.replace(r,"");let s=HK.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const UK=/([a-z-]*)\(.*?\)/g,iS={...Aa,getAnimatableNone:t=>{const e=t.match(UK);return e?e.map(qK).join(" "):t}},GK={...Y5,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:iS,WebkitFilter:iS},OC=t=>GK[t];function _$(t,e){let n=OC(t);return n!==iS&&(n=Aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N$=t=>/^0[^.\s]+$/.test(t);function XK(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||N$(t)}function KK(t,e,n,r){const i=rS(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),XK(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=_$(e,a)}return s}function YK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function jC(t,e){return t[e]||t.default||t}const ZK={skipAnimations:!1},PC=(t,e,n,r={})=>i=>{const s=jC(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ol(o);const l=KK(e,t,n,s),u=l[0],d=l[l.length-1],h=rS(t,u),f=rS(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(YK(s)||(p={...p,...QK(t,p)}),p.duration&&(p.duration=Ol(p.duration)),p.repeatDelay&&(p.repeatDelay=Ol(p.repeatDelay)),!h||!f||qX.current||s.type===!1||ZK.skipAnimations)return NK(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=_K(e,t,p);if(m)return m}return x0(p)};function v0(t){return!!(Er(t)&&t.add)}const B$=t=>/^\-?\d*\.?\d+$/.test(t);function TC(t,e){t.indexOf(e)===-1&&t.push(e)}function AC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class EC{constructor(){this.subscriptions=[]}add(e){return TC(this.subscriptions,e),()=>AC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JK=t=>!isNaN(parseFloat(t));class eY{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Bn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=JK(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new EC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$$(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bu(t,e){return new eY(t,e)}const F$=t=>e=>e.test(t),tY={test:t=>t==="auto",parse:t=>t},W$=[Jl,Re,Rs,Fo,lX,aX,tY],Rd=t=>W$.find(F$(t)),nY=[...W$,Un,Aa],rY=t=>nY.find(F$(t));function iY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bu(n))}function sY(t,e){const n=qy(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=wX(s[o]);iY(t,o,a)}}function oY(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(B$(d)||N$(d))?d=parseFloat(d):!rY(d)&&Aa.test(u)&&(d=_$(l,u)),t.addValue(l,Bu(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function aY(t,e){return e?(e[t]||e.default||e).from:void 0}function lY(t,e,n){const r={};for(const i in t){const s=aY(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function cY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uY(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function V$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||d&&cY(d,h))continue;const m={delay:n,elapsed:0,...jC(s||{},h)};if(window.HandoffAppearAnimations){const v=t.getProps()[Q5];if(v){const y=window.HandoffAppearAnimations(v,h,f,Ot);y!==null&&(m.elapsed=y,m.isHandoff=!0)}}let g=!m.isHandoff&&!uY(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(PC(h,f,p,t.shouldReduceMotion&&Zl.has(h)?{type:!1}:m));const x=f.animation;v0(l)&&(l.add(h),x.then(()=>l.remove(h))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&sY(t,o)}),u}function sS(t,e,n={}){const r=qy(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(V$(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return dY(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function dY(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(hY).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(sS(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function hY(t,e){return t.sortNodePosition(e)}function fY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>sS(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=sS(t,e,n);else{const i=typeof e=="function"?qy(t,e,n.custom):e;r=Promise.all(V$(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const pY=[...dC].reverse(),mY=dC.length;function gY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>fY(t,n,r)))}function yY(t){let e=gY(t);const n=vY();let r=!0;const i=(l,u)=>{const d=qy(t,u);if(d){const{transition:h,transitionEnd:f,...p}=d;l={...l,...p,...f}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let m={},g=1/0;for(let v=0;v<mY;v++){const y=pY[v],b=n[y],w=d[y]!==void 0?d[y]:h[y],k=cf(w),O=y===u?b.isActive:null;O===!1&&(g=v);let C=w===h[y]&&w!==d[y]&&k;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...m},!b.isActive&&O===null||!w&&!b.prevProp||Wy(w)||typeof w=="boolean")continue;let P=xY(b.prevProp,w)||y===u&&b.isActive&&!C&&k||v>g&&k,A=!1;const E=Array.isArray(w)?w:[w];let F=E.reduce(i,{});O===!1&&(F={});const{prevResolvedValues:H={}}=b,_={...H,...F},B=ee=>{P=!0,p.has(ee)&&(A=!0,p.delete(ee)),b.needsAnimating[ee]=!0};for(const ee in _){const W=F[ee],L=H[ee];if(m.hasOwnProperty(ee))continue;let Q=!1;m0(W)&&m0(L)?Q=!h$(W,L):Q=W!==L,Q?W!==void 0?B(ee):p.add(ee):W!==void 0&&p.has(ee)?B(ee):b.protectedKeys[ee]=!0}b.prevProp=w,b.prevResolvedValues=F,b.isActive&&(m={...m,...F}),r&&t.blockInitialAnimation&&(P=!1),P&&(!C||A)&&f.push(...E.map(ee=>({animation:ee,options:{type:y,...l}})))}if(p.size){const v={};p.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(v[y]=b)}),f.push({animation:v})}let x=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=o(d,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function xY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!h$(e,t):!1}function Qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vY(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class bY extends Na{constructor(e){super(e),e.animationState||(e.animationState=yY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Wy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let SY=0;class wY extends Na{constructor(){super(...arguments),this.id=SY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kY={animation:{Feature:bY},exit:{Feature:wY}},BP=(t,e)=>Math.abs(t-e);function CY(t,e){const n=BP(t.x,e.x),r=BP(t.y,e.y);return Math.sqrt(n**2+r**2)}class Q${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Nv(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=CY(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:g}=Bn;this.history.push({...m,timestamp:g});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_v(f,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Nv(h.type==="pointercancel"?this.lastMoveEventInfo:_v(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),m&&m(h,x)},!a$(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Hy(e),a=_v(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Bn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Nv(a,this.history)),this.removeListeners=ba(yo(this.contextWindow,"pointermove",this.handlePointerMove),yo(this.contextWindow,"pointerup",this.handlePointerUp),yo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jo(this.updatePoint)}}function _v(t,e){return e?{point:e(t.point)}:t}function FP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nv({point:t},e){return{point:t,delta:FP(t,H$(e)),offset:FP(t,OY(e)),velocity:jY(e,.1)}}function OY(t){return t[0]}function H$(t){return t[t.length-1]}function jY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=H$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ol(e)));)n--;if(!r)return{x:0,y:0};const s=xo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gr(t){return t.max-t.min}function oS(t,e=0,n=.01){return Math.abs(t-e)<=n}function WP(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),(oS(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(oS(t.translate)||isNaN(t.translate))&&(t.translate=0)}function jh(t,e,n,r){WP(t.x,e.x,n.x,r?r.originX:void 0),WP(t.y,e.y,n.y,r?r.originY:void 0)}function VP(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function PY(t,e,n){VP(t.x,e.x,n.x),VP(t.y,e.y,n.y)}function QP(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function Ph(t,e,n){QP(t.x,e.x,n.x),QP(t.y,e.y,n.y)}function TY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function HP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function AY(t,{top:e,left:n,bottom:r,right:i}){return{x:HP(t.x,n,i),y:HP(t.y,e,r)}}function qP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function EY(t,e){return{x:qP(t.x,e.x),y:qP(t.y,e.y)}}function MY(t,e){let n=.5;const r=Gr(t),i=Gr(e);return i>r?n=df(e.min,e.max-r,t.min):r>i&&(n=df(t.min,t.max-i,e.min)),Ta(0,1,n)}function RY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const aS=.35;function zY(t=aS){return t===!1?t=0:t===!0&&(t=aS),{x:UP(t,"left","right"),y:UP(t,"top","bottom")}}function UP(t,e,n){return{min:GP(t,e),max:GP(t,n)}}function GP(t,e){return typeof t=="number"?t:t[e]||0}const XP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:XP(),y:XP()}),KP=()=>({min:0,max:0}),nn=()=>({x:KP(),y:KP()});function ri(t){return[t("x"),t("y")]}function q$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function DY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $Y(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bv(t){return t===void 0||t===1}function lS({scale:t,scaleX:e,scaleY:n}){return!Bv(t)||!Bv(e)||!Bv(n)}function Ga(t){return lS(t)||U$(t)||t.z||t.rotate||t.rotateX||t.rotateY}function U$(t){return YP(t.x)||YP(t.y)}function YP(t){return t&&t!=="0%"}function b0(t,e,n){const r=t-n,i=e*r;return n+i}function ZP(t,e,n,r,i){return i!==void 0&&(t=b0(t,i,r)),b0(t,n,r)+e}function cS(t,e=0,n=1,r,i){t.min=ZP(t.min,e,n,r,i),t.max=ZP(t.max,e,n,r,i)}function G$(t,{x:e,y:n}){cS(t.x,e.translate,e.scale,e.originPoint),cS(t.y,n.translate,n.scale,n.originPoint)}function LY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ic(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,G$(t,o)),r&&Ga(s.latestValues)&&Ic(t,s.latestValues))}e.x=JP(e.x),e.y=JP(e.y)}function JP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function eT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=It(t.min,t.max,s);cS(t,e[n],e[r],o,e.scale)}const IY=["x","scaleX","originX"],_Y=["y","scaleY","originY"];function Ic(t,e){eT(t.x,e,IY),eT(t.y,e,_Y)}function X$(t,e){return q$($Y(t.getBoundingClientRect(),e))}function NY(t,e,n){const r=X$(t,n),{scroll:i}=e;return i&&(qo(r.x,i.offset.x),qo(r.y,i.offset.y)),r}const K$=({current:t})=>t?t.ownerDocument.defaultView:null,BY=new WeakMap;class FY{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hy(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=c$(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Rs.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[x];b&&(v=Gr(b)*(parseFloat(v)/100))}}this.originPoint[x]=v}),m&&Ot.update(()=>m(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=WY(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>ri(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Q$(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:K$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ot.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!um(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=TY(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Dc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=AY(i.layoutBox,n):this.constraints=!1,this.elastic=zY(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ri(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=RY(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=NY(r,i.root,this.visualElement.getTransformPagePoint());let o=EY(i.layout.layoutBox,s);if(n){const a=n(DY(o));this.hasMutatedConstraints=!!a,a&&(o=q$(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ri(d=>{if(!um(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(PC(e,r,0,n))}stopAnimation(){ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ri(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ri(n=>{const{drag:r}=this.getProps();if(!um(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-It(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ri(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=MY({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ri(o=>{if(!um(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(It(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;BY.set(this.visualElement,this);const e=this.visualElement.current,n=yo(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ho(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ri(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=aS,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function um(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VY extends Na{constructor(e){super(e),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new FY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const tT=t=>(e,n)=>{t&&Ot.update(()=>t(e,n))};class QY extends Na{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(e){this.session=new Q$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:K$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tT(e),onStart:tT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ot.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Y$(){const t=S.useContext(tp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=S.useId();return S.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function HY(){return qY(S.useContext(tp))}function qY(t){return t===null?!0:t.isPresent}const yg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=nT(t,e.target.x),r=nT(t,e.target.y);return`${n}% ${r}%`}},UY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Aa.parse(t);if(i.length>5)return r;const s=Aa.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=It(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class GY extends Xt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;eX(XY),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ot.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Z$(t){const[e,n]=Y$(),r=S.useContext(fC);return Xt.createElement(GY,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(q5),isPresent:e,safeToRemove:n})}const XY={borderRadius:{...zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zd,borderTopRightRadius:zd,borderBottomLeftRadius:zd,borderBottomRightRadius:zd,boxShadow:UY},J$=["TopLeft","TopRight","BottomLeft","BottomRight"],KY=J$.length,rT=t=>typeof t=="string"?parseFloat(t):t,iT=t=>typeof t=="number"||Re.test(t);function YY(t,e,n,r,i,s){i?(t.opacity=It(0,n.opacity!==void 0?n.opacity:1,ZY(r)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,JY(r))):s&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<KY;o++){const a=`border${J$[o]}Radius`;let l=sT(e,a),u=sT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||iT(l)===iT(u)?(t[a]=Math.max(It(rT(l),rT(u),r),0),(Rs.test(u)||Rs.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function sT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZY=eL(0,.5,S$),JY=eL(.5,.95,Zt);function eL(t,e,n){return r=>r<t?0:r>e?1:n(df(t,e,r))}function oT(t,e){t.min=e.min,t.max=e.max}function ti(t,e){oT(t.x,e.x),oT(t.y,e.y)}function aT(t,e,n,r,i){return t-=e,t=b0(t,1/n,r),i!==void 0&&(t=b0(t,1/i,r)),t}function eZ(t,e=0,n=1,r=.5,i,s=t,o=t){if(Rs.test(e)&&(e=parseFloat(e),e=It(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=It(s.min,s.max,r);t===s&&(a-=e),t.min=aT(t.min,e,n,a,i),t.max=aT(t.max,e,n,a,i)}function lT(t,e,[n,r,i],s,o){eZ(t,e[n],e[r],e[i],e.scale,s,o)}const tZ=["x","scaleX","originX"],nZ=["y","scaleY","originY"];function cT(t,e,n,r){lT(t.x,e,tZ,n?n.x:void 0,r?r.x:void 0),lT(t.y,e,nZ,n?n.y:void 0,r?r.y:void 0)}function uT(t){return t.translate===0&&t.scale===1}function tL(t){return uT(t.x)&&uT(t.y)}function rZ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function nL(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function dT(t){return Gr(t.x)/Gr(t.y)}class iZ{constructor(){this.members=[]}add(e){TC(this.members,e),e.scheduleRender()}remove(e){if(AC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const sZ=(t,e)=>t.depth-e.depth;class oZ{constructor(){this.children=[],this.isDirty=!1}add(e){TC(this.children,e),this.isDirty=!0}remove(e){AC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sZ),this.isDirty=!1,this.children.forEach(e)}}function aZ(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(jo(r),t(s-e))};return Ot.read(r,!0),()=>jo(r)}function lZ(t){window.MotionDebug&&window.MotionDebug.record(t)}function cZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function uZ(t,e,n){const r=Er(t)?t:Bu(t);return r.start(PC("",r,e,n)),r.animation}const fT=["","X","Y","Z"],dZ={visibility:"hidden"},pT=1e3;let hZ=0;const Xa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=hZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xa.totalNodes=Xa.resolvedTargetDeltas=Xa.recalculatedProjection=0,this.nodes.forEach(mZ),this.nodes.forEach(bZ),this.nodes.forEach(SZ),this.nodes.forEach(gZ),lZ(Xa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new EC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cZ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=aZ(f,250),yg.hasAnimatedSinceResize&&(yg.hasAnimatedSinceResize=!1,this.nodes.forEach(gT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||jZ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!nL(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const w={...jC(g,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||gT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mT);return}this.isUpdating||this.nodes.forEach(xZ),this.isUpdating=!1,this.nodes.forEach(vZ),this.nodes.forEach(fZ),this.nodes.forEach(pZ),this.clearAllSnapshots();const a=performance.now();Bn.delta=Ta(0,1e3/60,a-Bn.timestamp),Bn.timestamp=a,Bn.isProcessing=!0,Ev.update.process(Bn),Ev.preRender.process(Bn),Ev.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yZ),this.sharedNodes.forEach(kZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!tL(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Ga(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return nn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(qo(a.x,l.offset.x),qo(a.y,l.offset.y)),a}removeElementScroll(o){const a=nn();ti(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){ti(a,o);const{scroll:f}=this.root;f&&(qo(a.x,-f.offset.x),qo(a.y,-f.offset.y))}qo(a.x,d.offset.x),qo(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=nn();ti(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ic(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ga(d.latestValues)&&Ic(l,d.latestValues)}return Ga(this.latestValues)&&Ic(l,this.latestValues),l}removeTransform(o){const a=nn();ti(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ga(u.latestValues))continue;lS(u.latestValues)&&u.updateSnapshot();const d=nn(),h=u.measurePageBox();ti(d,h),cT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ga(this.latestValues)&&cT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Ph(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),G$(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Ph(this.relativeTargetOrigin,this.target,p.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lS(this.parent.latestValues)||U$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ti(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;LY(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=Lc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc());const g=this.projectionTransform;jh(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=hT(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Xa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=nn(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,x=this.getStack(),v=!x||x.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(OZ));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const k=w/1e3;yT(h.x,o.x,k),yT(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ph(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CZ(this.relativeTarget,this.relativeTargetOrigin,f,k),b&&rZ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=nn()),ti(b,this.relativeTarget)),g&&(this.animationValues=d,YY(d,u,this.latestValues,k,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{yg.hasAnimatedSinceResize=!0,this.currentAnimation=uZ(0,pT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&iL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||nn();const h=Gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ti(a,l),Ic(a,d),jh(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iZ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<fT.length;d++){const h="rotate"+fT[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dZ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gg(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=gg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ga(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=hT(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in f0){if(f[g]===void 0)continue;const{correct:x,applyTo:v}=f0[g],y=u.transform==="none"?f[g]:x(f[g],h);if(v){const b=v.length;for(let w=0;w<b;w++)u[v[w]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=h===this?gg(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(mT),this.root.sharedNodes.clear()}}}function fZ(t){t.updateLayout()}function pZ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ri(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gr(f);f.min=r[h].min,f.max=f.min+p}):iL(s,n.layoutBox,r)&&ri(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gr(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Lc();jh(a,r,n.layoutBox);const l=Lc();o?jh(l,t.applyTransform(i,!0),n.measuredBox):jh(l,r,n.layoutBox);const u=!tL(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=nn();Ph(m,n.layoutBox,f.layoutBox);const g=nn();Ph(g,r,p.layoutBox),nL(m,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mZ(t){Xa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yZ(t){t.clearSnapshot()}function mT(t){t.clearMeasurements()}function xZ(t){t.isLayoutDirty=!1}function vZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bZ(t){t.resolveTargetDelta()}function SZ(t){t.calcProjection()}function wZ(t){t.resetRotation()}function kZ(t){t.removeLeadSnapshot()}function yT(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xT(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function CZ(t,e,n,r){xT(t.x,e.x,n.x,r),xT(t.y,e.y,n.y,r)}function OZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jZ={duration:.45,ease:[.4,0,.1,1]},vT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),bT=vT("applewebkit/")&&!vT("chrome/")?Math.round:Zt;function ST(t){t.min=bT(t.min),t.max=bT(t.max)}function PZ(t){ST(t.x),ST(t.y)}function iL(t,e,n){return t==="position"||t==="preserve-aspect"&&!oS(dT(e),dT(n),.2)}const TZ=rL({attachResizeListener:(t,e)=>ho(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fv={current:void 0},sL=rL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fv.current){const t=new TZ({});t.mount(window),t.setOptions({layoutScroll:!0}),Fv.current=t}return Fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AZ={pan:{Feature:QY},drag:{Feature:VY,ProjectionNode:sL,MeasureLayout:Z$}},EZ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function MZ(t){const e=EZ.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function uS(t,e,n=1){const[r,i]=MZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return B$(o)?parseFloat(o):o}else return J1(i)?uS(i,e,n+1):i}function RZ(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!J1(s))return;const o=uS(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!J1(s))continue;const o=uS(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const zZ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oL=t=>zZ.has(t),DZ=t=>Object.keys(t).some(oL),wT=t=>t===Jl||t===Re,kT=(t,e)=>parseFloat(t.split(", ")[e]),CT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return kT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?kT(s[1],t):0}},$Z=new Set(["x","y","z"]),LZ=np.filter(t=>!$Z.has(t));function IZ(t){const e=[];return LZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Fu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:CT(4,13),y:CT(5,14)};Fu.translateX=Fu.x;Fu.translateY=Fu.y;const _Z=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Fu[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=Fu[u](l,s)}),t},NZ=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(oL);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Rd(d);const f=e[l];let p;if(m0(f)){const m=f.length,g=f[0]===null?1:0;d=f[g],h=Rd(d);for(let x=g;x<m&&f[x]!==null;x++)p?SC(Rd(f[x])===p):p=Rd(f[x])}else p=Rd(f);if(h!==p)if(wT(h)&&wT(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===Re&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?u.set(p.transform(d)):e[l]=h.transform(f):(o||(s=IZ(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=_Z(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Fy&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function BZ(t,e,n,r){return DZ(e)?NZ(t,e,n,r):{target:e,transitionEnd:r}}const FZ=(t,e,n,r)=>{const i=RZ(t,e,r);return e=i.target,r=i.transitionEnd,BZ(t,e,n,r)},dS={current:null},aL={current:!1};function WZ(){if(aL.current=!0,!!Fy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dS.current=t.matches;t.addListener(e),e()}else dS.current=!1}function VZ(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Er(s))t.addValue(i,s),v0(r)&&r.add(i);else if(Er(o))t.addValue(i,Bu(s,{owner:t})),v0(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Bu(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const OT=new WeakMap,lL=Object.keys(uf),QZ=lL.length,jT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],HZ=hC.length;class qZ{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ot.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Vy(n),this.isVariantNode=H5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&Er(f)&&(f.set(a[h],!1),v0(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,OT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aL.current||WZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OT.delete(this.current),this.projection&&this.projection.unmount(),jo(this.notifyUpdate),jo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Zl.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<QZ;l++){const u=lL[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=uf[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Dc(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jT.length;r++){const i=jT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=VZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<HZ;r++){const i=hC[r],s=this.props[i];(cf(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=bC(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Er(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new EC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cL extends qZ{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=lY(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){oY(this,r,o);const a=FZ(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function UZ(t){return window.getComputedStyle(t)}class GZ extends cL{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Zl.has(n)){const r=OC(n);return r&&r.default||0}else{const r=UZ(e),i=(X5(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return X$(e,n)}build(e,n,r,i){mC(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return vC(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Er(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){t$(e,n,r,i)}}class XZ extends cL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zl.has(n)){const r=OC(n);return r&&r.default||0}return n=n$.has(n)?n:uC(n),e.getAttribute(n)}measureInstanceViewportBox(){return nn()}scrapeMotionValuesFromProps(e,n){return i$(e,n)}build(e,n,r,i){yC(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){r$(e,n,r,i)}mount(e){this.isSVGTag=xC(e.tagName),super.mount(e)}}const KZ=(t,e)=>pC(t)?new XZ(e,{enableHardwareAcceleration:!1}):new GZ(e,{enableHardwareAcceleration:!0}),YZ={layout:{ProjectionNode:sL,MeasureLayout:Z$}},ZZ={...kY,...VX,...AZ,...YZ},Ro=ZG((t,e)=>EX(t,e,ZZ,KZ));function uL(){const t=S.useRef(!1);return cC(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function JZ(){const t=uL(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>Ot.postRender(r),[r]),e]}class eJ extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tJ({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(eJ,{isPresent:e,childRef:r,sizeRef:i},S.cloneElement(t,{ref:r}))}const Wv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=s$(nJ),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return S.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=S.createElement(tJ,{isPresent:n},t)),S.createElement(tp.Provider,{value:u},t)};function nJ(){return new Map}function rJ(t){return S.useEffect(()=>()=>t(),[])}const Ka=t=>t.key||"";function iJ(t,e){t.forEach(n=>{const r=Ka(n);e.set(r,n)})}function sJ(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const ec=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=S.useContext(fC).forceRender||JZ()[0],l=uL(),u=sJ(t);let d=u;const h=S.useRef(new Map).current,f=S.useRef(d),p=S.useRef(new Map).current,m=S.useRef(!0);if(cC(()=>{m.current=!1,iJ(u,p),f.current=d}),rJ(()=>{m.current=!0,p.clear(),h.clear()}),m.current)return S.createElement(S.Fragment,null,d.map(y=>S.createElement(Wv,{key:Ka(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},y)));d=[...d];const g=f.current.map(Ka),x=u.map(Ka),v=g.length;for(let y=0;y<v;y++){const b=g[y];x.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((y,b)=>{if(x.indexOf(b)!==-1)return;const w=p.get(b);if(!w)return;const k=g.indexOf(b);let O=y;if(!O){const C=()=>{h.delete(b);const j=Array.from(p.keys()).filter(P=>!x.includes(P));if(j.forEach(P=>p.delete(P)),f.current=u.filter(P=>{const A=Ka(P);return A===b||j.includes(A)}),!h.size){if(l.current===!1)return;a(),r&&r()}};O=S.createElement(Wv,{key:Ka(w),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:s,mode:o},w),h.set(b,O)}d.splice(k,0,O)}),d=d.map(y=>{const b=y.key;return h.has(b)?y:S.createElement(Wv,{key:Ka(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),S.createElement(S.Fragment,null,h.size?d:d.map(y=>S.cloneElement(y)))},oJ=(t,e)=>t.find(n=>n.id===e);function PT(t,e){const n=dL(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function dL(t,e){for(const[n,r]of Object.entries(t))if(oJ(r,e))return n}function aJ(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function lJ(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}var cJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uJ=j5(function(t){return cJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),dJ=uJ,hJ=function(e){return e!=="theme"},TT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?dJ:hJ},AT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},fJ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return rC(n,r,i),$5(function(){return iC(n,r,i)}),null},pJ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=AT(e,n,r),l=a||TT(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],f[m])}var g=oC(function(x,v,y){var b=u&&x.as||i,w="",k=[],O=x;if(x.theme==null){O={};for(var C in x)O[C]=x[C];O.theme=S.useContext(Nu)}typeof x.className=="string"?w=R5(v.registered,k,x.className):x.className!=null&&(w=x.className+" ");var j=Iy(h.concat(k),v.registered,O);w+=v.key+"-"+j.name,o!==void 0&&(w+=" "+o);var P=u&&a===void 0?TT(b):l,A={};for(var E in x)u&&E==="as"||P(E)&&(A[E]=x[E]);return A.className=w,y&&(A.ref=y),S.createElement(S.Fragment,null,S.createElement(fJ,{cache:v,serialized:j,isStringTag:typeof b=="string"}),S.createElement(b,A))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(x,v){var y=t(x,Pa({},n,v,{shouldForwardProp:AT(g,v,!0)}));return y.apply(void 0,h)},g}},mJ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hS=pJ.bind(null);mJ.forEach(function(t){hS[t]=hS(t)});const gJ=new Set([...Q8,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),yJ=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function xJ(t){return(yJ.has(t)||!gJ.has(t))&&t[0]!=="_"}const vJ=AW(hS),bJ=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,[a]=LW(o,q8),l=Nr(t,e),u=mW({},i,l,xy(a),s),d=i5(u)(e.theme);return r?[d,r]:d};function Vv(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=xJ);const i=bJ({baseStyle:n}),s=vJ(t,r)(i);return S.forwardRef(function(l,u){const{children:d,...h}=l,{colorMode:f,forced:p}=Ny(),m=p?f:void 0;return S.createElement(s,{ref:u,"data-theme":m,...h},d)})}function SJ(){const t=new Map;return new Proxy(Vv,{apply(e,n,r){return Vv(...r)},get(e,n){return t.has(n)||t.set(n,Vv(n)),t.get(n)}})}const te=SJ(),wJ={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},hL=S.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=wJ,toastSpacing:d="0.5rem"}=t,[h,f]=S.useState(a),p=HY();ja(()=>{p||r==null||r()},[p]),ja(()=>{f(a)},[a]);const m=()=>f(null),g=()=>f(a),x=()=>{p&&i()};S.useEffect(()=>{p&&s&&i()},[p,s,i]),GW(x,h);const v=S.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...l}),[l,d]),y=S.useMemo(()=>aJ(o),[o]);return c.jsx(Ro.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:m,onHoverEnd:g,custom:{position:o},style:y,children:c.jsx(te.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:v,children:Nr(n,{id:e,onClose:x})})})});hL.displayName="ToastComponent";function re(t){return S.forwardRef(t)}var kJ=typeof Element<"u",CJ=typeof Map=="function",OJ=typeof Set=="function",jJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!xg(t[r],e[r]))return!1;return!0}var s;if(CJ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!xg(r.value[1],e.get(r.value[0])))return!1;return!0}if(OJ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(jJ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(kJ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!xg(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var PJ=function(e,n){try{return xg(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const TJ=J0(PJ);function op(){const t=S.useContext(Nu);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function fL(){const t=Ny(),e=op();return{...t,theme:e}}function AJ(t,e,n){if(e==null)return e;const r=i=>{var s,o;return(o=(s=t.__cssMap)==null?void 0:s[i])==null?void 0:o.value};return r(e)??r(n)??n}function EJ(t,e,n){const r=Array.isArray(e)?e:[e],i=Array.isArray(n)?n:[n];return s=>{const o=i.filter(Boolean),a=r.map((l,u)=>{const d=`${t}.${l}`;return AJ(s,d,o[u]??l)});return Array.isArray(e)?a:a[0]}}function MJ(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0&&e!=="children"&&!S.isValidElement(n)))}function pL(t,e={}){const{styleConfig:n,...r}=e,{theme:i,colorMode:s}=fL(),o=t?QD(i,`components.${t}`):void 0,a=n||o,l=di({theme:i,colorMode:s},(a==null?void 0:a.defaultProps)??{},MJ(r),(d,h)=>d?void 0:h),u=S.useRef({});if(a){const h=rV(a)(l);TJ(u.current,h)||(u.current=h)}return u.current}function Ci(t,e={}){return pL(t,e)}function gn(t,e={}){return pL(t,e)}const ET={path:c.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),c.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),c.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},X=re((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...u}=t,d=xe("chakra-icon",a),h=Ci("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...h},p={ref:e,focusable:s,className:d,__css:f},m=r??ET.viewBox;if(n&&typeof n!="string")return c.jsx(te.svg,{as:n,...p,...u});const g=o??ET.path;return c.jsx(te.svg,{verticalAlign:"middle",viewBox:m,...p,...u,children:g})});X.displayName="Icon";function RJ(t){return c.jsx(X,{viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function zJ(t){return c.jsx(X,{viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function MT(t){return c.jsx(X,{viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const DJ=ar({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Rr=re((t,e)=>{const n=Ci("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=pt(t),u=xe("chakra-spinner",a),d={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${DJ} ${s} linear infinite`,...n};return c.jsx(te.div,{ref:e,__css:d,className:u,...l,children:r&&c.jsx(te.span,{srOnly:!0,children:r})})});Rr.displayName="Spinner";const[$J,MC]=tt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[LJ,RC]=tt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),mL={info:{icon:zJ,colorScheme:"blue"},warning:{icon:MT,colorScheme:"orange"},success:{icon:RJ,colorScheme:"green"},error:{icon:MT,colorScheme:"red"},loading:{icon:Rr,colorScheme:"blue"}};function IJ(t){return mL[t].colorScheme}function _J(t){return mL[t].icon}const vi=re(function(e,n){const{status:r="info",addRole:i=!0,...s}=pt(e),o=e.colorScheme??IJ(r),a=gn("Alert",{...e,colorScheme:o}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return c.jsx($J,{value:{status:r},children:c.jsx(LJ,{value:a,children:c.jsx(te.div,{"data-status":r,role:i?"alert":void 0,ref:n,...s,className:xe("chakra-alert",e.className),__css:l})})})});vi.displayName="Alert";function bi(t){const{status:e}=MC(),n=_J(e),r=RC(),i=e==="loading"?r.spinner:r.icon;return c.jsx(te.span,{display:"inherit","data-status":e,...t,className:xe("chakra-alert__icon",t.className),__css:i,children:t.children||c.jsx(n,{h:"100%",w:"100%"})})}bi.displayName="AlertIcon";const zC=re(function(e,n){const r=RC(),{status:i}=MC();return c.jsx(te.div,{ref:n,"data-status":i,...e,className:xe("chakra-alert__title",e.className),__css:r.title})});zC.displayName="AlertTitle";const DC=re(function(e,n){const{status:r}=MC(),i=RC(),s={display:"inline",...i.description};return c.jsx(te.div,{ref:n,"data-status":r,...e,className:xe("chakra-alert__desc",e.className),__css:s})});DC.displayName="AlertDescription";function NJ(t){return c.jsx(X,{focusable:"false","aria-hidden":!0,...t,children:c.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const hf=re(function(e,n){const r=Ci("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=pt(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return c.jsx(te.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||c.jsx(NJ,{width:"1em",height:"1em"})})});hf.displayName="CloseButton";const BJ=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:u}=t,d=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return c.jsxs(vi,{addRole:!1,status:e,variant:n,id:d==null?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[c.jsx(bi,{children:u}),c.jsxs(te.div,{flex:"1",maxWidth:"100%",children:[i&&c.jsx(zC,{id:d==null?void 0:d.title,children:i}),a&&c.jsx(DC,{id:d==null?void 0:d.description,display:"block",children:a})]}),s&&c.jsx(hf,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function gL(t={}){const{render:e,toastComponent:n=BJ}=t;return i=>typeof e=="function"?e({...i,...t}):c.jsx(n,{...i,...t})}const FJ={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},bs=WJ(FJ);function WJ(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=VJ(i,s),{position:a,id:l}=o;return r(u=>{const h=a.includes("top")?[o,...u[a]??[]]:[...u[a]??[],o];return{...u,[a]:h}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:u}=PT(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...s,message:gL(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=s[u].map(d=>({...d,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=dL(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!PT(bs.getState(),i).position}}let RT=0;function VJ(t,e={}){RT+=1;const n=e.id??RT,r=e.position??"bottom";return{id:n,message:t,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>bs.removeToast(String(n),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}const[yL,QJ]=tt({strict:!1,name:"PortalContext"}),$C="chakra-portal",HJ=".chakra-portal",qJ=t=>c.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),UJ=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=S.useState(null),s=S.useRef(null),[,o]=S.useState({});S.useEffect(()=>o({}),[]);const a=QJ(),l=FG();Sl(()=>{if(!r)return;const d=r.ownerDocument,h=e?a??d.body:d.body;if(!h)return;s.current=d.createElement("div"),s.current.className=$C,h.appendChild(s.current),o({});const f=s.current;return()=>{h.contains(f)&&h.removeChild(f)}},[r]);const u=l!=null&&l.zIndex?c.jsx(qJ,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?Nk.createPortal(c.jsx(yL,{value:s.current,children:u}),s.current):c.jsx("span",{ref:d=>{d&&i(d)}})},GJ=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=S.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=$C),l},[i]),[,a]=S.useState({});return Sl(()=>a({}),[]),Sl(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?Nk.createPortal(c.jsx(yL,{value:r?o:null,children:e}),o):null};function cd(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?c.jsx(GJ,{containerRef:n,...r}):c.jsx(UJ,{...r})}cd.className=$C;cd.selector=HJ;cd.displayName="Portal";const[XJ,KJ]=tt({name:"ToastOptionsContext",strict:!1}),YJ=t=>{const e=S.useSyncExternalStore(bs.subscribe,bs.getState,bs.getState),{motionVariants:n,component:r=hL,portalProps:i,animatePresenceProps:s}=t,a=Object.keys(e).map(l=>{const u=e[l];return c.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${l}`,id:`chakra-toast-manager-${l}`,style:lJ(l),children:c.jsx(ec,{...s,initial:!1,children:u.map(d=>c.jsx(r,{motionVariants:n,...d},d.id))})},l)});return c.jsx(cd,{...i,children:a})},ZJ=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return c.jsxs(WG,{theme:r,...s,children:[c.jsx(XJ,{value:i==null?void 0:i.defaultOptions,children:n}),c.jsx(YJ,{...i})]})},JJ=ZJ(v5);function zT(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const eee=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function DT(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function $T(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}const Qv=typeof window<"u"?S.useLayoutEffect:S.useEffect,LT=t=>t;var tee=Object.defineProperty,nee=(t,e,n)=>e in t?tee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vt=(t,e,n)=>(nee(t,typeof e!="symbol"?e+"":e,n),n);class ree{constructor(){Vt(this,"descendants",new Map),Vt(this,"register",e=>{if(e!=null)return eee(e)?this.registerNode(e):n=>{this.registerNode(n,e)}}),Vt(this,"unregister",e=>{this.descendants.delete(e);const n=zT(Array.from(this.descendants.keys()));this.assignIndex(n)}),Vt(this,"destroy",()=>{this.descendants.clear()}),Vt(this,"assignIndex",e=>{this.descendants.forEach(n=>{const r=e.indexOf(n.node);n.index=r,n.node.dataset.index=n.index.toString()})}),Vt(this,"count",()=>this.descendants.size),Vt(this,"enabledCount",()=>this.enabledValues().length),Vt(this,"values",()=>Array.from(this.descendants.values()).sort((n,r)=>n.index-r.index)),Vt(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),Vt(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),Vt(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),Vt(this,"first",()=>this.item(0)),Vt(this,"firstEnabled",()=>this.enabledItem(0)),Vt(this,"last",()=>this.item(this.descendants.size-1)),Vt(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),Vt(this,"indexOf",e=>{var n;return e?((n=this.descendants.get(e))==null?void 0:n.index)??-1:-1}),Vt(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(n=>n.node.isSameNode(e))),Vt(this,"next",(e,n=!0)=>{const r=DT(e,this.count(),n);return this.item(r)}),Vt(this,"nextEnabled",(e,n=!0)=>{const r=this.item(e);if(!r)return;const i=this.enabledIndexOf(r.node),s=DT(i,this.enabledCount(),n);return this.enabledItem(s)}),Vt(this,"prev",(e,n=!0)=>{const r=$T(e,this.count()-1,n);return this.item(r)}),Vt(this,"prevEnabled",(e,n=!0)=>{const r=this.item(e);if(!r)return;const i=this.enabledIndexOf(r.node),s=$T(i,this.enabledCount()-1,n);return this.enabledItem(s)}),Vt(this,"registerNode",(e,n)=>{if(!e||this.descendants.has(e))return;const r=Array.from(this.descendants.keys()).concat(e),i=zT(r);n!=null&&n.disabled&&(n.disabled=!!n.disabled);const s={node:e,index:-1,...n};this.descendants.set(e,s),this.assignIndex(i)})}}function LC(){const[t,e]=tt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,e,()=>{const i=S.useRef(new ree);return Qv(()=>()=>i.current.destroy()),i.current},i=>{const s=e(),[o,a]=S.useState(-1),l=S.useRef(null);Qv(()=>()=>{l.current&&s.unregister(l.current)},[]),Qv(()=>{if(!l.current)return;const d=Number(l.current.dataset.index);o!=d&&!Number.isNaN(d)&&a(d)});const u=LT(i?s.register(i):s.register);return{descendants:s,index:o,enabledIndex:s.enabledIndexOf(l.current),register:Bt(u,l)}}]}const[iee,Uy]=tt({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[see,IC]=tt({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[oee,Oye,aee,lee]=LC();function cee(t){const{onChange:e,defaultIndex:n,index:r,allowMultiple:i,allowToggle:s,...o}=t;hee(t),fee(t);const a=aee(),[l,u]=S.useState(-1);S.useEffect(()=>()=>{u(-1)},[]);const[d,h]=Vk({value:r,defaultValue(){return i?n??[]:n??-1},onChange:e});return{index:d,setIndex:h,htmlProps:o,getAccordionItemProps:p=>{let m=!1;return p!==null&&(m=Array.isArray(d)?d.includes(p):d===p),{isOpen:m,onChange:x=>{if(p!==null)if(i&&Array.isArray(d)){const v=x?d.concat(p):d.filter(y=>y!==p);h(v)}else x?h(p):s&&h(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:a}}const[uee,_C]=tt({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function dee(t){const{isDisabled:e,isFocusable:n,id:r,...i}=t,{getAccordionItemProps:s,setFocusedIndex:o}=_C(),a=S.useRef(null),l=S.useId(),u=r??l,d=`accordion-button-${u}`,h=`accordion-panel-${u}`;pee(t);const{register:f,index:p,descendants:m}=lee({disabled:e&&!n}),{isOpen:g,onChange:x}=s(p===-1?null:p);mee({isOpen:g,isDisabled:e});const v=()=>{x==null||x(!0)},y=()=>{x==null||x(!1)},b=S.useCallback(()=>{x==null||x(!g),o(p)},[p,o,g,x]),w=S.useCallback(j=>{const A={ArrowDown:()=>{const E=m.nextEnabled(p);E==null||E.node.focus()},ArrowUp:()=>{const E=m.prevEnabled(p);E==null||E.node.focus()},Home:()=>{const E=m.firstEnabled();E==null||E.node.focus()},End:()=>{const E=m.lastEnabled();E==null||E.node.focus()}}[j.key];A&&(j.preventDefault(),A(j))},[m,p]),k=S.useCallback(()=>{o(p)},[o,p]),O=S.useCallback(function(P={},A=null){return{...P,type:"button",ref:Bt(f,a,A),id:d,disabled:!!e,"aria-expanded":!!g,"aria-controls":h,onClick:$e(P.onClick,b),onFocus:$e(P.onFocus,k),onKeyDown:$e(P.onKeyDown,w)}},[d,e,g,b,k,w,h,f]),C=S.useCallback(function(P={},A=null){return{...P,ref:A,role:"region",id:h,"aria-labelledby":d,hidden:!g}},[d,g,h]);return{isOpen:g,isDisabled:e,isFocusable:n,onOpen:v,onClose:y,getButtonProps:O,getPanelProps:C,htmlProps:i}}function hee(t){const e=t.index||t.defaultIndex,n=e!=null&&!Array.isArray(e)&&t.allowMultiple;Kf({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof e},`})}function fee(t){Kf({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function pee(t){Kf({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function mee(t){Kf({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}const NC=re(function({children:e,reduceMotion:n,...r},i){const s=gn("Accordion",r),o=pt(r),{htmlProps:a,descendants:l,...u}=cee(o),d=S.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return c.jsx(oee,{value:l,children:c.jsx(uee,{value:d,children:c.jsx(iee,{value:s,children:c.jsx(te.div,{ref:i,...a,className:xe("chakra-accordion",r.className),__css:s.root,children:e})})})})});NC.displayName="Accordion";const BC=re(function(e,n){const{getButtonProps:r}=IC(),i=r(e,n),o={display:"flex",alignItems:"center",width:"100%",outline:0,...Uy().button};return c.jsx(te.button,{...i,className:xe("chakra-accordion__button",e.className),__css:o})});BC.displayName="AccordionButton";function FC(t){const{isOpen:e,isDisabled:n}=IC(),{reduceMotion:r}=_C(),i=xe("chakra-accordion__icon",t.className),s=Uy(),o={opacity:n?.4:1,transform:e?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return c.jsx(X,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:o,...t,children:c.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}FC.displayName="AccordionIcon";const WC=re(function(e,n){const{children:r,className:i}=e,{htmlProps:s,...o}=dee(e),a=Uy(),l={...a.container,overflowAnchor:"none"},u=S.useMemo(()=>o,[o]);return c.jsx(see,{value:u,children:c.jsx(te.div,{ref:n,...s,className:xe("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!o.isOpen,isDisabled:!!o.isDisabled}):r})})});WC.displayName="AccordionItem";const _c={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},jl={enter:{duration:.2,ease:_c.easeOut},exit:{duration:.1,ease:_c.easeIn}},vo={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},gee=t=>t!=null&&parseInt(t.toString(),10)>0,IT={exit:{height:{duration:.2,ease:_c.ease},opacity:{duration:.3,ease:_c.ease}},enter:{height:{duration:.3,ease:_c.ease},opacity:{duration:.4,ease:_c.ease}}},yee={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>({...t&&{opacity:gee(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(n==null?void 0:n.exit)??vo.exit(IT.exit,i)}),enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>({...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(n==null?void 0:n.enter)??vo.enter(IT.enter,i)})},ap=S.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:o="auto",style:a,className:l,transition:u,transitionEnd:d,animatePresenceProps:h,...f}=t,[p,m]=S.useState(!1);S.useEffect(()=>{const b=setTimeout(()=>{m(!0)});return()=>clearTimeout(b)},[]),Kf({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const g=parseFloat(s.toString())>0,x={startingHeight:s,endingHeight:o,animateOpacity:i,transition:p?u:{enter:{duration:0}},transitionEnd:{enter:d==null?void 0:d.enter,exit:r?d==null?void 0:d.exit:{...d==null?void 0:d.exit,display:g?"block":"none"}}},v=r?n:!0,y=n||r?"enter":"exit";return c.jsx(ec,{...h,initial:!1,custom:x,children:v&&c.jsx(Ro.div,{ref:e,...f,className:xe("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:x,variants:yee,initial:r?"exit":!1,animate:y,exit:"exit"})})});ap.displayName="Collapse";const VC=re(function(e,n){const{className:r,motionProps:i,...s}=e,{reduceMotion:o}=_C(),{getPanelProps:a,isOpen:l}=IC(),u=a(s,n),d=xe("chakra-accordion__panel",r),h=Uy();o||delete u.hidden;const f=c.jsx(te.div,{...u,__css:h.panel,className:d});return o?f:c.jsx(ap,{in:l,...i,children:f})});VC.displayName="AccordionPanel";const De=re(function(e,n){const r=Ci("Badge",e),{className:i,...s}=pt(e);return c.jsx(te.span,{ref:n,className:xe("chakra-badge",e.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});De.displayName="Badge";const N=te("div");N.displayName="Box";const[jye,xee]=tt({strict:!1,name:"ButtonGroupContext"});function Zd(t){const{children:e,className:n,...r}=t,i=S.isValidElement(e)?S.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=xe("chakra-button__icon",n);return c.jsx(te.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}Zd.displayName="ButtonIcon";function fS(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=c.jsx(Rr,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=xe("chakra-button__spinner",s),u=n==="start"?"marginEnd":"marginStart",d=S.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,u,r]);return c.jsx(te.div,{className:l,...a,__css:d,children:i})}fS.displayName="ButtonSpinner";function vee(t){const[e,n]=S.useState(!t);return{ref:S.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}const ge=re((t,e)=>{const n=xee(),r=Ci("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:u,loadingText:d,iconSpacing:h="0.5rem",type:f,spinner:p,spinnerPlacement:m="start",className:g,as:x,shouldWrapChildren:v,...y}=pt(t),b=S.useMemo(()=>{const C={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:C}}},[r,n]),{ref:w,type:k}=vee(x),O={rightIcon:u,leftIcon:l,iconSpacing:h,children:a,shouldWrapChildren:v};return c.jsxs(te.button,{disabled:i||s,ref:qW(e,w),as:x,type:f??k,"data-active":Le(o),"data-loading":Le(s),__css:b,className:xe("chakra-button",g),...y,children:[s&&m==="start"&&c.jsx(fS,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:h,children:p}),s?d||c.jsx(te.span,{opacity:0,children:c.jsx(_T,{...O})}):c.jsx(_T,{...O}),s&&m==="end"&&c.jsx(fS,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:h,children:p})]})});ge.displayName="Button";function _T(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i,shouldWrapChildren:s}=t;return s?c.jsxs("span",{style:{display:"contents"},children:[e&&c.jsx(Zd,{marginEnd:i,children:e}),r,n&&c.jsx(Zd,{marginStart:i,children:n})]}):c.jsxs(c.Fragment,{children:[e&&c.jsx(Zd,{marginEnd:i,children:e}),r,n&&c.jsx(Zd,{marginStart:i,children:n})]})}const _t=re((t,e)=>{const{icon:n,children:r,isRound:i,"aria-label":s,...o}=t,a=n||r,l=S.isValidElement(a)?S.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return c.jsx(ge,{px:"0",py:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:l})});_t.displayName="IconButton";const[bee,See]=_G("Card"),Ye=re(function(e,n){const{className:r,children:i,direction:s="column",justify:o,align:a,...l}=pt(e),u=gn("Card",e);return c.jsx(te.div,{ref:n,className:xe("chakra-card",r),__css:{display:"flex",flexDirection:s,justifyContent:o,alignItems:a,position:"relative",minWidth:0,wordWrap:"break-word",...u.container},...l,children:c.jsx(bee,{value:u,children:i})})}),Ze=re(function(e,n){const{className:r,...i}=e,s=See();return c.jsx(te.div,{ref:n,className:xe("chakra-card__body",r),__css:s.body,...i})}),[Pye,wee]=tt({name:"CheckboxGroupContext",strict:!1});function kee(t){return c.jsx(te.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:c.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Cee(t){return c.jsx(te.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:c.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Oee(t){const{isIndeterminate:e,isChecked:n,...r}=t,i=e?Cee:kee;return n||e?c.jsx(te.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:c.jsx(i,{...r})}):null}var jee=()=>typeof document<"u",NT=!1,lp=null,Il=!1,pS=!1,mS=new Set;function QC(t,e){mS.forEach(n=>n(t,e))}var Pee=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function Tee(t){return!(t.metaKey||!Pee&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function BT(t){Il=!0,Tee(t)&&(lp="keyboard",QC("keyboard",t))}function cc(t){if(lp="pointer",t.type==="mousedown"||t.type==="pointerdown"){Il=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let n=!1;try{n=e.matches(":focus-visible")}catch{}if(n)return;QC("pointer",t)}}function Aee(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function Eee(t){Aee(t)&&(Il=!0,lp="virtual")}function Mee(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Il&&!pS&&(lp="virtual",QC("virtual",t)),Il=!1,pS=!1)}function Ree(){Il=!1,pS=!0}function FT(){return lp!=="pointer"}function zee(){if(!jee()||NT)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){Il=!0,t.apply(this,n)},document.addEventListener("keydown",BT,!0),document.addEventListener("keyup",BT,!0),document.addEventListener("click",Eee,!0),window.addEventListener("focus",Mee,!0),window.addEventListener("blur",Ree,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",cc,!0),document.addEventListener("pointermove",cc,!0),document.addEventListener("pointerup",cc,!0)):(document.addEventListener("mousedown",cc,!0),document.addEventListener("mousemove",cc,!0),document.addEventListener("mouseup",cc,!0)),NT=!0}function Dee(t){zee(),t(FT());const e=()=>t(FT());return mS.add(e),()=>{mS.delete(e)}}const[$ee,xL]=tt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Lee,Gy]=tt({strict:!1,name:"FormControlContext"});function Iee(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...o}=t,a=S.useId(),l=e||`field-${a}`,u=`${l}-label`,d=`${l}-feedback`,h=`${l}-helptext`,[f,p]=S.useState(!1),[m,g]=S.useState(!1),[x,v]=S.useState(!1),y=S.useCallback((C={},j=null)=>({id:h,...C,ref:Bt(j,P=>{P&&g(!0)})}),[h]),b=S.useCallback((C={},j=null)=>({...C,ref:j,"data-focus":Le(x),"data-disabled":Le(i),"data-invalid":Le(r),"data-readonly":Le(s),id:C.id!==void 0?C.id:u,htmlFor:C.htmlFor!==void 0?C.htmlFor:l}),[l,i,x,r,s,u]),w=S.useCallback((C={},j=null)=>({id:d,...C,ref:Bt(j,P=>{P&&p(!0)}),"aria-live":"polite"}),[d]),k=S.useCallback((C={},j=null)=>({...C,...o,ref:j,role:"group","data-focus":Le(x),"data-disabled":Le(i),"data-invalid":Le(r),"data-readonly":Le(s)}),[o,i,x,r,s]),O=S.useCallback((C={},j=null)=>({...C,ref:j,role:"presentation","aria-hidden":!0,children:C.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!x,onFocus:()=>v(!0),onBlur:()=>v(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:m,setHasHelpText:g,id:l,labelId:u,feedbackId:d,helpTextId:h,htmlProps:o,getHelpTextProps:y,getErrorMessageProps:w,getRootProps:k,getLabelProps:b,getRequiredIndicatorProps:O}}const we=re(function(e,n){const r=gn("Form",e),i=pt(e),{getRootProps:s,htmlProps:o,...a}=Iee(i),l=xe("chakra-form-control",e.className);return c.jsx(Lee,{value:a,children:c.jsx($ee,{value:r,children:c.jsx(te.div,{...s({},n),className:l,__css:r.container})})})});we.displayName="FormControl";const _ee=re(function(e,n){const r=Gy(),i=xL(),s=xe("chakra-form__helper-text",e.className);return c.jsx(te.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});_ee.displayName="FormHelperText";function HC(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=qC(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":mo(n),"aria-required":mo(i),"aria-readonly":mo(r)}}function qC(t){const e=Gy(),{id:n,disabled:r,readOnly:i,required:s,isRequired:o,isInvalid:a,isReadOnly:l,isDisabled:u,onFocus:d,onBlur:h,...f}=t,p=t["aria-describedby"]?[t["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&p.push(e.feedbackId),e!=null&&e.hasHelpText&&p.push(e.helpTextId),{...f,"aria-describedby":p.join(" ")||void 0,id:n??(e==null?void 0:e.id),isDisabled:r??u??(e==null?void 0:e.isDisabled),isReadOnly:i??l??(e==null?void 0:e.isReadOnly),isRequired:s??o??(e==null?void 0:e.isRequired),isInvalid:a??(e==null?void 0:e.isInvalid),onFocus:$e(e==null?void 0:e.onFocus,d),onBlur:$e(e==null?void 0:e.onBlur,h)}}const Nee={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function vL(t={}){const e=qC(t),{isDisabled:n,isReadOnly:r,isRequired:i,isInvalid:s,id:o,onBlur:a,onFocus:l,"aria-describedby":u}=e,{defaultChecked:d,isChecked:h,isFocusable:f,onChange:p,isIndeterminate:m,name:g,value:x,tabIndex:v=void 0,"aria-label":y,"aria-labelledby":b,"aria-invalid":w,...k}=t,O=vy(k,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),C=Yt(p),j=Yt(a),P=Yt(l),[A,E]=S.useState(!1),[F,H]=S.useState(!1),[_,B]=S.useState(!1),ee=S.useRef(!1);S.useEffect(()=>Dee(de=>{ee.current=de}),[]);const W=S.useRef(null),[L,Q]=S.useState(!0),[I,Y]=S.useState(!!d),ie=h!==void 0,Z=ie?h:I,se=S.useCallback(de=>{if(r||n){de.preventDefault();return}ie||Y(Z?de.currentTarget.checked:m?!0:de.currentTarget.checked),C==null||C(de)},[r,n,Z,ie,m,C]);Sl(()=>{W.current&&(W.current.indeterminate=!!m)},[m]),ja(()=>{n&&E(!1)},[n,E]),Sl(()=>{const de=W.current;if(!(de!=null&&de.form))return;const wt=()=>{Y(!!d)};return de.form.addEventListener("reset",wt),()=>{var nt;return(nt=de.form)==null?void 0:nt.removeEventListener("reset",wt)}},[]);const V=n&&!f,J=S.useCallback(de=>{de.key===" "&&B(!0)},[B]),U=S.useCallback(de=>{de.key===" "&&B(!1)},[B]);Sl(()=>{if(!W.current)return;W.current.checked!==Z&&Y(W.current.checked)},[W.current]);const Se=S.useCallback((de={},wt=null)=>{const nt=Wt=>{A&&Wt.preventDefault(),B(!0)};return{...de,ref:wt,"data-active":Le(_),"data-hover":Le(F),"data-checked":Le(Z),"data-focus":Le(A),"data-focus-visible":Le(A&&ee.current),"data-indeterminate":Le(m),"data-disabled":Le(n),"data-invalid":Le(s),"data-readonly":Le(r),"aria-hidden":!0,onMouseDown:$e(de.onMouseDown,nt),onMouseUp:$e(de.onMouseUp,()=>B(!1)),onMouseEnter:$e(de.onMouseEnter,()=>H(!0)),onMouseLeave:$e(de.onMouseLeave,()=>H(!1))}},[_,Z,n,A,F,m,s,r]),_e=S.useCallback((de={},wt=null)=>({...de,ref:wt,"data-active":Le(_),"data-hover":Le(F),"data-checked":Le(Z),"data-focus":Le(A),"data-focus-visible":Le(A&&ee.current),"data-indeterminate":Le(m),"data-disabled":Le(n),"data-invalid":Le(s),"data-readonly":Le(r)}),[_,Z,n,A,F,m,s,r]),We=S.useCallback((de={},wt=null)=>({...O,...de,ref:Bt(wt,nt=>{nt&&Q(nt.tagName==="LABEL")}),onClick:$e(de.onClick,()=>{var nt;L||((nt=W.current)==null||nt.click(),requestAnimationFrame(()=>{var Wt;(Wt=W.current)==null||Wt.focus({preventScroll:!0})}))}),"data-disabled":Le(n),"data-checked":Le(Z),"data-invalid":Le(s)}),[O,n,Z,s,L]),he=S.useCallback((de={},wt=null)=>({...de,ref:Bt(W,wt),type:"checkbox",name:g,value:x,id:o,tabIndex:v,onChange:$e(de.onChange,se),onBlur:$e(de.onBlur,j,()=>E(!1)),onFocus:$e(de.onFocus,P,()=>E(!0)),onKeyDown:$e(de.onKeyDown,J),onKeyUp:$e(de.onKeyUp,U),required:i,checked:Z,disabled:V,readOnly:r,"aria-label":y,"aria-labelledby":b,"aria-invalid":w?!!w:s,"aria-describedby":u,"aria-disabled":n,"aria-checked":m?"mixed":Z,style:Nee}),[g,x,o,v,se,j,P,J,U,i,Z,V,r,y,b,w,s,u,n,m]),Me=S.useCallback((de={},wt=null)=>({...de,ref:wt,onMouseDown:$e(de.onMouseDown,Bee),"data-disabled":Le(n),"data-checked":Le(Z),"data-invalid":Le(s)}),[Z,n,s]);return{state:{isInvalid:s,isFocused:A,isChecked:Z,isActive:_,isHovered:F,isIndeterminate:m,isDisabled:n,isReadOnly:r,isRequired:i},getRootProps:We,getCheckboxProps:Se,getIndicatorProps:_e,getInputProps:he,getLabelProps:Me,htmlProps:O}}function Bee(t){t.preventDefault(),t.stopPropagation()}function Fee(t){const[e,n]=S.useState(t),[r,i]=S.useState(!1);return t!==e&&(i(!0),n(t)),r}const Wee={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},Vee={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Qee=ar({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),Hee=ar({from:{opacity:0},to:{opacity:1}}),qee=ar({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Ks=re(function(e,n){const r=wee(),i={...r,...e},s=gn("Checkbox",i),o=pt(e),{spacing:a="0.5rem",className:l,children:u,iconColor:d,iconSize:h,icon:f=c.jsx(Oee,{}),isChecked:p,isDisabled:m=r==null?void 0:r.isDisabled,onChange:g,inputProps:x,...v}=o;let y=p;r!=null&&r.value&&o.value&&(y=r.value.includes(o.value));let b=g;r!=null&&r.onChange&&o.value&&(b=FD(r.onChange,g));const{state:w,getInputProps:k,getCheckboxProps:O,getLabelProps:C,getRootProps:j}=vL({...v,isDisabled:m,isChecked:y,onChange:b}),P=Fee(w.isChecked),A=S.useMemo(()=>({animation:P?w.isIndeterminate?`${Hee} 20ms linear, ${qee} 200ms linear`:`${Qee} 200ms linear`:void 0,...s.icon,...xy({fontSize:h,color:d})}),[d,h,P,w.isIndeterminate,s.icon]),E=S.cloneElement(f,{__css:A,isIndeterminate:w.isIndeterminate,isChecked:w.isChecked});return c.jsxs(te.label,{__css:{...Vee,...s.container},className:xe("chakra-checkbox",l),...j(),children:[c.jsx("input",{className:"chakra-checkbox__input",...k(x,n)}),c.jsx(te.span,{__css:{...Wee,...s.control},className:"chakra-checkbox__control",...O(),children:E}),u&&c.jsx(te.span,{className:"chakra-checkbox__label",...C(),__css:{marginStart:a,...s.label},children:u})]})});Ks.displayName="Checkbox";const so=re(function(e,n){const r=Ci("Code",e),{className:i,...s}=pt(e);return c.jsx(te.code,{ref:n,className:xe("chakra-code",e.className),...s,__css:{display:"inline-block",...r}})});so.displayName="Code";const Et=re(function(e,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:s,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:u,...d}=Ci("Divider",e),{className:h,orientation:f="horizontal",__css:p,...m}=pt(e),g={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||s||a||"1px",width:"100%"}};return c.jsx(te.hr,{ref:n,"aria-orientation":f,...m,__css:{...d,border:"0",borderColor:u,borderStyle:l,...g[f],...p},className:xe("chakra-divider",h)})});Et.displayName="Divider";function Jd(t){return typeof t=="function"}function Uee(...t){return e=>t.reduce((n,r)=>r(n),e)}const Gee=t=>function(...n){let r=[...n],i=n[n.length-1];return TU(i)&&r.length>1?r=r.slice(0,r.length-1):i=t,Uee(...r.map(s=>o=>Jd(s)?s(o):Kee(o,s)))(i)},Xee=Gee(v5);function Kee(...t){return di({},...t,bL)}function bL(t,e,n,r){if((Jd(t)||Jd(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=Jd(t)?t(...i):t,o=Jd(e)?e(...i):e;return di({},s,o,bL)};if(tr(t)&&L1(e)||L1(t)&&tr(e))return e}const ct=re(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:u,...d}=e,h={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:u};return c.jsx(te.div,{ref:n,__css:h,...d})});ct.displayName="Flex";function SL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gS="data-focus-lock",wL="data-focus-lock-disabled",Yee="data-no-focus-lock",Zee="data-autofocus-inside",Jee="data-no-autofocus";function Hv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ete(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var tte=typeof window<"u"?S.useLayoutEffect:S.useEffect,WT=new WeakMap;function kL(t,e){var n=ete(null,function(r){return t.forEach(function(i){return Hv(i,r)})});return tte(function(){var r=WT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Hv(a,null)}),s.forEach(function(a){i.has(a)||Hv(a,o)})}WT.set(n,t)},[t]),n}var qv={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Ss=function(){return Ss=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ss.apply(this,arguments)};function CL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function OL(t){return t}function jL(t,e){e===void 0&&(e=OL);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function UC(t,e){return e===void 0&&(e=OL),jL(t,e)}function PL(t){t===void 0&&(t={});var e=jL(null);return e.options=Ss({async:!0,ssr:!1},t),e}var TL=function(t){var e=t.sideCar,n=CL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Ss({},n))};TL.isSideCarExport=!0;function rte(t,e){return t.useMedium(e),TL}var AL=UC({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),EL=UC(),ite=UC(),ste=PL({async:!0,ssr:typeof document<"u"}),ote=S.createContext(void 0),ate=[],GC=S.forwardRef(function(e,n){var r,i=S.useState(),s=i[0],o=i[1],a=S.useRef(),l=S.useRef(!1),u=S.useRef(null),d=S.useState({}),h=d[1],f=e.children,p=e.disabled,m=p===void 0?!1:p,g=e.noFocusGuards,x=g===void 0?!1:g,v=e.persistentFocus,y=v===void 0?!1:v,b=e.crossFrame,w=b===void 0?!0:b,k=e.autoFocus,O=k===void 0?!0:k;e.allowTextSelection;var C=e.group,j=e.className,P=e.whiteList,A=e.hasPositiveIndices,E=e.shards,F=E===void 0?ate:E,H=e.as,_=H===void 0?"div":H,B=e.lockProps,ee=B===void 0?{}:B,W=e.sideCar,L=e.returnFocus,Q=L===void 0?!1:L,I=e.focusOptions,Y=e.onActivation,ie=e.onDeactivation,Z=S.useState({}),se=Z[0],V=S.useCallback(function(nt){var Wt=nt.captureFocusRestore;if(!u.current){var zn,kn=(zn=document)==null?void 0:zn.activeElement;u.current=kn,kn!==document.body&&(u.current=Wt(kn))}a.current&&Y&&Y(a.current),l.current=!0,h()},[Y]),J=S.useCallback(function(){l.current=!1,ie&&ie(a.current),h()},[ie]),U=S.useCallback(function(nt){var Wt=u.current;if(Wt){var zn=(typeof Wt=="function"?Wt():Wt)||document.body,kn=typeof Q=="function"?Q(zn):Q;if(kn){var Ut=typeof kn=="object"?kn:void 0;u.current=null,nt?Promise.resolve().then(function(){return zn.focus(Ut)}):zn.focus(Ut)}}},[Q]),Se=S.useCallback(function(nt){l.current&&AL.useMedium(nt)},[]),_e=EL.useMedium,We=S.useCallback(function(nt){a.current!==nt&&(a.current=nt,o(nt))},[]),he=Pa((r={},r[wL]=m&&"disabled",r[gS]=C,r),ee),Me=x!==!0,Be=Me&&x!=="tail",de=kL([n,We]),wt=S.useMemo(function(){return{observed:a,shards:F,enabled:!m,get active(){return l.current}}},[m,l,F,a]);return Xt.createElement(S.Fragment,null,Me&&[Xt.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:qv}),A?Xt.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:qv}):null],!m&&Xt.createElement(W,{id:se,sideCar:ste,observed:s,disabled:m,persistentFocus:y,crossFrame:w,autoFocus:O,whiteList:P,shards:F,onActivation:V,onDeactivation:J,returnFocus:U,focusOptions:I,noFocusGuards:x}),Xt.createElement(_,Pa({ref:de},he,{className:j,onBlur:_e,onFocus:Se}),Xt.createElement(ote.Provider,{value:wt},f)),Be&&Xt.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:qv}))});GC.propTypes={};function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yS(t,e)}function lte(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yS(t,e)}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function cte(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ute(t){var e=cte(t,"string");return ff(e)=="symbol"?e:e+""}function dte(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(u){return u.props})),e(o)}var l=function(u){lte(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return o};var h=d.prototype;return h.componentDidMount=function(){s.push(this),a()},h.componentDidUpdate=function(){a()},h.componentWillUnmount=function(){var p=s.indexOf(this);s.splice(p,1),a()},h.render=function(){return Xt.createElement(i,this.props)},d}(S.PureComponent);return dte(l,"displayName","SideEffect("+n(i)+")"),l}}var Is=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},_l=function(t){return Array.isArray(t)?t:[t]},ML=function(t){return Array.isArray(t)?t[0]:t},fte=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},RL=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},zL=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},pte=function(t){return t.hasAttribute("inert")},mte=function(t,e){return!t||zL(t)||!fte(t)&&!pte(t)&&e(RL(t))},DL=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=mte(e,DL.bind(void 0,t));return t.set(e,r),r},gte=function(t,e){return t&&!zL(t)?vte(t)?e(RL(t)):!1:!0},$L=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=gte(e,$L.bind(void 0,t));return t.set(e,r),r},LL=function(t){return t.dataset},yte=function(t){return t.tagName==="BUTTON"},IL=function(t){return t.tagName==="INPUT"},_L=function(t){return IL(t)&&t.type==="radio"},xte=function(t){return!((IL(t)||yte(t))&&(t.type==="hidden"||t.disabled))},vte=function(t){var e=t.getAttribute(Jee);return![!0,"true",""].includes(e)},XC=function(t){var e;return!!(t&&(!((e=LL(t))===null||e===void 0)&&e.focusGuard))},xS=function(t){return!XC(t)},bte=function(t){return!!t},Ste=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),i=n-r,s=t.index-e.index;if(i){if(!n)return 1;if(!r)return-1}return i||s},wte=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},KC=function(t,e,n){return Is(t).map(function(r,i){var s=wte(r);return{node:r,index:i,tabIndex:n&&s===-1?(r.dataset||{}).focusGuard?0:-1:s}}).filter(function(r){return!e||r.tabIndex>=0}).sort(Ste)},kte=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],YC=kte.join(","),Cte="".concat(YC,", [data-focus-guard]"),NL=function(t,e){return Is((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?Cte:YC)?[r]:[],NL(r))},[])},Ote=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?Wu([t.contentDocument.body],e):[t]},Wu=function(t,e){return t.reduce(function(n,r){var i,s=NL(r,e),o=(i=[]).concat.apply(i,s.map(function(a){return Ote(a,e)}));return n.concat(o,r.parentNode?Is(r.parentNode.querySelectorAll(YC)).filter(function(a){return a===r}):[])},[])},jte=function(t){var e=t.querySelectorAll("[".concat(Zee,"]"));return Is(e).map(function(n){return Wu([n])}).reduce(function(n,r){return n.concat(r)},[])},ZC=function(t,e){return Is(t).filter(function(n){return DL(e,n)}).filter(function(n){return xte(n)})},VT=function(t,e){return e===void 0&&(e=new Map),Is(t).filter(function(n){return $L(e,n)})},JC=function(t,e,n){return KC(ZC(Wu(t,n),e),!0,n)},pf=function(t,e){return KC(ZC(Wu(t),e),!1)},Pte=function(t,e){return ZC(jte(t),e)},Pl=function(t,e){return t.shadowRoot?Pl(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:Is(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?Pl(i,e):!1}return Pl(n,e)})},Tte=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},BL=function(t){return t.parentNode?BL(t.parentNode):t},eO=function(t){var e=_l(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(gS);return n.push.apply(n,i?Tte(Is(BL(r).querySelectorAll("[".concat(gS,'="').concat(i,'"]:not([').concat(wL,'="disabled"])')))):[r]),n},[])},Ate=function(t){try{return t()}catch{return}},mf=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?mf(e.shadowRoot):e instanceof HTMLIFrameElement&&Ate(function(){return e.contentWindow.document})?mf(e.contentWindow.document):e}},Ete=function(t,e){return t===e},Mte=function(t,e){return!!Is(t.querySelectorAll("iframe")).some(function(n){return Ete(n,e)})},FL=function(t,e){return e===void 0&&(e=mf(ML(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:eO(t).some(function(n){return Pl(n,e)||Mte(n,e)})},Rte=function(t){t===void 0&&(t=document);var e=mf(t);return e?Is(t.querySelectorAll("[".concat(Yee,"]"))).some(function(n){return Pl(n,e)}):!1},zte=function(t,e){return e.filter(_L).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},tO=function(t,e){return _L(t)&&t.name?zte(t,e):t},Dte=function(t){var e=new Set;return t.forEach(function(n){return e.add(tO(n,t))}),t.filter(function(n){return e.has(n)})},QT=function(t){return t[0]&&t.length>1?tO(t[0],t):t[0]},HT=function(t,e){return t.indexOf(tO(e,t))},vS="NEW_FOCUS",$te=function(t,e,n,r,i){var s=t.length,o=t[0],a=t[s-1],l=XC(r);if(!(r&&t.indexOf(r)>=0)){var u=r!==void 0?n.indexOf(r):-1,d=i?n.indexOf(i):u,h=i?t.indexOf(i):-1;if(u===-1)return h!==-1?h:vS;if(h===-1)return vS;var f=u-d,p=n.indexOf(o),m=n.indexOf(a),g=Dte(n),x=r!==void 0?g.indexOf(r):-1,v=i?g.indexOf(i):x,y=g.filter(function(j){return j.tabIndex>=0}),b=r!==void 0?y.indexOf(r):-1,w=i?y.indexOf(i):b,k=b>=0&&w>=0?w-b:v-x;if(!f&&h>=0||e.length===0)return h;var O=HT(t,e[0]),C=HT(t,e[e.length-1]);if(u<=p&&l&&Math.abs(f)>1)return C;if(u>=m&&l&&Math.abs(f)>1)return O;if(f&&Math.abs(k)>1)return h;if(u<=p)return C;if(u>m)return O;if(f)return Math.abs(f)>1?h:(s+h+f)%s}},Lte=function(t){return function(e){var n,r=(n=LL(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},qT=function(t,e,n){var r=t.map(function(s){var o=s.node;return o}),i=VT(r.filter(Lte(n)));return i&&i.length?QT(i):QT(VT(e))},bS=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&bS(t.parentNode.host||t.parentNode,e),e},Uv=function(t,e){for(var n=bS(t),r=bS(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},WL=function(t,e,n){var r=_l(t),i=_l(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=Uv(o||a,a)||o,n.filter(Boolean).forEach(function(l){var u=Uv(s,l);u&&(!o||Pl(u,o)?o=u:o=Uv(u,o))})}),o},UT=function(t,e){return t.reduce(function(n,r){return n.concat(Pte(r,e))},[])},Ite=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(bte)},_te=function(t,e){var n=mf(_l(t).length>0?document:ML(t).ownerDocument),r=eO(t).filter(xS),i=WL(n||t,t,r),s=new Map,o=pf(r,s),a=o.filter(function(m){var g=m.node;return xS(g)});if(a[0]){var l=pf([i],s).map(function(m){var g=m.node;return g}),u=Ite(l,a),d=u.map(function(m){var g=m.node;return g}),h=u.filter(function(m){var g=m.tabIndex;return g>=0}).map(function(m){var g=m.node;return g}),f=$te(d,h,l,n,e);if(f===vS){var p=qT(o,h,UT(r,s))||qT(o,d,UT(r,s));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Nte=function(t){var e=eO(t).filter(xS),n=WL(t,t,e),r=KC(Wu([n],!0),!0,!0),i=Wu(e,!1);return r.map(function(s){var o=s.node,a=s.index;return{node:o,index:a,lockItem:i.indexOf(o)>=0,guard:XC(o)}})},nO=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},Gv=0,Xv=!1,VL=function(t,e,n){n===void 0&&(n={});var r=_te(t,e);if(!Xv&&r){if(Gv>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Xv=!0,setTimeout(function(){Xv=!1},1);return}Gv++,nO(r.node,n.focusOptions),Gv--}};function Dd(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var Bte=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:Dd(n),parent:Dd(n.parentElement),left:Dd(n.previousElementSibling),right:Dd(n.nextElementSibling)}),n=n.parentElement;return{element:Dd(t),stack:e,ownerDocument:t.ownerDocument}},Fte=function(t){var e,n,r,i,s;if(t)for(var o=t.stack,a=t.ownerDocument,l=new Map,u=0,d=o;u<d.length;u++){var h=d[u],f=(e=h.parent)===null||e===void 0?void 0:e.call(h);if(f&&a.contains(f)){for(var p=(n=h.left)===null||n===void 0?void 0:n.call(h),m=h.current(),g=f.contains(m)?m:void 0,x=(r=h.right)===null||r===void 0?void 0:r.call(h),v=JC([f],l),y=(s=(i=g??(p==null?void 0:p.nextElementSibling))!==null&&i!==void 0?i:x)!==null&&s!==void 0?s:p;y;){for(var b=0,w=v;b<w.length;b++){var k=w[b];if(y!=null&&y.contains(k.node))return k.node}y=y.nextElementSibling}if(v.length)return v[0].node}}},QL=function(t){var e=Bte(t);return function(){return Fte(e)}},Wte=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=_l(e);if(r.every(function(o){return!Pl(o,t)}))return console.error("Active element is not contained in the scope"),{};var i=n?JC(r,new Map):pf(r,new Map),s=i.findIndex(function(o){var a=o.node;return a===t});if(s!==-1)return{prev:i[s-1],next:i[s+1],first:i[0],last:i[i.length-1]}},Vte=function(t,e){var n=e?JC(_l(t),new Map):pf(_l(t),new Map);return{first:n[0],last:n[n.length-1]}},Qte=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},HL=function(t,e,n){e===void 0&&(e={});var r=Qte(e),i=Wte(t,r.scope,r.onlyTabbable);if(i){var s=n(i,r.cycle);s&&nO(s.node,r.focusOptions)}},Hte=function(t,e){e===void 0&&(e={}),HL(t,e,function(n,r){var i=n.next,s=n.first;return i||r&&s})},qte=function(t,e){e===void 0&&(e={}),HL(t,e,function(n,r){var i=n.prev,s=n.last;return i||r&&s})},qL=function(t,e,n){var r,i=Vte(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),s=i[n];s&&nO(s.node,e.focusOptions)},Ute=function(t,e){e===void 0&&(e={}),qL(t,e,"first")},Gte=function(t,e){e===void 0&&(e={}),qL(t,e,"last")};function rO(t){setTimeout(t,1)}var Xte=function(e){return e&&"current"in e?e.current:e},UL=function(){return document&&document.activeElement===document.body},Kte=function(){return UL()||Rte()},nu=null,cr=null,GT=function(){return null},ru=null,gf=!1,iO=!1,Yte=function(){return!0},Zte=function(e){return(nu.whiteList||Yte)(e)},Jte=function(e,n){ru={observerNode:e,portaledElement:n}},ene=function(e){return ru&&ru.portaledElement===e};function XT(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var tne=function(e){return e?!!gf:gf==="meanwhile"},nne=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},rne=function(e,n){return n.some(function(r){return nne(e,r,r)})},GL=function(e){return pf(e,new Map)},ine=function(e){return!GL([e.parentNode]).some(function(n){return n.node===e})},S0=function(){var e=!1;if(nu){var n=nu,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,u=n.noFocusGuards,d=r||ru&&ru.portaledElement;if(UL()&&cr&&cr!==document.body&&(!document.body.contains(cr)||ine(cr))){var h=GT();h&&h.focus()}var f=document&&document.activeElement;if(d){var p=[d].concat(o.map(Xte).filter(Boolean)),m=function(){if(!tne(a)||!u||!cr||iO)return!1;var b=GL(p),w=b.findIndex(function(k){var O=k.node;return O===cr});return w===0||w===b.length-1};if((!f||Zte(f))&&(i||m()||!Kte()||!cr&&s)&&(d&&!(FL(p)||f&&rne(f,p)||ene(f))&&(document&&!cr&&f&&!s?(f.blur&&f.blur(),document.body.focus()):(e=VL(p,cr,{focusOptions:l}),ru={})),cr=document&&document.activeElement,cr!==document.body&&(GT=QL(cr)),gf=!1),document&&f!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var g=document&&document.activeElement,x=Nte(p),v=x.map(function(y){var b=y.node;return b}).indexOf(g);v>-1&&(x.filter(function(y){var b=y.guard,w=y.node;return b&&w.dataset.focusAutoGuard}).forEach(function(y){var b=y.node;return b.removeAttribute("tabIndex")}),XT(v,x.length,1,x),XT(v,-1,-1,x))}}}return e},XL=function(e){S0()&&e&&(e.stopPropagation(),e.preventDefault())},sO=function(){return rO(S0)},sne=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||Jte(r,n)},one=function(){return null},KL=function(){iO=!0},YL=function(){iO=!1,gf="just",rO(function(){gf="meanwhile"})},ane=function(){document.addEventListener("focusin",XL),document.addEventListener("focusout",sO),window.addEventListener("focus",KL),window.addEventListener("blur",YL)},lne=function(){document.removeEventListener("focusin",XL),document.removeEventListener("focusout",sO),window.removeEventListener("focus",KL),window.removeEventListener("blur",YL)};function cne(t){return t.filter(function(e){var n=e.disabled;return!n})}var ZL={moveFocusInside:VL,focusInside:FL,focusNextElement:Hte,focusPrevElement:qte,focusFirstElement:Ute,focusLastElement:Gte,captureFocusRestore:QL};function une(t){var e=t.slice(-1)[0];e&&!nu&&ane();var n=nu,r=n&&e&&e.id===n.id;nu=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(cr=null,(!r||n.observed!==e.observed)&&e.onActivation(ZL),S0(),rO(S0)):(lne(),cr=null)}AL.assignSyncMedium(sne);EL.assignMedium(sO);ite.assignMedium(function(t){return t(ZL)});const dne=hte(cne,une)(one);var SS=S.forwardRef(function(e,n){return Xt.createElement(GC,Pa({sideCar:dne,ref:n},e))}),JL=GC.propTypes||{};JL.sideCar;SL(JL,["sideCar"]);SS.propTypes={};const hne=SS.default??SS,eI=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:i,children:s,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:u}=t,d=S.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&jW(r.current).length===0&&requestAnimationFrame(()=>{var m;(m=r.current)==null||m.focus()})},[e,r]),h=S.useCallback(()=>{var p;(p=n==null?void 0:n.current)==null||p.focus()},[n]),f=i&&!n;return c.jsx(hne,{crossFrame:u,persistentFocus:l,autoFocus:a,disabled:o,onActivation:d,onDeactivation:h,returnFocus:f,children:s})};eI.displayName="FocusLock";const ke=re(function(e,n){const r=Ci("FormLabel",e),i=pt(e),{className:s,children:o,requiredIndicator:a=c.jsx(tI,{}),optionalIndicator:l=null,...u}=i,d=Gy(),h=(d==null?void 0:d.getLabelProps(u,n))??{ref:n,...u};return c.jsxs(te.label,{...h,className:xe("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r},children:[o,d!=null&&d.isRequired?a:l]})});ke.displayName="FormLabel";const tI=re(function(e,n){const r=Gy(),i=xL();if(!(r!=null&&r.isRequired))return null;const s=xe("chakra-form__required-indicator",e.className);return c.jsx(te.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:s})});tI.displayName="RequiredIndicator";const nI=re(function(e,n){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:u,autoRows:d,templateRows:h,autoColumns:f,templateColumns:p,...m}=e,g={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:f,gridColumn:a,gridRow:l,gridAutoFlow:u,gridAutoRows:d,gridTemplateRows:h,gridTemplateColumns:p};return c.jsx(te.div,{ref:n,__css:g,...m})});nI.displayName="Grid";const dt=re(function(e,n){const{columns:r,spacingX:i,spacingY:s,spacing:o,minChildWidth:a,...l}=e,u=op(),d=a?pne(a,u):mne(r);return c.jsx(nI,{ref:n,gap:o,columnGap:i,rowGap:s,templateColumns:d,...l})});dt.displayName="SimpleGrid";function fne(t){return typeof t=="number"?`${t}px`:t}function pne(t,e){return Wk(t,n=>{const r=EJ("sizes",n,fne(n))(e);return n===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function mne(t){return Wk(t,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}const Xe=re(function(e,n){const{htmlSize:r,...i}=e,s=gn("Input",i),o=pt(i),a=HC(o),l=xe("chakra-input",e.className);return c.jsx(te.input,{size:r,...a,__css:s.field,ref:n,className:l})});Xe.displayName="Input";Xe.id="Input";const[gne,yne]=tt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Bi=re(function(e,n){const r=gn("Input",e),{children:i,className:s,...o}=pt(e),a=xe("chakra-input__group",s),l={},u=yy(i),d=r.field;u.forEach(f=>{r&&(d&&f.type.id==="InputLeftElement"&&(l.paddingStart=d.height??d.h),d&&f.type.id==="InputRightElement"&&(l.paddingEnd=d.height??d.h),f.type.id==="InputRightAddon"&&(l.borderEndRadius=0),f.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const h=u.map(f=>{var m,g;const p=xy({size:((m=f.props)==null?void 0:m.size)||e.size,variant:((g=f.props)==null?void 0:g.variant)||e.variant});return f.type.id!=="Input"?S.cloneElement(f,p):S.cloneElement(f,Object.assign(p,l,f.props))});return c.jsx(te.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...o,children:c.jsx(gne,{value:r,children:h})})});Bi.displayName="InputGroup";const xne=te("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Xy=re(function(e,n){const{placement:r="left",...i}=e,s=yne(),o=s.field,l={[r==="left"?"insetStart":"insetEnd"]:"0",width:(o==null?void 0:o.height)??(o==null?void 0:o.h),height:(o==null?void 0:o.height)??(o==null?void 0:o.h),fontSize:o==null?void 0:o.fontSize,...s.element};return c.jsx(xne,{ref:n,__css:l,...i})});Xy.id="InputElement";Xy.displayName="InputElement";const hs=re(function(e,n){const{className:r,...i}=e,s=xe("chakra-input__left-element",r);return c.jsx(Xy,{ref:n,placement:"left",className:s,...i})});hs.id="InputLeftElement";hs.displayName="InputLeftElement";const oO=re(function(e,n){const{className:r,...i}=e,s=xe("chakra-input__right-element",r);return c.jsx(Xy,{ref:n,placement:"right",className:s,...i})});oO.id="InputRightElement";oO.displayName="InputRightElement";const[vne,rI]=tt({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),Ky=re(function(e,n){const r=gn("List",e),{children:i,styleType:s="none",stylePosition:o,spacing:a,...l}=pt(e),u=yy(i),h=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return c.jsx(vne,{value:r,children:c.jsx(te.ul,{ref:n,listStyleType:s,listStylePosition:o,role:"list",__css:{...r.container,...h},...l,children:u})})});Ky.displayName="List";const bne=re((t,e)=>{const{as:n,...r}=t;return c.jsx(Ky,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...r})});bne.displayName="OrderedList";const Sne=re(function(e,n){const{as:r,...i}=e;return c.jsx(Ky,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...i})});Sne.displayName="UnorderedList";const iI=re(function(e,n){const r=rI();return c.jsx(te.li,{ref:n,...e,__css:r.item})});iI.displayName="ListItem";const sI=re(function(e,n){const r=rI();return c.jsx(X,{ref:n,role:"presentation",...e,__css:r.icon})});sI.displayName="ListIcon";function wne(t,e,n,r){if(e==null)return r;if(!r)return t.find(o=>n(o).toLowerCase().startsWith(e.toLowerCase()));const i=t.filter(s=>n(s).toLowerCase().startsWith(e.toLowerCase()));if(i.length>0){let s;return i.includes(r)?(s=i.indexOf(r)+1,s===i.length&&(s=0),i[s]):(s=t.indexOf(i[0]),t[s])}return r}function kne(t){const{key:e}=t;return e.length===1||e.length>1&&/[^a-zA-Z0-9]/.test(e)}function Cne(t={}){const{timeout:e=300,preventDefault:n=()=>!0}=t,[r,i]=S.useState([]),s=S.useRef(void 0),o=()=>{s.current&&(clearTimeout(s.current),s.current=null)},a=()=>{o(),s.current=setTimeout(()=>{i([]),s.current=null},e)};S.useEffect(()=>o,[]);function l(u){return d=>{if(d.key==="Backspace"){const h=[...r];h.pop(),i(h);return}if(kne(d)){const h=r.concat(d.key);n(d)&&(d.preventDefault(),d.stopPropagation()),i(h),u(h.join("")),a()}}}return l}var kr="top",Si="bottom",wi="right",Cr="left",aO="auto",cp=[kr,Si,wi,Cr],Vu="start",yf="end",One="clippingParents",oI="viewport",$d="popper",jne="reference",KT=cp.reduce(function(t,e){return t.concat([e+"-"+Vu,e+"-"+yf])},[]),aI=[].concat(cp,[aO]).reduce(function(t,e){return t.concat([e,e+"-"+Vu,e+"-"+yf])},[]),Pne="beforeRead",Tne="read",Ane="afterRead",Ene="beforeMain",Mne="main",Rne="afterMain",zne="beforeWrite",Dne="write",$ne="afterWrite",Lne=[Pne,Tne,Ane,Ene,Mne,Rne,zne,Dne,$ne];function $s(t){return t?(t.nodeName||"").toLowerCase():null}function Xr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Nl(t){var e=Xr(t).Element;return t instanceof e||t instanceof Element}function gi(t){var e=Xr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lO(t){if(typeof ShadowRoot>"u")return!1;var e=Xr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ine(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!gi(s)||!$s(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function _ne(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!gi(i)||!$s(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Nne={name:"applyStyles",enabled:!0,phase:"write",fn:Ine,effect:_ne,requires:["computeStyles"]};function zs(t){return t.split("-")[0]}var Tl=Math.max,w0=Math.min,Qu=Math.round;function wS(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lI(){return!/^((?!chrome|android).)*safari/i.test(wS())}function Hu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&gi(t)&&(i=t.offsetWidth>0&&Qu(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Qu(r.height)/t.offsetHeight||1);var o=Nl(t)?Xr(t):window,a=o.visualViewport,l=!lI()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:d,right:u+h,bottom:d+f,left:u,x:u,y:d}}function cO(t){var e=Hu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function cI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&lO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Po(t){return Xr(t).getComputedStyle(t)}function Bne(t){return["table","td","th"].indexOf($s(t))>=0}function Ba(t){return((Nl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Yy(t){return $s(t)==="html"?t:t.assignedSlot||t.parentNode||(lO(t)?t.host:null)||Ba(t)}function YT(t){return!gi(t)||Po(t).position==="fixed"?null:t.offsetParent}function Fne(t){var e=/firefox/i.test(wS()),n=/Trident/i.test(wS());if(n&&gi(t)){var r=Po(t);if(r.position==="fixed")return null}var i=Yy(t);for(lO(i)&&(i=i.host);gi(i)&&["html","body"].indexOf($s(i))<0;){var s=Po(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function up(t){for(var e=Xr(t),n=YT(t);n&&Bne(n)&&Po(n).position==="static";)n=YT(n);return n&&($s(n)==="html"||$s(n)==="body"&&Po(n).position==="static")?e:n||Fne(t)||e}function uO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Th(t,e,n){return Tl(t,w0(e,n))}function Wne(t,e,n){var r=Th(t,e,n);return r>n?n:r}function uI(){return{top:0,right:0,bottom:0,left:0}}function dI(t){return Object.assign({},uI(),t)}function hI(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Vne=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,dI(typeof e!="number"?e:hI(e,cp))};function Qne(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=zs(n.placement),l=uO(a),u=[Cr,wi].indexOf(a)>=0,d=u?"height":"width";if(!(!s||!o)){var h=Vne(i.padding,n),f=cO(s),p=l==="y"?kr:Cr,m=l==="y"?Si:wi,g=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],x=o[l]-n.rects.reference[l],v=up(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=g/2-x/2,w=h[p],k=y-f[d]-h[m],O=y/2-f[d]/2+b,C=Th(w,O,k),j=l;n.modifiersData[r]=(e={},e[j]=C,e.centerOffset=C-O,e)}}function Hne(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||cI(e.elements.popper,i)&&(e.elements.arrow=i))}const qne={name:"arrow",enabled:!0,phase:"main",fn:Qne,effect:Hne,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qu(t){return t.split("-")[1]}var Une={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gne(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Qu(n*i)/i||0,y:Qu(r*i)/i||0}}function ZT(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,x=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=x.x,g=x.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Cr,w=kr,k=window;if(u){var O=up(n),C="clientHeight",j="clientWidth";if(O===Xr(n)&&(O=Ba(n),Po(O).position!=="static"&&a==="absolute"&&(C="scrollHeight",j="scrollWidth")),O=O,i===kr||(i===Cr||i===wi)&&s===yf){w=Si;var P=h&&O===k&&k.visualViewport?k.visualViewport.height:O[C];g-=P-r.height,g*=l?1:-1}if(i===Cr||(i===kr||i===Si)&&s===yf){b=wi;var A=h&&O===k&&k.visualViewport?k.visualViewport.width:O[j];p-=A-r.width,p*=l?1:-1}}var E=Object.assign({position:a},u&&Une),F=d===!0?Gne({x:p,y:g},Xr(n)):{x:p,y:g};if(p=F.x,g=F.y,l){var H;return Object.assign({},E,(H={},H[w]=y?"0":"",H[b]=v?"0":"",H.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",H))}return Object.assign({},E,(e={},e[w]=y?g+"px":"",e[b]=v?p+"px":"",e.transform="",e))}function Xne(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:zs(e.placement),variation:qu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ZT(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ZT(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Kne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xne,data:{}};var dm={passive:!0};function Yne(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Xr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,dm)}),a&&l.addEventListener("resize",n.update,dm),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,dm)}),a&&l.removeEventListener("resize",n.update,dm)}}const Zne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yne,data:{}};var Jne={left:"right",right:"left",bottom:"top",top:"bottom"};function vg(t){return t.replace(/left|right|bottom|top/g,function(e){return Jne[e]})}var ere={start:"end",end:"start"};function JT(t){return t.replace(/start|end/g,function(e){return ere[e]})}function dO(t){var e=Xr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hO(t){return Hu(Ba(t)).left+dO(t).scrollLeft}function tre(t,e){var n=Xr(t),r=Ba(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=lI();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+hO(t),y:l}}function nre(t){var e,n=Ba(t),r=dO(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Tl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Tl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hO(t),l=-r.scrollTop;return Po(i||n).direction==="rtl"&&(a+=Tl(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function fO(t){var e=Po(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function fI(t){return["html","body","#document"].indexOf($s(t))>=0?t.ownerDocument.body:gi(t)&&fO(t)?t:fI(Yy(t))}function Ah(t,e){var n;e===void 0&&(e=[]);var r=fI(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Xr(r),o=i?[s].concat(s.visualViewport||[],fO(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ah(Yy(o)))}function kS(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rre(t,e){var n=Hu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function eA(t,e,n){return e===oI?kS(tre(t,n)):Nl(e)?rre(e,n):kS(nre(Ba(t)))}function ire(t){var e=Ah(Yy(t)),n=["absolute","fixed"].indexOf(Po(t).position)>=0,r=n&&gi(t)?up(t):t;return Nl(r)?e.filter(function(i){return Nl(i)&&cI(i,r)&&$s(i)!=="body"}):[]}function sre(t,e,n,r){var i=e==="clippingParents"?ire(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var d=eA(t,u,r);return l.top=Tl(d.top,l.top),l.right=w0(d.right,l.right),l.bottom=w0(d.bottom,l.bottom),l.left=Tl(d.left,l.left),l},eA(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function pI(t){var e=t.reference,n=t.element,r=t.placement,i=r?zs(r):null,s=r?qu(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case kr:l={x:o,y:e.y-n.height};break;case Si:l={x:o,y:e.y+e.height};break;case wi:l={x:e.x+e.width,y:a};break;case Cr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?uO(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Vu:l[u]=l[u]-(e[d]/2-n[d]/2);break;case yf:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function xf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?One:a,u=n.rootBoundary,d=u===void 0?oI:u,h=n.elementContext,f=h===void 0?$d:h,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,x=g===void 0?0:g,v=dI(typeof x!="number"?x:hI(x,cp)),y=f===$d?jne:$d,b=t.rects.popper,w=t.elements[m?y:f],k=sre(Nl(w)?w:w.contextElement||Ba(t.elements.popper),l,d,o),O=Hu(t.elements.reference),C=pI({reference:O,element:b,placement:i}),j=kS(Object.assign({},b,C)),P=f===$d?j:O,A={top:k.top-P.top+v.top,bottom:P.bottom-k.bottom+v.bottom,left:k.left-P.left+v.left,right:P.right-k.right+v.right},E=t.modifiersData.offset;if(f===$d&&E){var F=E[i];Object.keys(A).forEach(function(H){var _=[wi,Si].indexOf(H)>=0?1:-1,B=[kr,Si].indexOf(H)>=0?"y":"x";A[H]+=F[B]*_})}return A}function ore(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?aI:l,d=qu(r),h=d?a?KT:KT.filter(function(m){return qu(m)===d}):cp,f=h.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,g){return m[g]=xf(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[zs(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function are(t){if(zs(t)===aO)return[];var e=vg(t);return[JT(t),e,JT(e)]}function lre(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,x=e.options.placement,v=zs(x),y=v===x,b=l||(y||!m?[vg(x)]:are(x)),w=[x].concat(b).reduce(function(se,V){return se.concat(zs(V)===aO?ore(e,{placement:V,boundary:d,rootBoundary:h,padding:u,flipVariations:m,allowedAutoPlacements:g}):V)},[]),k=e.rects.reference,O=e.rects.popper,C=new Map,j=!0,P=w[0],A=0;A<w.length;A++){var E=w[A],F=zs(E),H=qu(E)===Vu,_=[kr,Si].indexOf(F)>=0,B=_?"width":"height",ee=xf(e,{placement:E,boundary:d,rootBoundary:h,altBoundary:f,padding:u}),W=_?H?wi:Cr:H?Si:kr;k[B]>O[B]&&(W=vg(W));var L=vg(W),Q=[];if(s&&Q.push(ee[F]<=0),a&&Q.push(ee[W]<=0,ee[L]<=0),Q.every(function(se){return se})){P=E,j=!1;break}C.set(E,Q)}if(j)for(var I=m?3:1,Y=function(V){var J=w.find(function(U){var Se=C.get(U);if(Se)return Se.slice(0,V).every(function(_e){return _e})});if(J)return P=J,"break"},ie=I;ie>0;ie--){var Z=Y(ie);if(Z==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const cre={name:"flip",enabled:!0,phase:"main",fn:lre,requiresIfExists:["offset"],data:{_skip:!1}};function tA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function nA(t){return[kr,wi,Si,Cr].some(function(e){return t[e]>=0})}function ure(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=xf(e,{elementContext:"reference"}),a=xf(e,{altBoundary:!0}),l=tA(o,r),u=tA(a,i,s),d=nA(l),h=nA(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const dre={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ure};function hre(t,e,n){var r=zs(t),i=[Cr,kr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Cr,wi].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function fre(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=aI.reduce(function(d,h){return d[h]=hre(h,e.rects,s),d},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const pre={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fre};function mre(t){var e=t.state,n=t.name;e.modifiersData[n]=pI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const gre={name:"popperOffsets",enabled:!0,phase:"read",fn:mre,data:{}};function yre(t){return t==="x"?"y":"x"}function xre(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,x=xf(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),v=zs(e.placement),y=qu(e.placement),b=!y,w=uO(v),k=yre(w),O=e.modifiersData.popperOffsets,C=e.rects.reference,j=e.rects.popper,P=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,A=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),E=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(O){if(s){var H,_=w==="y"?kr:Cr,B=w==="y"?Si:wi,ee=w==="y"?"height":"width",W=O[w],L=W+x[_],Q=W-x[B],I=p?-j[ee]/2:0,Y=y===Vu?C[ee]:j[ee],ie=y===Vu?-j[ee]:-C[ee],Z=e.elements.arrow,se=p&&Z?cO(Z):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uI(),J=V[_],U=V[B],Se=Th(0,C[ee],se[ee]),_e=b?C[ee]/2-I-Se-J-A.mainAxis:Y-Se-J-A.mainAxis,We=b?-C[ee]/2+I+Se+U+A.mainAxis:ie+Se+U+A.mainAxis,he=e.elements.arrow&&up(e.elements.arrow),Me=he?w==="y"?he.clientTop||0:he.clientLeft||0:0,Be=(H=E==null?void 0:E[w])!=null?H:0,de=W+_e-Be-Me,wt=W+We-Be,nt=Th(p?w0(L,de):L,W,p?Tl(Q,wt):Q);O[w]=nt,F[w]=nt-W}if(a){var Wt,zn=w==="x"?kr:Cr,kn=w==="x"?Si:wi,Ut=O[k],lr=k==="y"?"height":"width",Hn=Ut+x[zn],Dn=Ut-x[kn],zi=[kr,Cr].indexOf(v)!==-1,Vs=(Wt=E==null?void 0:E[k])!=null?Wt:0,zo=zi?Hn:Ut-C[lr]-j[lr]-Vs+A.altAxis,Do=zi?Ut+C[lr]+j[lr]-Vs-A.altAxis:Dn,oe=p&&zi?Wne(zo,Ut,Do):Th(p?zo:Hn,Ut,p?Do:Dn);O[k]=oe,F[k]=oe-Ut}e.modifiersData[r]=F}}const vre={name:"preventOverflow",enabled:!0,phase:"main",fn:xre,requiresIfExists:["offset"]};function bre(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Sre(t){return t===Xr(t)||!gi(t)?dO(t):bre(t)}function wre(t){var e=t.getBoundingClientRect(),n=Qu(e.width)/t.offsetWidth||1,r=Qu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function kre(t,e,n){n===void 0&&(n=!1);var r=gi(e),i=gi(e)&&wre(e),s=Ba(e),o=Hu(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(($s(e)!=="body"||fO(s))&&(a=Sre(e)),gi(e)?(l=Hu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=hO(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Cre(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Ore(t){var e=Cre(t);return Lne.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function jre(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Pre(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var rA={placement:"bottom",modifiers:[],strategy:"absolute"};function iA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Tre(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?rA:i;return function(a,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},rA,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:d,setOptions:function(v){var y=typeof v=="function"?v(d.options):v;g(),d.options=Object.assign({},s,d.options,y),d.scrollParents={reference:Nl(a)?Ah(a):a.contextElement?Ah(a.contextElement):[],popper:Ah(l)};var b=Ore(Pre([].concat(r,d.options.modifiers)));return d.orderedModifiers=b.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=d.elements,y=v.reference,b=v.popper;if(iA(y,b)){d.rects={reference:kre(y,up(b),d.options.strategy==="fixed"),popper:cO(b)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(A){return d.modifiersData[A.name]=Object.assign({},A.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var k=d.orderedModifiers[w],O=k.fn,C=k.options,j=C===void 0?{}:C,P=k.name;typeof O=="function"&&(d=O({state:d,options:j,name:P,instance:p})||d)}}}},update:jre(function(){return new Promise(function(x){p.forceUpdate(),x(d)})}),destroy:function(){g(),f=!0}};if(!iA(a,l))return p;p.setOptions(u).then(function(x){!f&&u.onFirstUpdate&&u.onFirstUpdate(x)});function m(){d.orderedModifiers.forEach(function(x){var v=x.name,y=x.options,b=y===void 0?{}:y,w=x.effect;if(typeof w=="function"){var k=w({state:d,name:v,instance:p,options:b}),O=function(){};h.push(k||O)}})}function g(){h.forEach(function(x){return x()}),h=[]}return p}}var Are=[Zne,gre,Kne,Nne,pre,cre,vre,qne,dre],Ere=Tre({defaultModifiers:Are});const uc=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),Pn={arrowShadowColor:uc("--popper-arrow-shadow-color"),arrowSize:uc("--popper-arrow-size","8px"),arrowSizeHalf:uc("--popper-arrow-size-half"),arrowBg:uc("--popper-arrow-bg"),transformOrigin:uc("--popper-transform-origin"),arrowOffset:uc("--popper-arrow-offset")};function Mre(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const Rre={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},zre=t=>Rre[t],sA={scroll:!0,resize:!0};function Dre(t){let e;return typeof t=="object"?e={enabled:!0,options:{...sA,...t}}:e={enabled:t,options:sA},e}const $re={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},Lre={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{oA(t)},effect:({state:t})=>()=>{oA(t)}},oA=t=>{t.elements.popper.style.setProperty(Pn.transformOrigin.var,zre(t.placement))},Ire={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{_re(t)}},_re=t=>{var n;if(!t.placement)return;const e=Nre(t.placement);if((n=t.elements)!=null&&n.arrow&&e){Object.assign(t.elements.arrow.style,{[e.property]:e.value,width:Pn.arrowSize.varRef,height:Pn.arrowSize.varRef,zIndex:-1});const r={[Pn.arrowSizeHalf.var]:`calc(${Pn.arrowSize.varRef} / 2 - 1px)`,[Pn.arrowOffset.var]:`calc(${Pn.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},Nre=t=>{if(t.startsWith("top"))return{property:"bottom",value:Pn.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Pn.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Pn.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Pn.arrowOffset.varRef}},Bre={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{aA(t)},effect:({state:t})=>()=>{aA(t)}},aA=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=Mre(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:Pn.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Fre={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Wre={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Vre(t,e="ltr"){var r;const n=((r=Fre[t])==null?void 0:r[e])||t;return e==="ltr"?n:Wre[t]??n}function mI(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:u=!0,boundary:d="clippingParents",preventOverflow:h=!0,matchWidth:f,direction:p="ltr"}=t,m=S.useRef(null),g=S.useRef(null),x=S.useRef(null),v=Vre(r,p),y=S.useRef(()=>{}),b=S.useCallback(()=>{var A;!e||!m.current||!g.current||((A=y.current)==null||A.call(y),x.current=Ere(m.current,g.current,{placement:v,modifiers:[Bre,Ire,Lre,{...$re,enabled:!!f},{name:"eventListeners",...Dre(o)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!h,options:{boundary:d}},...n??[]],strategy:i}),x.current.forceUpdate(),y.current=x.current.destroy)},[v,e,n,f,o,s,a,l,u,h,d,i]);S.useEffect(()=>()=>{var A;!m.current&&!g.current&&((A=x.current)==null||A.destroy(),x.current=null)},[]);const w=S.useCallback(A=>{m.current=A,b()},[b]),k=S.useCallback((A={},E=null)=>({...A,ref:Bt(w,E)}),[w]),O=S.useCallback(A=>{g.current=A,b()},[b]),C=S.useCallback((A={},E=null)=>({...A,ref:Bt(O,E),style:{...A.style,position:i,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"}}),[i,O,f]),j=S.useCallback((A={},E=null)=>{const{size:F,shadowColor:H,bg:_,style:B,...ee}=A;return{...ee,ref:E,"data-popper-arrow":"",style:Qre(A)}},[]),P=S.useCallback((A={},E=null)=>({...A,ref:E,"data-popper-arrow-inner":""}),[]);return{update(){var A;(A=x.current)==null||A.update()},forceUpdate(){var A;(A=x.current)==null||A.forceUpdate()},transformOrigin:Pn.transformOrigin.varRef,referenceRef:w,popperRef:O,getPopperProps:C,getArrowProps:j,getArrowInnerProps:P,getReferenceProps:k}}function Qre(t){const{size:e,shadowColor:n,bg:r,style:i}=t,s={...i,position:"absolute"};return e&&(s["--popper-arrow-size"]=e),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function Hre(){const t=S.useRef(new Map),e=t.current,n=S.useCallback((i,s,o,a)=>{t.current.set(o,{type:s,el:i,options:a}),i.addEventListener(s,o,a)},[]),r=S.useCallback((i,s,o,a)=>{i.removeEventListener(s,o,a),t.current.delete(o)},[]);return S.useEffect(()=>()=>{e.forEach((i,s)=>{r(i.el,i.type,s,i.options)})},[r,e]),{add:n,remove:r}}function Kv(t){var i,s;const e=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])??t.target,{tagName:n,isContentEditable:r}=e;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function gI(t={}){const{ref:e,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:s=!0,onMouseDown:o,onMouseUp:a,onClick:l,onKeyDown:u,onKeyUp:d,tabIndex:h,onMouseOver:f,onMouseLeave:p,...m}=t,[g,x]=S.useState(!0),[v,y]=S.useState(!1),b=Hre(),w=W=>{W&&W.tagName!=="BUTTON"&&x(!1)},k=g?h:h||0,O=n&&!r,C=S.useCallback(W=>{if(n){W.stopPropagation(),W.preventDefault();return}W.currentTarget.focus(),l==null||l(W)},[n,l]),j=S.useCallback(W=>{v&&Kv(W)&&(W.preventDefault(),W.stopPropagation(),y(!1),b.remove(document,"keyup",j,!1))},[v,b]),P=S.useCallback(W=>{if(u==null||u(W),n||W.defaultPrevented||W.metaKey||!Kv(W.nativeEvent)||g)return;const L=i&&W.key==="Enter";s&&W.key===" "&&(W.preventDefault(),y(!0)),L&&(W.preventDefault(),W.currentTarget.click()),b.add(document,"keyup",j,!1)},[n,g,u,i,s,b,j]),A=S.useCallback(W=>{if(d==null||d(W),n||W.defaultPrevented||W.metaKey||!Kv(W.nativeEvent)||g)return;s&&W.key===" "&&(W.preventDefault(),y(!1),W.currentTarget.click())},[s,g,n,d]),E=S.useCallback(W=>{W.button===0&&(y(!1),b.remove(document,"mouseup",E,!1))},[b]),F=S.useCallback(W=>{if(W.button!==0)return;if(n){W.stopPropagation(),W.preventDefault();return}g||y(!0),W.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",E,!1),o==null||o(W)},[n,g,o,b,E]),H=S.useCallback(W=>{W.button===0&&(g||y(!1),a==null||a(W))},[a,g]),_=S.useCallback(W=>{if(n){W.preventDefault();return}f==null||f(W)},[n,f]),B=S.useCallback(W=>{v&&(W.preventDefault(),y(!1)),p==null||p(W)},[v,p]),ee=Bt(e,w);return g?{...m,ref:ee,type:"button","aria-disabled":O?void 0:n,disabled:O,onClick:C,onMouseDown:o,onMouseUp:a,onKeyUp:d,onKeyDown:u,onMouseOver:f,onMouseLeave:p}:{...m,ref:ee,role:"button","data-active":Le(v),"aria-disabled":n?"true":void 0,tabIndex:O?void 0:k,onClick:C,onMouseDown:F,onMouseUp:H,onKeyUp:A,onKeyDown:P,onMouseOver:_,onMouseLeave:B}}const[qre,Ure,Gre,Xre]=LC(),[Kre,dp]=tt({strict:!1,name:"MenuContext"});function yI(t){return(t==null?void 0:t.ownerDocument)??document}function Yre(t){return yI(t).activeElement===t}function Zre(t={}){const{id:e,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:i,autoSelect:s=!0,isLazy:o,isOpen:a,defaultIsOpen:l,onClose:u,onOpen:d,placement:h="bottom-start",lazyBehavior:f="unmount",direction:p,computePositionOnMount:m=!1,...g}=t,x=S.useRef(null),v=S.useRef(null),y=S.useRef(!0),b=Gre(),w=S.useCallback(()=>{requestAnimationFrame(()=>{var Z;(Z=x.current)==null||Z.focus({preventScroll:!1})})},[]),k=S.useCallback(()=>{const Z=setTimeout(()=>{var se,V;if(i)(se=i.current)==null||se.focus();else if(!b.count())(V=x.current)==null||V.focus({preventScroll:!1});else{const J=b.firstEnabled();J&&_(J.index)}});Q.current.add(Z)},[b,i]),O=S.useCallback(()=>{const Z=setTimeout(()=>{var se;if(!b.count())(se=x.current)==null||se.focus({preventScroll:!1});else{const V=b.lastEnabled();V&&_(V.index)}});Q.current.add(Z)},[b]),C=S.useCallback(()=>{d==null||d(),s?k():w()},[s,k,w,d]),{isOpen:j,onOpen:P,onClose:A,onToggle:E}=Yf({isOpen:a,defaultIsOpen:l,onClose:u,onOpen:C});UW({enabled:j&&r,ref:x,handler:Z=>{var V,J,U;const se=((J=(V=Z.composedPath)==null?void 0:V.call(Z))==null?void 0:J[0])??Z.target;(U=v.current)!=null&&U.contains(se)||A()}});const F=mI({...g,enabled:j||m,placement:h,direction:p}),[H,_]=S.useState(-1);FW(x,{focusRef:v,visible:j});const B=_W({isOpen:j,ref:x}),[ee,W]=VW(e,"menu-button","menu-list"),L=S.useCallback(()=>{P(),w()},[P,w]),Q=S.useRef(new Set([]));S.useEffect(()=>{const Z=Q.current;return()=>{Z.forEach(se=>clearTimeout(se)),Z.clear()}},[]),ja(()=>{var Z;j||(_(-1),(Z=x.current)==null||Z.scrollTo(0,0))},[j]),ja(()=>{j&&H===-1&&w()},[H,j]),S.useEffect(()=>{var se;if(!j)return;const Z=b.item(H);(se=Z==null?void 0:Z.node)==null||se.focus({preventScroll:!y.current})},[b,H,j]);const I=S.useCallback(()=>{P(),k()},[k,P]),Y=S.useCallback(()=>{y.current=!0,P(),O()},[P,O]),ie=S.useCallback(()=>{var U,Se;const Z=yI(x.current),se=(U=x.current)==null?void 0:U.contains(Z.activeElement);if(!(j&&!se))return;const J=(Se=b.item(H))==null?void 0:Se.node;J==null||J.focus({preventScroll:!y.current})},[j,H,b]);return{openAndFocusMenu:L,openAndFocusFirstItem:I,openAndFocusLastItem:Y,onTransitionEnd:ie,unstable__animationState:B,descendants:b,popper:F,buttonId:ee,menuId:W,forceUpdate:F.forceUpdate,orientation:"vertical",isOpen:j,onToggle:E,onOpen:P,onClose:A,menuRef:x,buttonRef:v,focusedIndex:H,closeOnSelect:n,closeOnBlur:r,autoSelect:s,setFocusedIndex:_,isLazy:o,lazyBehavior:f,initialFocusRef:i,scrollIntoViewRef:y}}function Jre(t={},e=null){const n=dp(),{onToggle:r,popper:i,openAndFocusFirstItem:s,openAndFocusLastItem:o,scrollIntoViewRef:a}=n,l=S.useCallback(u=>{const d=u.key,f={Enter:s,ArrowDown:s,ArrowUp:o}[d];f&&(a.current=!0,u.preventDefault(),u.stopPropagation(),f(u))},[s,o,a]);return{...t,ref:Bt(n.buttonRef,e,i.referenceRef),id:n.buttonId,"data-active":Le(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:$e(t.onClick,r),onKeyDown:$e(t.onKeyDown,l)}}function CS(t){var e;return rie(t)&&!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))}function eie(t={},e=null){const n=dp();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:i,menuRef:s,isOpen:o,onClose:a,menuId:l,isLazy:u,lazyBehavior:d,scrollIntoViewRef:h,unstable__animationState:f}=n,p=Ure(),m=Cne({preventDefault:y=>y.key!==" "&&CS(y.target)}),g=S.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const b=y.key,k={Tab:C=>C.preventDefault(),Escape:C=>{C.stopPropagation(),a()},ArrowDown:()=>{h.current=!0;const C=p.nextEnabled(r)??p.firstEnabled();C&&i(C.index)},ArrowUp:()=>{h.current=!0;const C=p.prevEnabled(r)??p.firstEnabled();C&&i(C.index)}}[b];if(k){y.preventDefault(),k(y);return}const O=m(C=>{const j=wne(p.values(),C,P=>{var A;return((A=P==null?void 0:P.node)==null?void 0:A.textContent)??""},p.item(r));if(j){const P=p.indexOf(j.node);i(P)}});CS(y.target)&&O(y)},[p,r,m,a,i,h]),x=S.useRef(!1);o&&(x.current=!0);const v=HD({wasSelected:x.current,enabled:u,mode:d,isSelected:f.present});return{...t,ref:Bt(s,e),children:v?t.children:null,tabIndex:-1,role:"menu",id:l,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:$e(t.onKeyDown,g)}}function tie(t={}){const{popper:e,isOpen:n}=dp();return e.getPopperProps({...t,style:{visibility:n?"visible":"hidden",...t.style}})}function nie(t={},e=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onClick:s,onFocus:o,isDisabled:a,isFocusable:l,closeOnSelect:u,type:d,...h}=t,f=dp(),{setFocusedIndex:p,focusedIndex:m,closeOnSelect:g,onClose:x,menuId:v,scrollIntoViewRef:y}=f,b=S.useRef(null),w=`${v}-menuitem-${S.useId()}`,{index:k,register:O}=Xre({disabled:a&&!l}),C=S.useCallback(_=>{n==null||n(_),!a&&(y.current=!1,p(k))},[p,k,a,n,y]),j=S.useCallback(_=>{r==null||r(_),b.current&&!Yre(b.current)&&C(_)},[C,r]),P=S.useCallback(_=>{i==null||i(_),!a&&p(-1)},[p,a,i]),A=S.useCallback(_=>{s==null||s(_),CS(_.currentTarget)&&(u??g)&&x()},[x,s,g,u]),E=S.useCallback(_=>{o==null||o(_),p(k)},[p,o,k]),F=k===m,H=gI({onClick:A,onFocus:E,onMouseEnter:C,onMouseMove:j,onMouseLeave:P,ref:Bt(O,b,e),isDisabled:a,isFocusable:l});return{...h,...H,type:d??H.type,id:w,role:"menuitem",tabIndex:F?0:-1}}function rie(t){if(!iie(t))return!1;const e=t.ownerDocument.defaultView??window;return t instanceof e.HTMLElement}function iie(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[sie,hp]=tt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),pO=t=>{const{children:e}=t,n=gn("Menu",t),r=pt(t),{direction:i}=op(),{descendants:s,...o}=Zre({...r,direction:i}),a=S.useMemo(()=>o,[o]),{isOpen:l,onClose:u,forceUpdate:d}=a;return c.jsx(qre,{value:s,children:c.jsx(Kre,{value:a,children:c.jsx(sie,{value:n,children:Nr(e,{isOpen:l,onClose:u,forceUpdate:d})})})})};pO.displayName="Menu";const oie=re((t,e)=>{const n=hp();return c.jsx(te.button,{ref:e,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),mO=re((t,e)=>{const{children:n,as:r,...i}=t,s=Jre(i,e),o=r||oie;return c.jsx(o,{...s,className:xe("chakra-menu__menu-button",t.className),children:c.jsx(te.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});mO.displayName="MenuButton";const xI=re((t,e)=>{const n=hp();return c.jsx(te.span,{ref:e,...t,__css:n.command,className:"chakra-menu__command"})});xI.displayName="MenuCommand";const vI=t=>{const{className:e,children:n,...r}=t,i=hp(),s=S.Children.only(n),o=S.isValidElement(s)?S.cloneElement(s,{focusable:"false","aria-hidden":!0,className:xe("chakra-menu__icon",s.props.className)}):null,a=xe("chakra-menu__icon-wrapper",e);return c.jsx(te.span,{className:a,...r,__css:i.icon,children:o})};vI.displayName="MenuIcon";const aie=re((t,e)=>{const{type:n,...r}=t,i=hp(),s=r.as||n?n??void 0:"button",o=S.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...i.item}),[i.item]);return c.jsx(te.button,{ref:e,type:s,...r,__css:o})}),Zo=re((t,e)=>{const{icon:n,iconSpacing:r="0.75rem",command:i,commandSpacing:s="0.75rem",children:o,...a}=t,l=nie(a,e),d=n||i?c.jsx("span",{style:{pointerEvents:"none",flex:1},children:o}):o;return c.jsxs(aie,{...l,className:xe("chakra-menu__menuitem",l.className),children:[n&&c.jsx(vI,{fontSize:"0.8em",marginEnd:r,children:n}),d,i&&c.jsx(xI,{marginStart:s,children:i})]})});Zo.displayName="MenuItem";const lie={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},cie=te(Ro.div),gO=re(function(e,n){var f;const{rootProps:r,motionProps:i,...s}=e,{isOpen:o,onTransitionEnd:a,unstable__animationState:l}=dp(),u=eie(s,n),d=tie(r),h=hp();return c.jsx(te.div,{...d,__css:{zIndex:e.zIndex??((f=h.list)==null?void 0:f.zIndex)},children:c.jsx(cie,{variants:lie,initial:!1,animate:o?"enter":"exit",__css:{outline:0,...h.list},...i,...u,className:xe("chakra-menu__menu-list",u.className),onUpdate:a,onAnimationComplete:FD(l.onComplete,u.onAnimationComplete)})})});gO.displayName="MenuList";var uie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dc=new WeakMap,hm=new WeakMap,fm={},Yv=0,bI=function(t){return t&&(t.host||bI(t.parentNode))},die=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hie=function(t,e,n,r){var i=die(e,Array.isArray(t)?t:[t]);fm[n]||(fm[n]=new WeakMap);var s=fm[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",g=(dc.get(f)||0)+1,x=(s.get(f)||0)+1;dc.set(f,g),s.set(f,x),o.push(f),g===1&&m&&hm.set(f,!0),x===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),a.clear(),Yv++,function(){o.forEach(function(h){var f=dc.get(h)-1,p=s.get(h)-1;dc.set(h,f),s.set(h,p),f||(hm.has(h)||h.removeAttribute(r),hm.delete(h)),p||h.removeAttribute(n)}),Yv--,Yv||(dc=new WeakMap,dc=new WeakMap,hm=new WeakMap,fm={})}},fie=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=uie(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),hie(r,i,n,"aria-hidden")):function(){return null}},pie=Object.defineProperty,mie=(t,e,n)=>e in t?pie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gie=(t,e,n)=>(mie(t,e+"",n),n);class yie{constructor(){gie(this,"modals"),this.modals=new Set}add(e){return this.modals.add(e),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){if(!e)return!1;const n=Array.from(this.modals)[this.modals.size-1];return e===n}}const OS=new yie;function SI(t,e){const[n,r]=S.useState(0);return S.useEffect(()=>{const i=t.current;if(i){if(e){const s=OS.add(i);r(s)}return()=>{OS.remove(i),r(0)}}},[e,t]),n}function xie(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:s=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,u=S.useRef(null),d=S.useRef(null),[h,f,p]=bie(r,"chakra-modal","chakra-modal--header","chakra-modal--body");vie(u,e&&o);const m=SI(u,e),g=S.useRef(null),x=S.useCallback(P=>{g.current=P.target},[]),v=S.useCallback(P=>{P.key==="Escape"&&(P.stopPropagation(),s&&(n==null||n()),l==null||l())},[s,n,l]),[y,b]=S.useState(!1),[w,k]=S.useState(!1),O=S.useCallback((P={},A=null)=>({role:"dialog",...P,ref:Bt(A,u),id:h,tabIndex:-1,"aria-modal":!0,"aria-labelledby":y?f:void 0,"aria-describedby":w?p:void 0,onClick:$e(P.onClick,E=>E.stopPropagation())}),[p,w,h,f,y]),C=S.useCallback(P=>{P.stopPropagation(),g.current===P.target&&OS.isTopModal(u.current)&&(i&&(n==null||n()),a==null||a())},[n,i,a]),j=S.useCallback((P={},A=null)=>({...P,ref:Bt(A,d),onClick:$e(P.onClick,C),onKeyDown:$e(P.onKeyDown,v),onMouseDown:$e(P.onMouseDown,x)}),[v,x,C]);return{isOpen:e,onClose:n,headerId:f,bodyId:p,setBodyMounted:k,setHeaderMounted:b,dialogRef:u,overlayRef:d,getDialogProps:O,getDialogContainerProps:j,index:m}}function vie(t,e){const n=t.current;S.useEffect(()=>{if(!(!t.current||!e))return fie(t.current)},[e,t,n])}function bie(t,...e){const n=S.useId(),r=t||n;return S.useMemo(()=>e.map(i=>`${i}-${r}`),[r,e])}const[Sie,ud]=tt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[wie,Bl]=tt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Oi=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames??!0},{portalProps:n,children:r,autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:d,preserveScrollBarGap:h,motionPreset:f,lockFocusAcrossFrames:p,animatePresenceProps:m,onCloseComplete:g}=e,x=gn("Modal",e),y={...xie(e),autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:d,preserveScrollBarGap:h,motionPreset:f,lockFocusAcrossFrames:p};return c.jsx(wie,{value:y,children:c.jsx(Sie,{value:x,children:c.jsx(ec,{...m,onExitComplete:g,children:y.isOpen&&c.jsx(cd,{...n,children:r})})})})};Oi.displayName="Modal";var bg="right-scroll-bar-position",Sg="width-before-scroll-bar",kie="with-scroll-bars-hidden",Cie="--removed-body-scroll-bar-size",wI=PL(),Zv=function(){},Zy=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Zv,onWheelCapture:Zv,onTouchMoveCapture:Zv}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,m=t.noIsolation,g=t.inert,x=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,b=t.gapMode,w=CL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,O=kL([n,e]),C=Ss(Ss({},w),i);return S.createElement(S.Fragment,null,d&&S.createElement(k,{sideCar:wI,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?S.cloneElement(S.Children.only(a),Ss(Ss({},C),{ref:O})):S.createElement(y,Ss({},C,{className:l,ref:O}),a))});Zy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zy.classNames={fullWidth:Sg,zeroRight:bg};var Oie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jie(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Oie();return e&&t.setAttribute("nonce",e),t}function Pie(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tie(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Aie=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jie())&&(Pie(e,n),Tie(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Eie=function(){var t=Aie();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kI=function(){var t=Eie(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Mie={left:0,top:0,right:0,gap:0},Jv=function(t){return parseInt(t||"",10)||0},Rie=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Jv(n),Jv(r),Jv(i)]},zie=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Mie;var e=Rie(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Die=kI(),iu="data-scroll-locked",$ie=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(iu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bg," .").concat(bg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sg," .").concat(Sg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(iu,`] {
    `).concat(Cie,": ").concat(a,`px;
  }
`)},lA=function(){var t=parseInt(document.body.getAttribute(iu)||"0",10);return isFinite(t)?t:0},Lie=function(){S.useEffect(function(){return document.body.setAttribute(iu,(lA()+1).toString()),function(){var t=lA()-1;t<=0?document.body.removeAttribute(iu):document.body.setAttribute(iu,t.toString())}},[])},Iie=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Lie();var s=S.useMemo(function(){return zie(i)},[i]);return S.createElement(Die,{styles:$ie(s,!e,i,n?"":"!important")})},jS=!1;if(typeof window<"u")try{var pm=Object.defineProperty({},"passive",{get:function(){return jS=!0,!0}});window.addEventListener("test",pm,pm),window.removeEventListener("test",pm,pm)}catch{jS=!1}var hc=jS?{passive:!1}:!1,_ie=function(t){return t.tagName==="TEXTAREA"},CI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_ie(t)&&n[e]==="visible")},Nie=function(t){return CI(t,"overflowY")},Bie=function(t){return CI(t,"overflowX")},cA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=OI(t,r);if(i){var s=jI(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fie=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Wie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OI=function(t,e){return t==="v"?Nie(e):Bie(e)},jI=function(t,e){return t==="v"?Fie(e):Wie(e)},Vie=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qie=function(t,e,n,r,i){var s=Vie(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=jI(t,a),m=p[0],g=p[1],x=p[2],v=g-x-s*m;(m||v)&&OI(t,a)&&(h+=v,f+=m);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},mm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uA=function(t){return[t.deltaX,t.deltaY]},dA=function(t){return t&&"current"in t?t.current:t},Hie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Uie=0,fc=[];function Gie(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(Uie++)[0],s=S.useState(kI)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=nte([t.lockRef.current],(t.shards||[]).map(dA),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=mm(g),y=n.current,b="deltaX"in g?g.deltaX:y[0]-v[0],w="deltaY"in g?g.deltaY:y[1]-v[1],k,O=g.target,C=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in g&&C==="h"&&O.type==="range")return!1;var j=window.getSelection(),P=j&&j.anchorNode,A=P?P===O||P.contains(O):!1;if(A)return!1;var E=cA(C,O);if(!E)return!0;if(E?k=C:(k=C==="v"?"h":"v",E=cA(C,O)),!E)return!1;if(!r.current&&"changedTouches"in g&&(b||w)&&(r.current=k),!k)return!0;var F=r.current||k;return Qie(F,x,g,F==="h"?b:w)},[]),l=S.useCallback(function(g){var x=g;if(!(!fc.length||fc[fc.length-1]!==s)){var v="deltaY"in x?uA(x):mm(x),y=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&Hie(k.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(dA).filter(Boolean).filter(function(k){return k.contains(x.target)}),w=b.length>0?a(x,b[0]):!o.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),u=S.useCallback(function(g,x,v,y){var b={name:g,delta:x,target:v,should:y,shadowParent:Xie(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=S.useCallback(function(g){n.current=mm(g),r.current=void 0},[]),h=S.useCallback(function(g){u(g.type,uA(g),g.target,a(g,t.lockRef.current))},[]),f=S.useCallback(function(g){u(g.type,mm(g),g.target,a(g,t.lockRef.current))},[]);S.useEffect(function(){return fc.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,hc),document.addEventListener("touchmove",l,hc),document.addEventListener("touchstart",d,hc),function(){fc=fc.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,hc),document.removeEventListener("touchmove",l,hc),document.removeEventListener("touchstart",d,hc)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(s,{styles:qie(i)}):null,p?S.createElement(Iie,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Xie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Kie=rte(wI,Gie);var PI=S.forwardRef(function(t,e){return S.createElement(Zy,Ss({},t,{ref:e,sideCar:Kie}))});PI.classNames=Zy.classNames;function Yie(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:s,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:u,lockFocusAcrossFrames:d,isOpen:h}=Bl(),[f,p]=Y$();S.useEffect(()=>{!f&&p&&setTimeout(p)},[f,p]);const m=SI(r,h);return c.jsx(eI,{autoFocus:e,isDisabled:!n,initialFocusRef:i,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:d,children:c.jsx(PI,{removeScrollBar:!u,allowPinchZoom:o,enabled:m===1&&s,forwardProps:!0,children:t.children})})}const Zie={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:i})=>({opacity:0,x:t,y:e,transition:(n==null?void 0:n.exit)??vo.exit(jl.exit,i),transitionEnd:r==null?void 0:r.exit}),enter:({transition:t,transitionEnd:e,delay:n})=>({opacity:1,x:0,y:0,transition:(t==null?void 0:t.enter)??vo.enter(jl.enter,n),transitionEnd:e==null?void 0:e.enter}),exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:i,delay:s})=>{const o={x:e,y:t};return{opacity:0,transition:(n==null?void 0:n.exit)??vo.exit(jl.exit,s),...i?{...o,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...o,...r==null?void 0:r.exit}}}}},eh={initial:"initial",animate:"enter",exit:"exit",variants:Zie},Jie=S.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,className:o,offsetX:a=0,offsetY:l=8,transition:u,transitionEnd:d,delay:h,animatePresenceProps:f,...p}=e,m=r?i&&r:!0,g=i||r?"enter":"exit",x={offsetX:a,offsetY:l,reverse:s,transition:u,transitionEnd:d,delay:h};return c.jsx(ec,{...f,custom:x,children:m&&c.jsx(Ro.div,{ref:n,className:xe("chakra-offset-slide",o),custom:x,...eh,animate:g,...p})})});Jie.displayName="SlideFade";const ese={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:i})=>({opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(n==null?void 0:n.exit)??vo.exit(jl.exit,i)}),enter:({transitionEnd:t,transition:e,delay:n})=>({opacity:1,scale:1,transition:(e==null?void 0:e.enter)??vo.enter(jl.enter,n),transitionEnd:t==null?void 0:t.enter})},TI={initial:"exit",animate:"enter",exit:"exit",variants:ese},tse=S.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:u,delay:d,animatePresenceProps:h,...f}=e,p=r?i&&r:!0,m=i||r?"enter":"exit",g={initialScale:o,reverse:s,transition:l,transitionEnd:u,delay:d};return c.jsx(ec,{...h,custom:g,children:p&&c.jsx(Ro.div,{ref:n,className:xe("chakra-offset-slide",a),...TI,animate:m,custom:g,...f})})});tse.displayName="ScaleFade";const nse={slideInBottom:{...eh,custom:{offsetY:16,reverse:!0}},slideInRight:{...eh,custom:{offsetX:16,reverse:!0}},slideInTop:{...eh,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...eh,custom:{offsetX:-16,reverse:!0}},scale:{...TI,custom:{initialScale:.95,reverse:!0}},none:{}},rse=te(Ro.section),ise=t=>nse[t||"none"],AI=S.forwardRef((t,e)=>{const{preset:n,motionProps:r=ise(n),...i}=t;return c.jsx(rse,{ref:e,...r,...i})});AI.displayName="ModalTransition";const ji=re((t,e)=>{const{className:n,children:r,containerProps:i,motionProps:s,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=Bl(),u=a(o,e),d=l(i),h=xe("chakra-modal__content",n),f=ud(),p={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...f.dialog},m={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...f.dialogContainer},{motionPreset:g}=Bl();return c.jsx(Yie,{children:c.jsx(te.div,{...d,className:"chakra-modal__content-container",tabIndex:-1,__css:m,children:c.jsx(AI,{preset:g,motionProps:s,className:h,...u,__css:p,children:r})})})});ji.displayName="ModalContent";const Pi=re((t,e)=>{const{className:n,...r}=t,{bodyId:i,setBodyMounted:s}=Bl();S.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=xe("chakra-modal__body",n),a=ud();return c.jsx(te.div,{ref:e,className:o,id:i,...r,__css:a.body})});Pi.displayName="ModalBody";const Ti=re((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:s}=Bl(),o=xe("chakra-modal__close-btn",r),a=ud();return c.jsx(hf,{ref:e,__css:a.closeButton,className:o,onClick:$e(n,l=>{l.stopPropagation(),s()}),...i})});Ti.displayName="ModalCloseButton";const Ai=re((t,e)=>{const{className:n,...r}=t,i=xe("chakra-modal__footer",n),s=ud(),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...s.footer};return c.jsx(te.footer,{ref:e,...r,__css:o,className:i})});Ai.displayName="ModalFooter";const yO=re((t,e)=>{const{className:n,...r}=t,{headerId:i,setHeaderMounted:s}=Bl();S.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=xe("chakra-modal__header",n),a=ud(),l={flex:0,...a.header};return c.jsx(te.header,{ref:e,className:o,id:i,...r,__css:l})});yO.displayName="ModalHeader";const sse={enter:({transition:t,transitionEnd:e,delay:n}={})=>({opacity:1,transition:(t==null?void 0:t.enter)??vo.enter(jl.enter,n),transitionEnd:e==null?void 0:e.enter}),exit:({transition:t,transitionEnd:e,delay:n}={})=>({opacity:0,transition:(t==null?void 0:t.exit)??vo.exit(jl.exit,n),transitionEnd:e==null?void 0:e.exit})},EI={initial:"exit",animate:"enter",exit:"exit",variants:sse},ose=S.forwardRef(function(e,n){const{unmountOnExit:r,in:i,className:s,transition:o,transitionEnd:a,delay:l,animatePresenceProps:u,...d}=e,h=i||r?"enter":"exit",f=r?i&&r:!0,p={transition:o,transitionEnd:a,delay:l};return c.jsx(ec,{...u,custom:p,children:f&&c.jsx(Ro.div,{ref:n,className:xe("chakra-fade",s),custom:p,...EI,animate:h,...d})})});ose.displayName="Fade";const ase=te(Ro.div),Ei=re((t,e)=>{const{className:n,transition:r,motionProps:i,...s}=t,o=xe("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...ud().overlay},{motionPreset:u}=Bl(),h=i||(u==="none"?{}:EI);return c.jsx(ase,{...h,__css:l,ref:e,className:o,...s})});Ei.displayName="ModalOverlay";const lse=t=>c.jsx(X,{viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),cse=t=>c.jsx(X,{viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function hA(t,e,n,r){S.useEffect(()=>{if(!t.current||!r)return;const i=t.current.ownerDocument.defaultView??window,s=Array.isArray(e)?e:[e],o=new i.MutationObserver(a=>{for(const l of a)l.type==="attributes"&&l.attributeName&&s.includes(l.attributeName)&&n(l)});return o.observe(t.current,{attributes:!0,attributeFilter:s}),()=>o.disconnect()})}const use=50,fA=300;function dse(t,e){const[n,r]=S.useState(!1),[i,s]=S.useState(null),[o,a]=S.useState(!0),l=S.useRef(null),u=()=>clearTimeout(l.current);QW(()=>{i==="increment"&&t(),i==="decrement"&&e()},n?use:null);const d=S.useCallback(()=>{o&&t(),l.current=setTimeout(()=>{a(!1),r(!0),s("increment")},fA)},[t,o]),h=S.useCallback(()=>{o&&e(),l.current=setTimeout(()=>{a(!1),r(!0),s("decrement")},fA)},[e,o]),f=S.useCallback(()=>{a(!0),r(!1),u()},[]);return S.useEffect(()=>()=>u(),[]),{up:d,down:h,stop:f,isSpinning:n}}const hse=/^[Ee0-9+\-.]$/;function fse(t){return hse.test(t)}function pse(t,e){if(t.key==null)return!0;const n=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||n?!0:e(t.key)}function mse(t={}){const{focusInputOnChange:e=!0,clampValueOnBlur:n=!0,keepWithinRange:r=!0,min:i=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:o=1,isReadOnly:a,isDisabled:l,isRequired:u,isInvalid:d,pattern:h="[0-9]*(.[0-9]+)?",inputMode:f="decimal",allowMouseWheel:p,id:m,onChange:g,precision:x,name:v,"aria-describedby":y,"aria-label":b,"aria-labelledby":w,onFocus:k,onBlur:O,onInvalid:C,getAriaValueText:j,isValidCharacter:P,format:A,parse:E,...F}=t,H=Yt(k),_=Yt(O),B=Yt(C),ee=Yt(P??fse),W=Yt(j),L=NW(t),{update:Q,increment:I,decrement:Y}=L,[ie,Z]=S.useState(!1),se=!(a||l),V=S.useRef(null),J=S.useRef(null),U=S.useRef(null),Se=S.useRef(null),_e=S.useCallback(oe=>oe.split("").filter(ee).join(""),[ee]),We=S.useCallback(oe=>(E==null?void 0:E(oe))??oe,[E]),he=S.useCallback(oe=>((A==null?void 0:A(oe))??oe).toString(),[A]);ja(()=>{(L.valueAsNumber>s||L.valueAsNumber<i)&&(B==null||B("rangeOverflow",he(L.value),L.valueAsNumber))},[L.valueAsNumber,L.value,he,B]),Sl(()=>{if(!V.current)return;if(V.current.value!=L.value){const xt=We(V.current.value);L.setValue(_e(xt))}},[We,_e]);const Me=S.useCallback((oe=o)=>{se&&I(oe)},[I,se,o]),Be=S.useCallback((oe=o)=>{se&&Y(oe)},[Y,se,o]),de=dse(Me,Be);hA(U,"disabled",de.stop,de.isSpinning),hA(Se,"disabled",de.stop,de.isSpinning);const wt=S.useCallback(oe=>{if(oe.nativeEvent.isComposing)return;const ce=We(oe.currentTarget.value);Q(_e(ce)),J.current={start:oe.currentTarget.selectionStart,end:oe.currentTarget.selectionEnd}},[Q,_e,We]),nt=S.useCallback(oe=>{var xt;H==null||H(oe),J.current&&(oe.currentTarget.selectionStart=J.current.start??((xt=oe.currentTarget.value)==null?void 0:xt.length),oe.currentTarget.selectionEnd=J.current.end??oe.currentTarget.selectionStart)},[H]),Wt=S.useCallback(oe=>{if(oe.nativeEvent.isComposing)return;pse(oe,ee)||oe.preventDefault();const xt=zn(oe)*o,ce=oe.key,$n={ArrowUp:()=>Me(xt),ArrowDown:()=>Be(xt),Home:()=>Q(i),End:()=>Q(s)}[ce];$n&&(oe.preventDefault(),$n(oe))},[ee,o,Me,Be,Q,i,s]),zn=oe=>{let xt=1;return(oe.metaKey||oe.ctrlKey)&&(xt=.1),oe.shiftKey&&(xt=10),xt},kn=S.useMemo(()=>{const oe=W==null?void 0:W(L.value);if(oe!=null)return oe;const xt=L.value.toString();return xt||void 0},[L.value,W]),Ut=S.useCallback(()=>{let oe=L.value;if(L.value==="")return;/^[eE]/.test(L.value.toString())?L.setValue(""):(L.valueAsNumber<i&&(oe=i),L.valueAsNumber>s&&(oe=s),L.cast(oe))},[L,s,i]),lr=S.useCallback(()=>{Z(!1),n&&Ut()},[n,Z,Ut]),Hn=S.useCallback(()=>{e&&requestAnimationFrame(()=>{var oe;(oe=V.current)==null||oe.focus()})},[e]),Dn=S.useCallback(oe=>{oe.preventDefault(),de.up(),Hn()},[Hn,de]),zi=S.useCallback(oe=>{oe.preventDefault(),de.down(),Hn()},[Hn,de]);yh(()=>V.current,"wheel",oe=>{var Di;const ce=(((Di=V.current)==null?void 0:Di.ownerDocument)??document).activeElement===V.current;if(!p||!ce)return;oe.preventDefault();const Ce=zn(oe)*o,$n=Math.sign(oe.deltaY);$n===-1?Me(Ce):$n===1&&Be(Ce)},{passive:!1});const Vs=S.useCallback((oe={},xt=null)=>{const ce=l||r&&L.isAtMax;return{...oe,ref:Bt(xt,U),role:"button",tabIndex:-1,onPointerDown:$e(oe.onPointerDown,Ce=>{Ce.button!==0||ce||Dn(Ce)}),onPointerLeave:$e(oe.onPointerLeave,de.stop),onPointerUp:$e(oe.onPointerUp,de.stop),disabled:ce,"aria-disabled":mo(ce)}},[L.isAtMax,r,Dn,de.stop,l]),zo=S.useCallback((oe={},xt=null)=>{const ce=l||r&&L.isAtMin;return{...oe,ref:Bt(xt,Se),role:"button",tabIndex:-1,onPointerDown:$e(oe.onPointerDown,Ce=>{Ce.button!==0||ce||zi(Ce)}),onPointerLeave:$e(oe.onPointerLeave,de.stop),onPointerUp:$e(oe.onPointerUp,de.stop),disabled:ce,"aria-disabled":mo(ce)}},[L.isAtMin,r,zi,de.stop,l]),Do=S.useCallback((oe={},xt=null)=>({name:v,inputMode:f,type:"text",pattern:h,"aria-labelledby":w,"aria-label":b,"aria-describedby":y,id:m,disabled:l,role:"spinbutton",...oe,readOnly:oe.readOnly??a,"aria-readonly":oe.readOnly??a,"aria-required":oe.required??u,required:oe.required??u,ref:Bt(V,xt),value:he(L.value),"aria-valuemin":i,"aria-valuemax":s,"aria-valuenow":Number.isNaN(L.valueAsNumber)?void 0:L.valueAsNumber,"aria-invalid":mo(d??L.isOutOfRange),"aria-valuetext":kn,autoComplete:"off",autoCorrect:"off",onChange:$e(oe.onChange,wt),onKeyDown:$e(oe.onKeyDown,Wt),onFocus:$e(oe.onFocus,nt,()=>Z(!0)),onBlur:$e(oe.onBlur,_,lr)}),[v,f,h,w,b,he,y,m,l,u,a,d,L.value,L.valueAsNumber,L.isOutOfRange,i,s,kn,wt,Wt,nt,_,lr]);return{value:he(L.value),valueAsNumber:L.valueAsNumber,isFocused:ie,isDisabled:l,isReadOnly:a,getIncrementButtonProps:Vs,getDecrementButtonProps:zo,getInputProps:Do,htmlProps:F}}const[gse,Jy]=tt({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[yse,xO]=tt({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),su=re(function(e,n){const r=gn("NumberInput",e),i=pt(e),s=qC(i),{htmlProps:o,...a}=mse(s),l=S.useMemo(()=>a,[a]);return c.jsx(yse,{value:l,children:c.jsx(gse,{value:r,children:c.jsx(te.div,{...o,ref:n,className:xe("chakra-numberinput",e.className),__css:{position:"relative",zIndex:0,...r.root}})})})});su.displayName="NumberInput";const ou=re(function(e,n){const r=Jy();return c.jsx(te.div,{"aria-hidden":!0,ref:n,...e,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...r.stepperGroup}})});ou.displayName="NumberInputStepper";const au=re(function(e,n){const{getInputProps:r}=xO(),i=r(e,n),s=Jy();return c.jsx(te.input,{...i,className:xe("chakra-numberinput__field",e.className),__css:{width:"100%",...s.field}})});au.displayName="NumberInputField";const MI=te("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),lu=re(function(e,n){const r=Jy(),{getDecrementButtonProps:i}=xO(),s=i(e,n);return c.jsx(MI,{...s,__css:r.stepper,children:e.children??c.jsx(lse,{})})});lu.displayName="NumberDecrementStepper";const cu=re(function(e,n){const{getIncrementButtonProps:r}=xO(),i=r(e,n),s=Jy();return c.jsx(MI,{...i,__css:s.stepper,children:e.children??c.jsx(cse,{})})});cu.displayName="NumberIncrementStepper";function xse(t){var n;const e=S.version;return typeof e!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function vse(t,e,n){return(t-e)*100/(n-e)}ar({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});ar({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});const bse=ar({"0%":{left:"-40%"},"100%":{left:"100%"}}),Sse=ar({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function wse(t){const{value:e=0,min:n,max:r,valueText:i,getValueText:s,isIndeterminate:o,role:a="progressbar"}=t,l=vse(e,n,r);return{bind:{"data-indeterminate":o?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":o?void 0:e,"aria-valuetext":(()=>{if(e!=null)return typeof s=="function"?s(e,l):i})(),role:a},percent:l,value:e}}const[kse,Cse]=tt({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),Ose=re((t,e)=>{const{min:n,max:r,value:i,isIndeterminate:s,role:o,...a}=t,l=wse({value:i,min:n,max:r,isIndeterminate:s,role:o}),d={height:"100%",...Cse().filledTrack};return c.jsx(te.div,{ref:e,style:{width:`${l.percent}%`,...a.style},...l.bind,...a,__css:d})}),fp=re((t,e)=>{var C;const{value:n,min:r=0,max:i=100,hasStripe:s,isAnimated:o,children:a,borderRadius:l,isIndeterminate:u,"aria-label":d,"aria-labelledby":h,"aria-valuetext":f,title:p,role:m,...g}=pt(t),x=gn("Progress",t),v=l??((C=x.track)==null?void 0:C.borderRadius),y={animation:`${Sse} 1s linear infinite`},k={...!u&&s&&o&&y,...u&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${bse} 1s ease infinite normal none running`}},O={overflow:"hidden",position:"relative",...x.track};return c.jsx(te.div,{ref:e,borderRadius:v,__css:O,...g,children:c.jsxs(kse,{value:x,children:[c.jsx(Ose,{"aria-label":d,"aria-labelledby":h,"aria-valuetext":f,min:r,max:i,value:n,isIndeterminate:u,css:k,borderRadius:v,title:p,role:m}),a]})})});fp.displayName="Progress";const RI=re(function(e,n){const{children:r,placeholder:i,className:s,...o}=e;return c.jsxs(te.select,{...o,ref:n,className:xe("chakra-select",s),children:[i&&c.jsx("option",{value:"",children:i}),r]})});RI.displayName="SelectField";const Ji=re((t,e)=>{var b;const n=gn("Select",t),{rootProps:r,placeholder:i,icon:s,color:o,height:a,h:l,minH:u,minHeight:d,iconColor:h,iconSize:f,...p}=pt(t),[m,g]=$W(p,V8),x=HC(g),v={width:"100%",height:"fit-content",position:"relative",color:o},y={paddingEnd:"2rem",...n.field,_focus:{zIndex:"unset",...(b=n.field)==null?void 0:b._focus}};return c.jsxs(te.div,{className:"chakra-select__wrapper",__css:v,...m,...r,children:[c.jsx(RI,{ref:e,height:l??a,minH:u??d,placeholder:i,...x,__css:y,children:t.children}),c.jsx(zI,{"data-disabled":Le(x.disabled),...(h||o)&&{color:h||o},__css:n.icon,...f&&{fontSize:f},children:s})]})});Ji.displayName="Select";const jse=t=>c.jsx("svg",{viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),Pse=te("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),zI=t=>{const{children:e=c.jsx(jse,{}),...n}=t,r=S.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return c.jsx(Pse,{...n,className:"chakra-select__icon-wrapper",children:S.isValidElement(e)?r:null})};zI.displayName="SelectIcon";function eb(t){const{orientation:e,vertical:n,horizontal:r}=t;return e==="vertical"?n:r}function Tse(t){const{orientation:e,thumbPercents:n,isReversed:r}=t,i=p=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...eb({orientation:e,vertical:{bottom:`${n[p]}%`,transform:"translate(-50%, 50%) scale(var(--slider-thumb-scale, 1))"},horizontal:{left:`${n[p]}%`,transform:"translate(-50%, -50%) scale(var(--slider-thumb-scale, 1))"}})}),s={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},o={position:"absolute",...eb({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},a=n.length===1,l=[0,r?100-n[0]:n[0]],u=a?l:n;let d=u[0];!a&&r&&(d=100-d);const h=Math.abs(u[u.length-1]-u[0]),f={...o,...eb({orientation:e,vertical:r?{height:`${h}%`,top:`${d}%`}:{height:`${h}%`,bottom:`${d}%`},horizontal:r?{width:`${h}%`,right:`${d}%`}:{width:`${h}%`,left:`${d}%`}})};return{trackStyle:o,innerTrackStyle:f,rootStyle:s,getThumbStyle:i}}function Ase(t){const{isReversed:e,direction:n,orientation:r}=t;return n==="ltr"||r==="vertical"?e:!e}function Ese(t){const{min:e=0,max:n=100,onChange:r,value:i,defaultValue:s,isReversed:o,direction:a="ltr",orientation:l="horizontal",id:u,isDisabled:d,isReadOnly:h,onChangeStart:f,onChangeEnd:p,step:m=1,getAriaValueText:g,"aria-valuetext":x,"aria-label":v,"aria-labelledby":y,name:b,focusThumbOnChange:w=!0,...k}=t,O=Yt(f),C=Yt(p),j=Yt(g),P=Ase({isReversed:o,direction:a,orientation:l}),[A,E]=Vk({value:i,defaultValue:s??Rse(e,n),onChange:r}),[F,H]=S.useState(!1),[_,B]=S.useState(!1),ee=!(d||h),W=(n-e)/10,L=m||(n-e)/100,Q=rg(A,e,n),I=n-Q+e,ie=Hj(P?I:Q,e,n),Z=l==="vertical",se=XD({min:e,max:n,step:m,isDisabled:d,value:Q,isInteractive:ee,isReversed:P,isVertical:Z,eventSource:null,focusThumbOnChange:w,orientation:l}),V=S.useRef(null),J=S.useRef(null),U=S.useRef(null),Se=S.useId(),_e=u??Se,[We,he]=[`slider-thumb-${_e}`,`slider-track-${_e}`],Me=S.useCallback(ce=>{var Tp;if(!V.current)return;const Ce=se.current;Ce.eventSource="pointer";const $n=V.current.getBoundingClientRect(),{clientX:Di,clientY:$o}=((Tp=ce.touches)==null?void 0:Tp[0])??ce,$i=Z?$n.bottom-$o:Di-$n.left,ic=Z?$n.height:$n.width;let gd=$i/ic;P&&(gd=1-gd);let Lo=MW(gd,Ce.min,Ce.max);return Ce.step&&(Lo=parseFloat(qj(Lo,Ce.min,Ce.step))),Lo=rg(Lo,Ce.min,Ce.max),Lo},[Z,P,se]),Be=S.useCallback(ce=>{const Ce=se.current;Ce.isInteractive&&(ce=parseFloat(qj(ce,Ce.min,L)),ce=rg(ce,Ce.min,Ce.max),E(ce))},[L,E,se]),de=S.useMemo(()=>({stepUp(ce=L){const Ce=P?Q-ce:Q+ce;Be(Ce)},stepDown(ce=L){const Ce=P?Q+ce:Q-ce;Be(Ce)},reset(){Be(s||0)},stepTo(ce){Be(ce)}}),[Be,P,Q,L,s]),wt=S.useCallback(ce=>{const Ce=se.current,Di={ArrowRight:()=>de.stepUp(),ArrowUp:()=>de.stepUp(),ArrowLeft:()=>de.stepDown(),ArrowDown:()=>de.stepDown(),PageUp:()=>de.stepUp(W),PageDown:()=>de.stepDown(W),Home:()=>Be(Ce.min),End:()=>Be(Ce.max)}[ce.key];Di&&(ce.preventDefault(),ce.stopPropagation(),Di(ce),Ce.eventSource="keyboard")},[de,Be,W,se]),nt=(j==null?void 0:j(Q))??x,{getThumbStyle:Wt,rootStyle:zn,trackStyle:kn,innerTrackStyle:Ut}=S.useMemo(()=>{const ce=se.current;return Tse({isReversed:P,orientation:ce.orientation,thumbPercents:[ie]})},[P,ie,se]),lr=S.useCallback(()=>{se.current.focusThumbOnChange&&setTimeout(()=>{var Ce;return(Ce=J.current)==null?void 0:Ce.focus()})},[se]);ja(()=>{const ce=se.current;lr(),ce.eventSource==="keyboard"&&(C==null||C(ce.value))},[Q,C]);function Hn(ce){const Ce=Me(ce);Ce!=null&&Ce!==se.current.value&&E(Ce)}c8(U,{onPanSessionStart(ce){const Ce=se.current;Ce.isInteractive&&(H(!0),lr(),Hn(ce),O==null||O(Ce.value))},onPanSessionEnd(){const ce=se.current;ce.isInteractive&&(H(!1),C==null||C(ce.value))},onPan(ce){se.current.isInteractive&&Hn(ce)}});const Dn=S.useCallback((ce={},Ce=null)=>({...ce,...k,ref:Bt(Ce,U),tabIndex:-1,"aria-disabled":mo(d),"data-focused":Le(_),style:{...ce.style,...zn}}),[k,d,_,zn]),zi=S.useCallback((ce={},Ce=null)=>({...ce,ref:Bt(Ce,V),id:he,"data-disabled":Le(d),style:{...ce.style,...kn}}),[d,he,kn]),Vs=S.useCallback((ce={},Ce=null)=>({...ce,ref:Ce,style:{...ce.style,...Ut}}),[Ut]),zo=S.useCallback((ce={},Ce=null)=>({...ce,ref:Bt(Ce,J),role:"slider",tabIndex:ee?0:void 0,id:We,"data-active":Le(F),"aria-valuetext":nt,"aria-valuemin":e,"aria-valuemax":n,"aria-valuenow":Q,"aria-orientation":l,"aria-disabled":mo(d),"aria-readonly":mo(h),"aria-label":v,"aria-labelledby":v?void 0:y,style:{...ce.style,...Wt(0)},onKeyDown:$e(ce.onKeyDown,wt),onFocus:$e(ce.onFocus,()=>B(!0)),onBlur:$e(ce.onBlur,()=>B(!1))}),[ee,We,F,nt,e,n,Q,l,d,h,v,y,Wt,wt]),Do=S.useCallback((ce,Ce=null)=>{const $n=!(ce.value<e||ce.value>n),Di=Q>=ce.value,$o=Hj(ce.value,e,n),$i={position:"absolute",pointerEvents:"none",...Mse({orientation:l,vertical:{bottom:P?`${100-$o}%`:`${$o}%`},horizontal:{left:P?`${100-$o}%`:`${$o}%`}})};return{...ce,ref:Ce,role:"presentation","aria-hidden":!0,"data-disabled":Le(d),"data-invalid":Le(!$n),"data-highlighted":Le(Di),style:{...ce.style,...$i}}},[d,P,n,e,l,Q]),oe=S.useCallback((ce={},Ce=null)=>({...ce,ref:Ce,type:"hidden",value:Q,name:b}),[b,Q]);return{state:{value:Q,isFocused:_,isDragging:F},actions:de,getRootProps:Dn,getTrackProps:zi,getInnerTrackProps:Vs,getThumbProps:zo,getMarkerProps:Do,getInputProps:oe}}function Mse(t){const{orientation:e,vertical:n,horizontal:r}=t;return e==="vertical"?n:r}function Rse(t,e){return e<t?t:t+(e-t)/2}const[zse,ex]=tt({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[Dse,tx]=tt({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),PS=re((t,e)=>{const n={...t,orientation:(t==null?void 0:t.orientation)??"horizontal"},r=gn("Slider",n),i=pt(n),{direction:s}=op();i.direction=s;const{getInputProps:o,getRootProps:a,...l}=Ese(i),u=a(),d=o({},e);return c.jsx(zse,{value:l,children:c.jsx(Dse,{value:r,children:c.jsxs(te.div,{...u,className:xe("chakra-slider",n.className),__css:r.container,children:[n.children,c.jsx("input",{...d})]})})})});PS.displayName="Slider";const TS=re((t,e)=>{const{getThumbProps:n}=ex(),r=tx(),i=n(t,e);return c.jsx(te.div,{...i,className:xe("chakra-slider__thumb",t.className),__css:r.thumb})});TS.displayName="SliderThumb";const AS=re((t,e)=>{const{getTrackProps:n}=ex(),r=tx(),i=n(t,e);return c.jsx(te.div,{...i,className:xe("chakra-slider__track",t.className),__css:r.track})});AS.displayName="SliderTrack";const ES=re((t,e)=>{const{getInnerTrackProps:n}=ex(),r=tx(),i=n(t,e);return c.jsx(te.div,{...i,className:xe("chakra-slider__filled-track",t.className),__css:r.filledTrack})});ES.displayName="SliderFilledTrack";const $se=re((t,e)=>{const{getMarkerProps:n}=ex(),r=tx(),i=n(t,e);return c.jsx(te.div,{...i,className:xe("chakra-slider__marker",t.className),__css:r.mark})});$se.displayName="SliderMark";const Mi=te("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Mi.displayName="Spacer";const DI=t=>c.jsx(te.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});DI.displayName="StackItem";function Lse(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Wk(n,i=>r[i])}}const nx=re((t,e)=>{const{isInline:n,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:u,className:d,shouldWrapChildren:h,...f}=t,p=n?"row":r??"column",m=S.useMemo(()=>Lse({spacing:o,direction:p}),[o,p]),g=!!u,x=!h&&!g,v=S.useMemo(()=>{const b=yy(l);return x?b:b.map((w,k)=>{const O=typeof w.key<"u"?w.key:k,C=k+1===b.length,P=h?c.jsx(DI,{children:w},O):w;if(!g)return P;const A=S.cloneElement(u,{__css:m}),E=C?null:A;return c.jsxs(S.Fragment,{children:[P,E]},O)})},[u,m,g,x,h,l]),y=xe("chakra-stack",d);return c.jsx(te.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:p,flexWrap:a,gap:g?void 0:o,className:y,...f,children:v})});nx.displayName="Stack";const G=re((t,e)=>c.jsx(nx,{align:"center",...t,direction:"row",ref:e}));G.displayName="HStack";const ae=re((t,e)=>c.jsx(nx,{align:"center",...t,direction:"column",ref:e}));ae.displayName="VStack";const[Ise,vO]=tt({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),Or=re(function(e,n){const r=gn("Stat",e),i={position:"relative",flex:"1 1 0%",...r.container},{className:s,children:o,...a}=pt(e);return c.jsx(Ise,{value:r,children:c.jsx(te.div,{ref:n,...a,className:xe("chakra-stat",s),__css:i,children:c.jsx("dl",{children:o})})})});Or.displayName="Stat";const wg=re(function(e,n){const r=vO();return c.jsx(te.dd,{ref:n,...e,className:xe("chakra-stat__help-text",e.className),__css:r.helpText})});wg.displayName="StatHelpText";const jr=re(function(e,n){const r=vO();return c.jsx(te.dt,{ref:n,...e,className:xe("chakra-stat__label",e.className),__css:r.label})});jr.displayName="StatLabel";const Pr=re(function(e,n){const r=vO();return c.jsx(te.dd,{ref:n,...e,className:xe("chakra-stat__number",e.className),__css:{...r.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});Pr.displayName="StatNumber";const si=re(function(e,n){const r=gn("Switch",e),{spacing:i="0.5rem",children:s,...o}=pt(e),{getIndicatorProps:a,getInputProps:l,getCheckboxProps:u,getRootProps:d,getLabelProps:h}=vL(o),f=S.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),p=S.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),m=S.useMemo(()=>({userSelect:"none",marginStart:i,...r.label}),[i,r.label]);return c.jsxs(te.label,{...d(),className:xe("chakra-switch",e.className),__css:f,children:[c.jsx("input",{className:"chakra-switch__input",...l({},n)}),c.jsx(te.span,{...u(),className:"chakra-switch__track",__css:p,children:c.jsx(te.span,{__css:r.thumb,className:"chakra-switch__thumb",...a()})}),s&&c.jsx(te.span,{className:"chakra-switch__label",...h(),__css:m,children:s})]})});si.displayName="Switch";const[_se,pp]=tt({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),$I=re((t,e)=>{const n=gn("Table",t),{className:r,layout:i,...s}=pt(t);return c.jsx(_se,{value:n,children:c.jsx(te.table,{ref:e,__css:{tableLayout:i,...n.table},className:xe("chakra-table",r),...s})})});$I.displayName="Table";const Nse=re((t,e)=>{const n=pp();return c.jsx(te.tbody,{...t,ref:e,__css:n.tbody})}),gm=re(({isNumeric:t,...e},n)=>{const r=pp();return c.jsx(te.td,{...e,ref:n,__css:r.td,"data-is-numeric":t})}),ym=re(({isNumeric:t,...e},n)=>{const r=pp();return c.jsx(te.th,{...e,ref:n,__css:r.th,"data-is-numeric":t})}),Bse=re((t,e)=>{const n=pp();return c.jsx(te.thead,{...t,ref:e,__css:n.thead})}),pA=re((t,e)=>{const n=pp();return c.jsx(te.tr,{...t,ref:e,__css:n.tr})}),[Fse,Wse,Vse,Qse]=LC();function Hse(t){const{defaultIndex:e,onChange:n,index:r,isManual:i,isLazy:s,lazyBehavior:o="unmount",orientation:a="horizontal",direction:l="ltr",...u}=t,[d,h]=S.useState(e??0),[f,p]=Vk({defaultValue:e??0,value:r,onChange:n});S.useEffect(()=>{r!=null&&h(r)},[r]);const m=Vse(),g=S.useId();return{id:`tabs-${t.id??g}`,selectedIndex:f,focusedIndex:d,setSelectedIndex:p,setFocusedIndex:h,isManual:i,isLazy:s,lazyBehavior:o,orientation:a,descendants:m,direction:l,htmlProps:u}}const[qse,rx]=tt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function Use(t){const{focusedIndex:e,orientation:n,direction:r}=rx(),i=Wse(),s=S.useCallback(o=>{const a=()=>{var b;const y=i.nextEnabled(e);y&&((b=y.node)==null||b.focus())},l=()=>{var b;const y=i.prevEnabled(e);y&&((b=y.node)==null||b.focus())},u=()=>{var b;const y=i.firstEnabled();y&&((b=y.node)==null||b.focus())},d=()=>{var b;const y=i.lastEnabled();y&&((b=y.node)==null||b.focus())},h=n==="horizontal",f=n==="vertical",p=o.key,m=r==="ltr"?"ArrowLeft":"ArrowRight",g=r==="ltr"?"ArrowRight":"ArrowLeft",v={[m]:()=>h&&l(),[g]:()=>h&&a(),ArrowDown:()=>f&&a(),ArrowUp:()=>f&&l(),Home:u,End:d}[p];v&&(o.preventDefault(),v(o))},[i,e,n,r]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:$e(t.onKeyDown,s)}}function Gse(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:i,isManual:s,id:o,setFocusedIndex:a,selectedIndex:l}=rx(),{index:u,register:d}=Qse({disabled:e&&!n}),h=u===l,f=()=>{i(u)},p=()=>{a(u),!s&&!(e&&n)&&i(u)};return{...gI({...r,ref:Bt(d,t.ref),isDisabled:e,isFocusable:n,onClick:$e(t.onClick,f)}),id:LI(o,u),role:"tab",tabIndex:h?0:-1,type:"button","aria-selected":h,"aria-controls":II(o,u),onFocus:e?void 0:$e(t.onFocus,p)}}const[Xse,Kse]=tt({});function Yse(t){const e=rx(),{id:n,selectedIndex:r}=e,s=yy(t.children).map((o,a)=>S.createElement(Xse,{key:o.key??a,value:{isSelected:a===r,id:II(n,a),tabId:LI(n,a),selectedIndex:r}},o));return{...t,children:s}}function Zse(t){const{children:e,...n}=t,{isLazy:r,lazyBehavior:i}=rx(),{isSelected:s,id:o,tabId:a}=Kse(),l=S.useRef(!1);s&&(l.current=!0);const u=HD({wasSelected:l.current,isSelected:s,enabled:r,mode:i});return{tabIndex:0,...n,children:u?e:null,role:"tabpanel","aria-labelledby":a,hidden:!s,id:o}}function LI(t,e){return`${t}--tab-${e}`}function II(t,e){return`${t}--tabpanel-${e}`}const[Jse,ix]=tt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),mp=re(function(e,n){const r=gn("Tabs",e),{children:i,className:s,...o}=pt(e),{htmlProps:a,descendants:l,...u}=Hse(o),d=S.useMemo(()=>u,[u]),{isFitted:h,...f}=a,p={position:"relative",...r.root};return c.jsx(Fse,{value:l,children:c.jsx(qse,{value:d,children:c.jsx(Jse,{value:r,children:c.jsx(te.div,{className:xe("chakra-tabs",s),ref:n,...f,__css:p,children:i})})})})});mp.displayName="Tabs";const Hr=re(function(e,n){const r=ix(),i=Gse({...e,ref:n}),s={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return c.jsx(te.button,{...i,className:xe("chakra-tabs__tab",e.className),__css:s})});Hr.displayName="Tab";const gp=re(function(e,n){const r=Use({...e,ref:n}),i=ix(),s={display:"flex",...i.tablist};return c.jsx(te.div,{...r,className:xe("chakra-tabs__tablist",e.className),__css:s})});gp.displayName="TabList";const qr=re(function(e,n){const r=Zse({...e,ref:n}),i=ix();return c.jsx(te.div,{outline:"0",...r,className:xe("chakra-tabs__tab-panel",e.className),__css:i.tabpanel})});qr.displayName="TabPanel";const yp=re(function(e,n){const r=Yse(e),i=ix();return c.jsx(te.div,{...r,width:"100%",ref:n,className:xe("chakra-tabs__tab-panels",e.className),__css:i.tabpanels})});yp.displayName="TabPanels";const[eoe,_I]=tt({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),NI=re((t,e)=>{const n=gn("Tag",t),r=pt(t),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return c.jsx(eoe,{value:n,children:c.jsx(te.span,{ref:e,...r,__css:i})})});NI.displayName="Tag";const BI=re((t,e)=>{const n=_I();return c.jsx(te.span,{ref:e,noOfLines:1,...t,__css:n.label})});BI.displayName="TagLabel";const toe=re((t,e)=>c.jsx(X,{ref:e,verticalAlign:"top",marginEnd:"0.5rem",...t}));toe.displayName="TagLeftIcon";const noe=re((t,e)=>c.jsx(X,{ref:e,verticalAlign:"top",marginStart:"0.5rem",...t}));noe.displayName="TagRightIcon";const FI=t=>c.jsx(X,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:c.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});FI.displayName="TagCloseIcon";const WI=re((t,e)=>{const{isDisabled:n,children:r,...i}=t,o={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",..._I().closeButton};return c.jsx(te.button,{ref:e,"aria-label":"close",...i,type:"button",disabled:n,__css:o,children:r||c.jsx(FI,{})})});WI.displayName="TagCloseButton";const roe=["h","minH","height","minHeight"],bO=re((t,e)=>{const n=Ci("Textarea",t),{className:r,rows:i,...s}=pt(t),o=HC(s),a=i?vy(n,roe):n;return c.jsx(te.textarea,{ref:e,rows:i,...o,className:xe("chakra-textarea",r),__css:a})});bO.displayName="Textarea";function ioe(t,e){const n=t??"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[n];return(i==null?void 0:i[e])??n}function soe(t,e){const n=i=>({...e,...i,position:ioe((i==null?void 0:i.position)??(e==null?void 0:e.position),t)}),r=i=>{const s=n(i),o=gL(s);return bs.notify(o,s)};return r.update=(i,s)=>{bs.update(i,n(s))},r.promise=(i,s)=>{const o=r({...s.loading,status:"loading",duration:null});i.then(a=>r.update(o,{status:"success",duration:5e3,...Nr(s.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...Nr(s.error,a)}))},r.closeAll=bs.closeAll,r.close=bs.close,r.isActive=bs.isActive,r}function _s(t){const{theme:e}=fL(),n=KJ();return S.useMemo(()=>soe(e.direction,{...n,...t}),[t,e.direction,n])}const ooe={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},MS=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},kg=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function aoe(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:o=i,closeOnEsc:a=!0,onOpen:l,onClose:u,placement:d,id:h,isOpen:f,defaultIsOpen:p,arrowSize:m=10,arrowShadowColor:g,arrowPadding:x,modifiers:v,isDisabled:y,gutter:b,offset:w,direction:k,...O}=t,{isOpen:C,onOpen:j,onClose:P}=Yf({isOpen:f,defaultIsOpen:p,onOpen:l,onClose:u}),{referenceRef:A,getPopperProps:E,getArrowInnerProps:F,getArrowProps:H}=mI({enabled:C,placement:d,arrowPadding:x,modifiers:v,gutter:b,offset:w,direction:k}),_=S.useId(),ee=`tooltip-${h??_}`,W=S.useRef(null),L=S.useRef(void 0),Q=S.useCallback(()=>{L.current&&(clearTimeout(L.current),L.current=void 0)},[]),I=S.useRef(void 0),Y=S.useCallback(()=>{I.current&&(clearTimeout(I.current),I.current=void 0)},[]),ie=S.useCallback(()=>{Y(),P()},[P,Y]),Z=loe(W,ie),se=S.useCallback(()=>{if(!y&&!L.current){C&&Z();const Me=kg(W);L.current=Me.setTimeout(j,e)}},[Z,y,C,j,e]),V=S.useCallback(()=>{Q();const Me=kg(W);I.current=Me.setTimeout(ie,n)},[n,ie,Q]),J=S.useCallback(()=>{C&&r&&V()},[r,V,C]),U=S.useCallback(()=>{C&&o&&V()},[o,V,C]),Se=S.useCallback(Me=>{C&&Me.key==="Escape"&&V()},[C,V]);yh(()=>MS(W),"keydown",a?Se:void 0),yh(()=>{if(!s)return null;const Me=W.current;if(!Me)return null;const Be=UD(Me);return Be.localName==="body"?kg(W):Be},"scroll",()=>{C&&s&&ie()},{passive:!0,capture:!0}),S.useEffect(()=>{y&&(Q(),C&&P())},[y,C,P,Q]),S.useEffect(()=>()=>{Q(),Y()},[Q,Y]),yh(()=>W.current,"pointerleave",V);const _e=S.useCallback((Me={},Be=null)=>({...Me,ref:Bt(W,Be,A),onPointerEnter:$e(Me.onPointerEnter,wt=>{wt.pointerType!=="touch"&&se()}),onClick:$e(Me.onClick,J),onPointerDown:$e(Me.onPointerDown,U),onFocus:$e(Me.onFocus,se),onBlur:$e(Me.onBlur,V),"aria-describedby":C?ee:void 0}),[se,V,U,C,ee,J,A]),We=S.useCallback((Me={},Be=null)=>E({...Me,style:{...Me.style,[Pn.arrowSize.var]:m?`${m}px`:void 0,[Pn.arrowShadowColor.var]:g}},Be),[E,m,g]),he=S.useCallback((Me={},Be=null)=>{const de={...Me.style,position:"relative",transformOrigin:Pn.transformOrigin.varRef};return{ref:Be,...O,...Me,id:ee,role:"tooltip",style:de}},[O,ee]);return{isOpen:C,show:se,hide:V,getTriggerProps:_e,getTooltipProps:he,getTooltipPositionerProps:We,getArrowProps:H,getArrowInnerProps:F}}const tb="chakra-ui:close-tooltip";function loe(t,e){return S.useEffect(()=>{const n=MS(t);return n.addEventListener(tb,e),()=>n.removeEventListener(tb,e)},[e,t]),()=>{const n=MS(t),r=kg(t);n.dispatchEvent(new r.CustomEvent(tb))}}const coe=te(Ro.div),bn=re((t,e)=>{const n=Ci("Tooltip",t),r=pt(t),i=op(),{children:s,label:o,shouldWrapChildren:a,"aria-label":l,hasArrow:u,bg:d,portalProps:h,background:f,backgroundColor:p,bgColor:m,motionProps:g,animatePresenceProps:x,...v}=r,y=f??p??d??m;if(y){n.bg=y;const A=J8(i,"colors",y);n[Pn.arrowBg.var]=A}const b=aoe({...v,direction:i.direction}),w=!S.isValidElement(s)||a;let k;if(w)k=c.jsx(te.span,{display:"inline-block",tabIndex:0,...b.getTriggerProps(),children:s});else{const A=S.Children.only(s);k=S.cloneElement(A,b.getTriggerProps(A.props,xse(A)))}const O=!!l,C=b.getTooltipProps({},e),j=O?vy(C,["role","id"]):C,P=qD(C,["role","id"]);return o?c.jsxs(c.Fragment,{children:[k,c.jsx(ec,{...x,children:b.isOpen&&c.jsx(cd,{...h,children:c.jsx(te.div,{...b.getTooltipPositionerProps(),__css:{zIndex:n.zIndex,pointerEvents:"none"},children:c.jsxs(coe,{variants:ooe,initial:"exit",animate:"enter",exit:"exit",...g,...j,__css:n,children:[o,O&&c.jsx(te.span,{srOnly:!0,...P,children:l}),u&&c.jsx(te.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:c.jsx(te.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:n.bg}})})]})})})})]}):c.jsx(c.Fragment,{children:s})});bn.displayName="Tooltip";const ht=re(function(e,n){const r=Ci("Heading",e),{className:i,...s}=pt(e);return c.jsx(te.h2,{ref:n,className:xe("chakra-heading",e.className),...s,__css:r})});ht.displayName="Heading";const R=re(function(e,n){const r=Ci("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=pt(e),u=xy({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return c.jsx(te.p,{ref:n,className:xe("chakra-text",e.className),...u,...l,__css:r})});R.displayName="Text";const VI=re(function(e,n){const{spacing:r="0.5rem",spacingX:i,spacingY:s,children:o,justify:a,direction:l,align:u,className:d,shouldWrapChildren:h,...f}=e,p=S.useMemo(()=>h?S.Children.map(o,(m,g)=>c.jsx(SO,{children:m},g)):o,[o,h]);return c.jsx(te.div,{ref:n,className:xe("chakra-wrap",d),...f,children:c.jsx(te.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:a,alignItems:u,flexDirection:l,listStyleType:"none",gap:r,columnGap:i,rowGap:s,padding:"0"},children:p})})});VI.displayName="Wrap";const SO=re(function(e,n){const{className:r,...i}=e;return c.jsx(te.li,{ref:n,__css:{display:"flex",alignItems:"flex-start"},className:xe("chakra-wrap__listitem",r),...i})});SO.displayName="WrapItem";var dd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uoe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ea,Qw,fR,doe=(fR=class{constructor(){Oe(this,ea,uoe);Oe(this,Qw,!1)}setTimeoutProvider(t){fe(this,ea,t)}setTimeout(t,e){return M(this,ea).setTimeout(t,e)}clearTimeout(t){M(this,ea).clearTimeout(t)}setInterval(t,e){return M(this,ea).setInterval(t,e)}clearInterval(t){M(this,ea).clearInterval(t)}},ea=new WeakMap,Qw=new WeakMap,fR),ol=new doe;function hoe(t){setTimeout(t,0)}var Fl=typeof window>"u"||"Deno"in globalThis;function Xn(){}function foe(t,e){return typeof t=="function"?t(e):t}function RS(t){return typeof t=="number"&&t>=0&&t!==1/0}function QI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sa(t,e){return typeof t=="function"?t(e):t}function oi(t,e){return typeof t=="function"?t(e):t}function mA(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wO(o,e.options))return!1}else if(!vf(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function gA(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Wl(e.options.mutationKey)!==Wl(s))return!1}else if(!vf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function wO(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wl)(t)}function Wl(t){return JSON.stringify(t,(e,n)=>zS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function vf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>vf(t[n],e[n])):!1}var poe=Object.prototype.hasOwnProperty;function HI(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=yA(t)&&yA(e);if(!r&&!(zS(t)&&zS(e)))return e;const s=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=r?d:o[d],f=t[h],p=e[h];if(f===p){l[h]=f,(r?d<s:poe.call(t,h))&&u++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[h]=p;continue}const m=HI(f,p,n+1);l[h]=m,m===f&&u++}return s===a&&u===s?t:l}function k0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function yA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zS(t){if(!xA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xA(t){return Object.prototype.toString.call(t)==="[object Object]"}function moe(t){return new Promise(e=>{ol.setTimeout(e,t)})}function DS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?HI(t,e):e}function goe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yoe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var kO=Symbol();function qI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function CO(t,e){return typeof t=="function"?t(...e):!!t}function xoe(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var ul,ta,yu,pR,voe=(pR=class extends dd{constructor(){super();Oe(this,ul);Oe(this,ta);Oe(this,yu);fe(this,yu,e=>{if(!Fl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,ta)||this.setEventListener(M(this,yu))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,ta))==null||e.call(this),fe(this,ta,void 0))}setEventListener(e){var n;fe(this,yu,e),(n=M(this,ta))==null||n.call(this),fe(this,ta,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,ul)!==e&&(fe(this,ul,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,ul)=="boolean"?M(this,ul):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ul=new WeakMap,ta=new WeakMap,yu=new WeakMap,pR),OO=new voe;function $S(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var boe=hoe;function Soe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=boe;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var un=Soe(),xu,na,vu,mR,woe=(mR=class extends dd{constructor(){super();Oe(this,xu,!0);Oe(this,na);Oe(this,vu);fe(this,vu,e=>{if(!Fl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,na)||this.setEventListener(M(this,vu))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,na))==null||e.call(this),fe(this,na,void 0))}setEventListener(e){var n;fe(this,vu,e),(n=M(this,na))==null||n.call(this),fe(this,na,e(this.setOnline.bind(this)))}setOnline(e){M(this,xu)!==e&&(fe(this,xu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,xu)}},xu=new WeakMap,na=new WeakMap,vu=new WeakMap,mR),C0=new woe;function koe(t){return Math.min(1e3*2**t,3e4)}function UI(t){return(t??"online")==="online"?C0.isOnline():!0}var LS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function GI(t){let e=!1,n=0,r;const i=$S(),s=()=>i.status!=="pending",o=g=>{var x;if(!s()){const v=new LS(g);f(v),(x=t.onCancel)==null||x.call(t,v)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>OO.isFocused()&&(t.networkMode==="always"||C0.isOnline())&&t.canRun(),d=()=>UI(t.networkMode)&&t.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},f=g=>{s()||(r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var x;r=v=>{(s()||u())&&g(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;r=void 0,s()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(s())return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var O;if(s())return;const y=t.retry??(Fl?0:3),b=t.retryDelay??koe,w=typeof b=="function"?b(n,v):b,k=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!k){f(v);return}n++,(O=t.onFail)==null||O.call(t,n,v),moe(w).then(()=>u()?void 0:p()).then(()=>{e?f(v):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var dl,gR,XI=(gR=class{constructor(){Oe(this,dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RS(this.gcTime)&&fe(this,dl,ol.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fl?1/0:5*60*1e3))}clearGcTimeout(){M(this,dl)&&(ol.clearTimeout(M(this,dl)),fe(this,dl,void 0))}},dl=new WeakMap,gR),hl,bu,ii,fl,yn,Bf,pl,Wi,Us,yR,Coe=(yR=class extends XI{constructor(e){super();Oe(this,Wi);Oe(this,hl);Oe(this,bu);Oe(this,ii);Oe(this,fl);Oe(this,yn);Oe(this,Bf);Oe(this,pl);fe(this,pl,!1),fe(this,Bf,e.defaultOptions),this.setOptions(e.options),this.observers=[],fe(this,fl,e.client),fe(this,ii,M(this,fl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,fe(this,hl,bA(this.options)),this.state=e.state??M(this,hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=M(this,yn))==null?void 0:e.promise}setOptions(e){if(this.options={...M(this,Bf),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=bA(this.options);n.data!==void 0&&(this.setState(vA(n.data,n.dataUpdatedAt)),fe(this,hl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,ii).remove(this)}setData(e,n){const r=DS(this.state.data,e,this.options);return Ne(this,Wi,Us).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ne(this,Wi,Us).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=M(this,yn))==null?void 0:r.promise;return(i=M(this,yn))==null||i.cancel(e),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,hl))}isActive(){return this.observers.some(e=>oi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Sa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!QI(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,yn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=M(this,yn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),M(this,ii).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(M(this,yn)&&(M(this,pl)?M(this,yn).cancel({revert:!0}):M(this,yn).cancelRetry()),this.scheduleGc()),M(this,ii).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,Wi,Us).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,d,h,f,p,m,g,x,v,y,b;if(this.state.fetchStatus!=="idle"&&((l=M(this,yn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,yn))return M(this,yn).continueRetry(),M(this,yn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(k=>k.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(fe(this,pl,!0),r.signal)})},s=()=>{const w=qI(this.options,n),O=(()=>{const C={client:M(this,fl),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return fe(this,pl,!1),this.options.persister?this.options.persister(w,O,this):w(O)},a=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:M(this,fl),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(a,this),fe(this,bu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ne(this,Wi,Us).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),fe(this,yn,GI({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof LS&&w.revert&&this.setState({...M(this,bu),fetchStatus:"idle"}),r.abort()},onFail:(w,k)=>{Ne(this,Wi,Us).call(this,{type:"failed",failureCount:w,error:k})},onPause:()=>{Ne(this,Wi,Us).call(this,{type:"pause"})},onContinue:()=>{Ne(this,Wi,Us).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await M(this,yn).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=M(this,ii).config).onSuccess)==null||p.call(f,w,this),(g=(m=M(this,ii).config).onSettled)==null||g.call(m,w,this.state.error,this),w}catch(w){if(w instanceof LS){if(w.silent)return M(this,yn).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Ne(this,Wi,Us).call(this,{type:"error",error:w}),(v=(x=M(this,ii).config).onError)==null||v.call(x,w,this),(b=(y=M(this,ii).config).onSettled)==null||b.call(y,this.state.data,w,this),w}finally{this.scheduleGc()}}},hl=new WeakMap,bu=new WeakMap,ii=new WeakMap,fl=new WeakMap,yn=new WeakMap,Bf=new WeakMap,pl=new WeakMap,Wi=new WeakSet,Us=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...KI(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...vA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return fe(this,bu,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,ii).notify({query:this,type:"updated",action:e})})},yR);function KI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vA(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function bA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,He,Ff,qn,ml,Su,Zs,ra,Wf,wu,ku,gl,yl,ia,Cu,ut,th,IS,_S,NS,BS,FS,WS,VS,YI,xR,Ooe=(xR=class extends dd{constructor(e,n){super();Oe(this,ut);Oe(this,ur);Oe(this,He);Oe(this,Ff);Oe(this,qn);Oe(this,ml);Oe(this,Su);Oe(this,Zs);Oe(this,ra);Oe(this,Wf);Oe(this,wu);Oe(this,ku);Oe(this,gl);Oe(this,yl);Oe(this,ia);Oe(this,Cu,new Set);this.options=n,fe(this,ur,e),fe(this,ra,null),fe(this,Zs,$S()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,He).addObserver(this),SA(M(this,He),this.options)?Ne(this,ut,th).call(this):this.updateResult(),Ne(this,ut,BS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return QS(M(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return QS(M(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,ut,FS).call(this),Ne(this,ut,WS).call(this),M(this,He).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,He);if(this.options=M(this,ur).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oi(this.options.enabled,M(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,ut,VS).call(this),M(this,He).setOptions(this.options),n._defaulted&&!k0(this.options,n)&&M(this,ur).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,He),observer:this});const i=this.hasListeners();i&&wA(M(this,He),r,this.options,n)&&Ne(this,ut,th).call(this),this.updateResult(),i&&(M(this,He)!==r||oi(this.options.enabled,M(this,He))!==oi(n.enabled,M(this,He))||Sa(this.options.staleTime,M(this,He))!==Sa(n.staleTime,M(this,He)))&&Ne(this,ut,IS).call(this);const s=Ne(this,ut,_S).call(this);i&&(M(this,He)!==r||oi(this.options.enabled,M(this,He))!==oi(n.enabled,M(this,He))||s!==M(this,ia))&&Ne(this,ut,NS).call(this,s)}getOptimisticResult(e){const n=M(this,ur).getQueryCache().build(M(this,ur),e),r=this.createResult(n,e);return Poe(this,r)&&(fe(this,qn,r),fe(this,Su,this.options),fe(this,ml,M(this,He).state)),r}getCurrentResult(){return M(this,qn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&M(this,Zs).status==="pending"&&M(this,Zs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){M(this,Cu).add(e)}getCurrentQuery(){return M(this,He)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,ur).defaultQueryOptions(e),r=M(this,ur).getQueryCache().build(M(this,ur),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ne(this,ut,th).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,qn)))}createResult(e,n){var P;const r=M(this,He),i=this.options,s=M(this,qn),o=M(this,ml),a=M(this,Su),u=e!==r?e.state:M(this,Ff),{state:d}=e;let h={...d},f=!1,p;if(n._optimisticResults){const A=this.hasListeners(),E=!A&&SA(e,n),F=A&&wA(e,r,n,i);(E||F)&&(h={...h,...KI(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:x}=h;p=h.data;let v=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let A;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(A=s.data,v=!0):A=typeof n.placeholderData=="function"?n.placeholderData((P=M(this,ku))==null?void 0:P.state.data,M(this,ku)):n.placeholderData,A!==void 0&&(x="success",p=DS(s==null?void 0:s.data,A,n),f=!0)}if(n.select&&p!==void 0&&!v)if(s&&p===(o==null?void 0:o.data)&&n.select===M(this,Wf))p=M(this,wu);else try{fe(this,Wf,n.select),p=n.select(p),p=DS(s==null?void 0:s.data,p,n),fe(this,wu,p),fe(this,ra,null)}catch(A){fe(this,ra,A)}M(this,ra)&&(m=M(this,ra),p=M(this,wu),g=Date.now(),x="error");const y=h.fetchStatus==="fetching",b=x==="pending",w=x==="error",k=b&&y,O=p!==void 0,j={status:x,fetchStatus:h.fetchStatus,isPending:b,isSuccess:x==="success",isError:w,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&O,isStale:jO(e,n),refetch:this.refetch,promise:M(this,Zs),isEnabled:oi(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=j.data!==void 0,E=j.status==="error"&&!A,F=B=>{E?B.reject(j.error):A&&B.resolve(j.data)},H=()=>{const B=fe(this,Zs,j.promise=$S());F(B)},_=M(this,Zs);switch(_.status){case"pending":e.queryHash===r.queryHash&&F(_);break;case"fulfilled":(E||j.data!==_.value)&&H();break;case"rejected":(!E||j.error!==_.reason)&&H();break}}return j}updateResult(){const e=M(this,qn),n=this.createResult(M(this,He),this.options);if(fe(this,ml,M(this,He).state),fe(this,Su,this.options),M(this,ml).data!==void 0&&fe(this,ku,M(this,He)),k0(n,e))return;fe(this,qn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!M(this,Cu).size)return!0;const o=new Set(s??M(this,Cu));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,qn)).some(a=>{const l=a;return M(this,qn)[l]!==e[l]&&o.has(l)})};Ne(this,ut,YI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,ut,BS).call(this)}},ur=new WeakMap,He=new WeakMap,Ff=new WeakMap,qn=new WeakMap,ml=new WeakMap,Su=new WeakMap,Zs=new WeakMap,ra=new WeakMap,Wf=new WeakMap,wu=new WeakMap,ku=new WeakMap,gl=new WeakMap,yl=new WeakMap,ia=new WeakMap,Cu=new WeakMap,ut=new WeakSet,th=function(e){Ne(this,ut,VS).call(this);let n=M(this,He).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xn)),n},IS=function(){Ne(this,ut,FS).call(this);const e=Sa(this.options.staleTime,M(this,He));if(Fl||M(this,qn).isStale||!RS(e))return;const r=QI(M(this,qn).dataUpdatedAt,e)+1;fe(this,gl,ol.setTimeout(()=>{M(this,qn).isStale||this.updateResult()},r))},_S=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,He)):this.options.refetchInterval)??!1},NS=function(e){Ne(this,ut,WS).call(this),fe(this,ia,e),!(Fl||oi(this.options.enabled,M(this,He))===!1||!RS(M(this,ia))||M(this,ia)===0)&&fe(this,yl,ol.setInterval(()=>{(this.options.refetchIntervalInBackground||OO.isFocused())&&Ne(this,ut,th).call(this)},M(this,ia)))},BS=function(){Ne(this,ut,IS).call(this),Ne(this,ut,NS).call(this,Ne(this,ut,_S).call(this))},FS=function(){M(this,gl)&&(ol.clearTimeout(M(this,gl)),fe(this,gl,void 0))},WS=function(){M(this,yl)&&(ol.clearInterval(M(this,yl)),fe(this,yl,void 0))},VS=function(){const e=M(this,ur).getQueryCache().build(M(this,ur),this.options);if(e===M(this,He))return;const n=M(this,He);fe(this,He,e),fe(this,Ff,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},YI=function(e){un.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,qn))}),M(this,ur).getQueryCache().notify({query:M(this,He),type:"observerResultsUpdated"})})},xR);function joe(t,e){return oi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SA(t,e){return joe(t,e)||t.state.data!==void 0&&QS(t,e,e.refetchOnMount)}function QS(t,e,n){if(oi(e.enabled,t)!==!1&&Sa(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&jO(t,e)}return!1}function wA(t,e,n,r){return(t!==e||oi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&jO(t,n)}function jO(t,e){return oi(e.enabled,t)!==!1&&t.isStaleByTime(Sa(e.staleTime,t))}function Poe(t,e){return!k0(t.getCurrentResult(),e)}function kA(t){return{onFetch:(e,n)=>{var d,h,f,p,m;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const x=b=>{xoe(b,()=>e.signal,()=>g=!0)},v=qI(e.options,e.fetchOptions),y=async(b,w,k)=>{if(g)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const E={client:e.client,queryKey:e.queryKey,pageParam:w,direction:k?"backward":"forward",meta:e.options.meta};return x(E),E})(),j=await v(C),{maxPages:P}=e.options,A=k?yoe:goe;return{pages:A(b.pages,j,P),pageParams:A(b.pageParams,w,P)}};if(i&&s.length){const b=i==="backward",w=b?Toe:CA,k={pages:s,pageParams:o},O=w(r,k);a=await y(k,O,b)}else{const b=t??s.length;do{const w=l===0?o[0]??r.initialPageParam:CA(r,a);if(l>0&&w==null)break;a=await y(a,w),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function CA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Toe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Vf,ps,Nn,xl,ms,Wo,vR,Aoe=(vR=class extends XI{constructor(e){super();Oe(this,ms);Oe(this,Vf);Oe(this,ps);Oe(this,Nn);Oe(this,xl);fe(this,Vf,e.client),this.mutationId=e.mutationId,fe(this,Nn,e.mutationCache),fe(this,ps,[]),this.state=e.state||ZI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){M(this,ps).includes(e)||(M(this,ps).push(e),this.clearGcTimeout(),M(this,Nn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){fe(this,ps,M(this,ps).filter(n=>n!==e)),this.scheduleGc(),M(this,Nn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){M(this,ps).length||(this.state.status==="pending"?this.scheduleGc():M(this,Nn).remove(this))}continue(){var e;return((e=M(this,xl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,d,h,f,p,m,g,x,v,y,b,w,k,O,C;const n=()=>{Ne(this,ms,Wo).call(this,{type:"continue"})},r={client:M(this,Vf),meta:this.options.meta,mutationKey:this.options.mutationKey};fe(this,xl,GI({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(j,P)=>{Ne(this,ms,Wo).call(this,{type:"failed",failureCount:j,error:P})},onPause:()=>{Ne(this,ms,Wo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Nn).canRun(this)}));const i=this.state.status==="pending",s=!M(this,xl).canStart();try{if(i)n();else{Ne(this,ms,Wo).call(this,{type:"pending",variables:e,isPaused:s}),M(this,Nn).config.onMutate&&await M(this,Nn).config.onMutate(e,this,r);const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,r));P!==this.state.context&&Ne(this,ms,Wo).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const j=await M(this,xl).start();return await((u=(l=M(this,Nn).config).onSuccess)==null?void 0:u.call(l,j,e,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,j,e,this.state.context,r)),await((p=(f=M(this,Nn).config).onSettled)==null?void 0:p.call(f,j,null,this.state.variables,this.state.context,this,r)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context,r)),Ne(this,ms,Wo).call(this,{type:"success",data:j}),j}catch(j){try{await((v=(x=M(this,Nn).config).onError)==null?void 0:v.call(x,j,e,this.state.context,this,r))}catch(P){Promise.reject(P)}try{await((b=(y=this.options).onError)==null?void 0:b.call(y,j,e,this.state.context,r))}catch(P){Promise.reject(P)}try{await((k=(w=M(this,Nn).config).onSettled)==null?void 0:k.call(w,void 0,j,this.state.variables,this.state.context,this,r))}catch(P){Promise.reject(P)}try{await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,j,e,this.state.context,r))}catch(P){Promise.reject(P)}throw Ne(this,ms,Wo).call(this,{type:"error",error:j}),j}finally{M(this,Nn).runNext(this)}}},Vf=new WeakMap,ps=new WeakMap,Nn=new WeakMap,xl=new WeakMap,ms=new WeakSet,Wo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),un.batch(()=>{M(this,ps).forEach(r=>{r.onMutationUpdate(e)}),M(this,Nn).notify({mutation:this,type:"updated",action:e})})},vR);function ZI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Js,Vi,Qf,bR,Eoe=(bR=class extends dd{constructor(e={}){super();Oe(this,Js);Oe(this,Vi);Oe(this,Qf);this.config=e,fe(this,Js,new Set),fe(this,Vi,new Map),fe(this,Qf,0)}build(e,n,r){const i=new Aoe({client:e,mutationCache:this,mutationId:++zp(this,Qf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){M(this,Js).add(e);const n=xm(e);if(typeof n=="string"){const r=M(this,Vi).get(n);r?r.push(e):M(this,Vi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,Js).delete(e)){const n=xm(e);if(typeof n=="string"){const r=M(this,Vi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&M(this,Vi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=xm(e);if(typeof n=="string"){const r=M(this,Vi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=xm(e);if(typeof n=="string"){const i=(r=M(this,Vi).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){un.batch(()=>{M(this,Js).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,Js).clear(),M(this,Vi).clear()})}getAll(){return Array.from(M(this,Js))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gA(n,r))}findAll(e={}){return this.getAll().filter(n=>gA(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return un.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xn))))}},Js=new WeakMap,Vi=new WeakMap,Qf=new WeakMap,bR);function xm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var eo,sa,dr,to,bo,Cg,HS,SR,Moe=(SR=class extends dd{constructor(n,r){super();Oe(this,bo);Oe(this,eo);Oe(this,sa);Oe(this,dr);Oe(this,to);fe(this,eo,n),this.setOptions(r),this.bindMethods(),Ne(this,bo,Cg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=M(this,eo).defaultMutationOptions(n),k0(this.options,r)||M(this,eo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wl(r.mutationKey)!==Wl(this.options.mutationKey)?this.reset():((i=M(this,dr))==null?void 0:i.state.status)==="pending"&&M(this,dr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,dr))==null||n.removeObserver(this)}onMutationUpdate(n){Ne(this,bo,Cg).call(this),Ne(this,bo,HS).call(this,n)}getCurrentResult(){return M(this,sa)}reset(){var n;(n=M(this,dr))==null||n.removeObserver(this),fe(this,dr,void 0),Ne(this,bo,Cg).call(this),Ne(this,bo,HS).call(this)}mutate(n,r){var i;return fe(this,to,r),(i=M(this,dr))==null||i.removeObserver(this),fe(this,dr,M(this,eo).getMutationCache().build(M(this,eo),this.options)),M(this,dr).addObserver(this),M(this,dr).execute(n)}},eo=new WeakMap,sa=new WeakMap,dr=new WeakMap,to=new WeakMap,bo=new WeakSet,Cg=function(){var r;const n=((r=M(this,dr))==null?void 0:r.state)??ZI();fe(this,sa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},HS=function(n){un.batch(()=>{var r,i,s,o,a,l,u,d;if(M(this,to)&&this.hasListeners()){const h=M(this,sa).variables,f=M(this,sa).context,p={client:M(this,eo),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=M(this,to)).onSuccess)==null||i.call(r,n.data,h,f,p)}catch(m){Promise.reject(m)}try{(o=(s=M(this,to)).onSettled)==null||o.call(s,n.data,null,h,f,p)}catch(m){Promise.reject(m)}}else if((n==null?void 0:n.type)==="error"){try{(l=(a=M(this,to)).onError)==null||l.call(a,n.error,h,f,p)}catch(m){Promise.reject(m)}try{(d=(u=M(this,to)).onSettled)==null||d.call(u,void 0,n.error,h,f,p)}catch(m){Promise.reject(m)}}}this.listeners.forEach(h=>{h(M(this,sa))})})},SR),gs,wR,Roe=(wR=class extends dd{constructor(e={}){super();Oe(this,gs);this.config=e,fe(this,gs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??wO(i,n);let o=this.get(s);return o||(o=new Coe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){M(this,gs).has(e.queryHash)||(M(this,gs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,gs).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,gs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,gs).get(e)}getAll(){return[...M(this,gs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>mA(e,r)):n}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gs=new WeakMap,wR),Qt,oa,aa,Ou,ju,la,Pu,Tu,kR,zoe=(kR=class{constructor(t={}){Oe(this,Qt);Oe(this,oa);Oe(this,aa);Oe(this,Ou);Oe(this,ju);Oe(this,la);Oe(this,Pu);Oe(this,Tu);fe(this,Qt,t.queryCache||new Roe),fe(this,oa,t.mutationCache||new Eoe),fe(this,aa,t.defaultOptions||{}),fe(this,Ou,new Map),fe(this,ju,new Map),fe(this,la,0)}mount(){zp(this,la)._++,M(this,la)===1&&(fe(this,Pu,OO.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,Qt).onFocus())})),fe(this,Tu,C0.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,Qt).onOnline())})))}unmount(){var t,e;zp(this,la)._--,M(this,la)===0&&((t=M(this,Pu))==null||t.call(this),fe(this,Pu,void 0),(e=M(this,Tu))==null||e.call(this),fe(this,Tu,void 0))}isFetching(t){return M(this,Qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,oa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,Qt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,Qt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Sa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,Qt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=M(this,Qt).get(r.queryHash),s=i==null?void 0:i.state.data,o=foe(e,s);if(o!==void 0)return M(this,Qt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return un.batch(()=>M(this,Qt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,Qt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,Qt);un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,Qt);return un.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=un.batch(()=>M(this,Qt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return un.batch(()=>(M(this,Qt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=un.batch(()=>M(this,Qt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Xn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,Qt).build(this,e);return n.isStaleByTime(Sa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=kA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=kA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return C0.isOnline()?M(this,oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Qt)}getMutationCache(){return M(this,oa)}getDefaultOptions(){return M(this,aa)}setDefaultOptions(t){fe(this,aa,t)}setQueryDefaults(t,e){M(this,Ou).set(Wl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Ou).values()],n={};return e.forEach(r=>{vf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,ju).set(Wl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,ju).values()],n={};return e.forEach(r=>{vf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,aa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,aa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,Qt).clear(),M(this,oa).clear()}},Qt=new WeakMap,oa=new WeakMap,aa=new WeakMap,Ou=new WeakMap,ju=new WeakMap,la=new WeakMap,Pu=new WeakMap,Tu=new WeakMap,kR),JI=S.createContext(void 0),Ns=t=>{const e=S.useContext(JI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Doe=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(JI.Provider,{value:t,children:e})),e_=S.createContext(!1),$oe=()=>S.useContext(e_);e_.Provider;function Loe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ioe=S.createContext(Loe()),_oe=()=>S.useContext(Ioe),Noe=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?CO(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Boe=t=>{S.useEffect(()=>{t.clearReset()},[t])},Foe=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||CO(n,[t.error,r])),Woe=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Voe=(t,e)=>t.isLoading&&t.isFetching&&!e,Qoe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,OA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Hoe(t,e,n){var f,p,m,g;const r=$oe(),i=_oe(),s=Ns(),o=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Woe(o),Noe(o,i,a),Boe(i);const l=!s.getQueryCache().get(o.queryHash),[u]=S.useState(()=>new e(s,o)),d=u.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(x=>{const v=h?u.subscribe(un.batchCalls(x)):Xn;return u.updateResult(),v},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),S.useEffect(()=>{u.setOptions(o)},[o,u]),Qoe(o,d))throw OA(o,u,i);if(Foe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw d.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,d),o.experimental_prefetchInRender&&!Fl&&Voe(d,r)){const x=l?OA(o,u,i):a==null?void 0:a.promise;x==null||x.catch(Xn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function yt(t,e){return Hoe(t,Ooe)}function oo(t,e){const n=Ns(),[r]=S.useState(()=>new Moe(n,t));S.useEffect(()=>{r.setOptions(t)},[r,t]);const i=S.useSyncExternalStore(S.useCallback(o=>r.subscribe(un.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=S.useCallback((o,a)=>{r.mutate(o,a).catch(Xn)},[r]);if(i.error&&CO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var t_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jA=Xt.createContext&&Xt.createContext(t_),qoe=["attr","size","title"];function Uoe(t,e){if(t==null)return{};var n=Goe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function PA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return e=Koe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n_(t){return t&&t.map((e,n)=>Xt.createElement(e.tag,j0({key:n},e.attr),n_(e.child)))}function je(t){return e=>Xt.createElement(Zoe,O0({attr:j0({},t.attr)},e),n_(t.child))}function Zoe(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Uoe(t,qoe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Xt.createElement("svg",O0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:j0(j0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Xt.createElement("title",null,s),t.children)};return jA!==void 0?Xt.createElement(jA.Consumer,null,n=>e(n)):e(t_)}function r_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function i_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function Joe(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function nh(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function TA(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function bf(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function s_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function PO(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function eae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function o_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function tae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]}]})(t)}function a_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function nae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(t)}function ir(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function l_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Og(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(t)}function rae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Vl(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function iae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Uu(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function sae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function oae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function Gu(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(t)}function qS(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Xu(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function aae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"},child:[]}]})(t)}function lae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function cae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Ql(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function TO(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function Kr(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(t)}function uae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function dae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function AA(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Hl(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function c_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function hae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function EA(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function u_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(t)}function fae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function Br(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function pae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(t)}function xp(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function jg(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function mae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function tc(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"6.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"6",y1:"18",x2:"6.01",y2:"18"},child:[]}]})(t)}function d_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function h_(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]}]})(t)}function gae(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]}]})(t)}function vp(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function nb(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(t)}function nc(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function MA(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function AO(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function EO(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const yae={},RA=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(yae?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},xae=t=>t?RA(t):RA;var f_={exports:{}},p_={},m_={exports:{}},g_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=S;function vae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bae=typeof Object.is=="function"?Object.is:vae,Sae=Ku.useState,wae=Ku.useEffect,kae=Ku.useLayoutEffect,Cae=Ku.useDebugValue;function Oae(t,e){var n=e(),r=Sae({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return kae(function(){i.value=n,i.getSnapshot=e,rb(i)&&s({inst:i})},[t,n,e]),wae(function(){return rb(i)&&s({inst:i}),t(function(){rb(i)&&s({inst:i})})},[t]),Cae(n),n}function rb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bae(t,n)}catch{return!0}}function jae(t,e){return e()}var Pae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jae:Oae;g_.useSyncExternalStore=Ku.useSyncExternalStore!==void 0?Ku.useSyncExternalStore:Pae;m_.exports=g_;var Tae=m_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=S,Aae=Tae;function Eae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mae=typeof Object.is=="function"?Object.is:Eae,Rae=Aae.useSyncExternalStore,zae=sx.useRef,Dae=sx.useEffect,$ae=sx.useMemo,Lae=sx.useDebugValue;p_.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=zae(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$ae(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,Mae(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Rae(t,s[0],s[1]);return Dae(function(){o.hasValue=!0,o.value=a},[a]),Lae(a),a};f_.exports=p_;var Iae=f_.exports;const _ae=J0(Iae),y_={},{useDebugValue:Nae}=Xt,{useSyncExternalStoreWithSelector:Bae}=_ae;let zA=!1;const Fae=t=>t;function Wae(t,e=Fae,n){(y_?"production":void 0)!=="production"&&n&&!zA&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zA=!0);const r=Bae(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Nae(r),r}const DA=t=>{(y_?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?xae(t):t,n=(r,i)=>Wae(e,r,i);return Object.assign(n,e),n},MO=t=>t?DA(t):DA,ye=MO(t=>({activeDialog:null,dialogData:null,activePreview:null,statusMessage:"Ready",errorMessage:null,successMessage:null,isLoading:!1,sidebarWidth:300,openDialog:(e,n)=>{t({activeDialog:e,dialogData:n??null})},closeDialog:()=>{t({activeDialog:null,dialogData:null})},setPreview:e=>{t({activePreview:e})},setStatus:e=>{t({statusMessage:e})},setError:e=>{t({errorMessage:e}),e&&setTimeout(()=>{t(n=>n.errorMessage===e?{errorMessage:null}:n)},5e3)},setSuccess:e=>{t({successMessage:e}),e&&setTimeout(()=>{t(n=>n.successMessage===e?{successMessage:null}:n)},3e3)},setLoading:e=>{t({isLoading:e})},setSidebarWidth:e=>{t({sidebarWidth:Math.max(200,Math.min(600,e))})},clearMessages:()=>{t({errorMessage:null,successMessage:null})}})),Te="/api";async function ze(t){if(!t.ok){const e=await t.json().catch(()=>({error:"Unknown error"}));throw new Error(e.error||`HTTP ${t.status}`)}if(t.status!==204)return t.json()}async function Vae(){const t=await fetch(`${Te}/connections`);return ze(t)}async function Qae(t){const e=await fetch(`${Te}/connections`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return ze(e)}async function Hae(t,e){const n=await fetch(`${Te}/connections/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return ze(n)}async function qae(t){const e=await fetch(`${Te}/connections/${t}`,{method:"DELETE"});return ze(e)}async function Uae(t){const e=await fetch(`${Te}/connections/${t}/test`,{method:"POST"});return ze(e)}async function Gae(t){const e=await fetch(`${Te}/connections/${t}/info`);return ze(e)}async function x_(t){const e=await fetch(`${Te}/workspaces/${t}`);return ze(e)}async function v_(t,e){const n=await fetch(`${Te}/workspaces/${t}/${e}`);return ze(n)}async function Xae(t,e){const n=await fetch(`${Te}/workspaces/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return ze(n)}async function Kae(t,e,n){const r=await fetch(`${Te}/workspaces/${t}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return ze(r)}async function Yae(t,e,n=!1){const i=await fetch(`${Te}/workspaces/${t}/${e}${n?"?recurse=true":""}`,{method:"DELETE"});return ze(i)}async function RO(t,e){const n=await fetch(`${Te}/datastores/${t}/${e}`);return ze(n)}async function b_(t,e,n){const r=await fetch(`${Te}/datastores/${t}/${e}/${n}`);return ze(r)}async function Zae(t,e,n,r=!1){const s=await fetch(`${Te}/datastores/${t}/${e}/${n}${r?"?recurse=true":""}`,{method:"DELETE"});return ze(s)}async function Jae(t,e,n){const r=await fetch(`${Te}/datastores/${t}/${e}/${n}/available`);return(await ze(r)).available||[]}async function ele(t,e,n,r){const i=await fetch(`${Te}/datastores/${t}/${e}/${n}/publish`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({featureTypes:r})});return ze(i)}async function zO(t,e){const n=await fetch(`${Te}/coveragestores/${t}/${e}`);return ze(n)}async function S_(t,e,n){const r=await fetch(`${Te}/coveragestores/${t}/${e}/${n}`);return ze(r)}async function tle(t,e,n,r=!1){const s=await fetch(`${Te}/coveragestores/${t}/${e}/${n}${r?"?recurse=true":""}`,{method:"DELETE"});return ze(s)}async function ox(t,e){const n=await fetch(`${Te}/layers/${t}/${e}`);return ze(n)}async function w_(t,e,n){const r=await fetch(`${Te}/layers/${t}/${e}/${n}`);return ze(r)}async function nle(t,e,n){const r=await fetch(`${Te}/layers/${t}/${e}/${n}`,{method:"DELETE"});return ze(r)}async function rle(t,e,n){const r=await fetch(`${Te}/layermetadata/${t}/${e}/${n}`);return ze(r)}async function ile(t,e,n,r){const i=await fetch(`${Te}/layermetadata/${t}/${e}/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return ze(i)}async function k_(t,e){const n=await fetch(`${Te}/styles/${t}/${e}`);return ze(n)}async function sle(t,e,n,r=!1){const s=await fetch(`${Te}/styles/${t}/${e}/${n}${r?"?purge=true":""}`,{method:"DELETE"});return ze(s)}async function ole(t,e,n){const r=await fetch(`${Te}/styles/${t}/${e}/${n}`);return ze(r)}async function ale(t,e,n,r,i="sld"){const s=await fetch(`${Te}/styles/${t}/${e}/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r,format:i})});return ze(s)}async function lle(t,e,n,r,i="sld"){const s=await fetch(`${Te}/styles/${t}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,content:r,format:i})});return ze(s)}async function C_(t,e){const n=await fetch(`${Te}/layergroups/${t}/${e}`);return ze(n)}async function cle(t,e,n){const r=await fetch(`${Te}/layergroups/${t}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return ze(r)}async function ule(t,e,n){const r=await fetch(`${Te}/layergroups/${t}/${e}/${n}`);return ze(r)}async function dle(t,e,n){const r=await fetch(`${Te}/layergroups/${t}/${e}/${n}`,{method:"DELETE"});return ze(r)}async function hle(t,e,n,r){const i=new FormData;return i.append("file",n),new Promise((s,o)=>{const a=new XMLHttpRequest;a.upload.addEventListener("progress",l=>{if(l.lengthComputable&&r){const u=Math.round(l.loaded/l.total*100);r(u)}}),a.addEventListener("load",()=>{a.status>=200&&a.status<300?s(JSON.parse(a.responseText)):o(new Error(JSON.parse(a.responseText).error||"Upload failed"))}),a.addEventListener("error",()=>{o(new Error("Network error"))}),a.open("POST",`${Te}/upload?connId=${encodeURIComponent(t)}&workspace=${encodeURIComponent(e)}`),a.send(i)})}async function Ls(t){const e=await fetch(`${Te}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return ze(e)}async function fle(t,e){const n=await fetch(`${Te}/gwc/layers/${t}/${e}`);return ze(n)}async function ple(t,e){const n=await fetch(`${Te}/gwc/seed/${t}/${e}`);return ze(n)}async function mle(t,e,n){const r=await fetch(`${Te}/gwc/seed/${t}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return ze(r)}async function gle(t,e){const n=await fetch(`${Te}/gwc/seed/${t}/${e}`,{method:"DELETE"});return ze(n)}async function yle(t,e,n){const r=await fetch(`${Te}/gwc/truncate/${t}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n||{})});return ze(r)}async function xle(t){const e=await fetch(`${Te}/settings/${t}`);return ze(e)}async function vle(t,e){const n=await fetch(`${Te}/settings/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return ze(n)}async function ble(){const t=await fetch(`${Te}/sync/configs`);return ze(t)}async function Sle(t){const e=await fetch(`${Te}/sync/configs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return ze(e)}async function wle(t){const e=await fetch(`${Te}/sync/configs/${t}`,{method:"DELETE"});return ze(e)}async function kle(t){const e=await fetch(`${Te}/sync/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return ze(e)}async function Cle(){const t=await fetch(`${Te}/sync/status`);return ze(t)}async function Ole(t){const e=await fetch(`${Te}/sync/stop/${t}`,{method:"POST"});return ze(e)}async function jle(){const t=await fetch(`${Te}/sync/stop`,{method:"POST"});return ze(t)}async function Ple(){const t=await fetch(`${Te}/dashboard`);return ze(t)}function O_(t,e,n,r){let i=`${Te}/download/${t}/${e}/${n}`;r&&(i+=`/${r}`),window.open(i,"_blank")}function Tle(t,e,n){const r=`${Te}/download/${t}/shapefile/${e}/${n}`;window.open(r,"_blank")}function Ale(t,e,n){const r=`${Te}/download/${t}/geotiff/${e}/${n}`;window.open(r,"_blank")}function Ele(t){const e=`${Te}/download/logs/${t}`;window.open(e,"_blank")}const Yn=MO(t=>({connections:[],activeConnectionId:null,isLoading:!1,error:null,fetchConnections:async()=>{t({isLoading:!0,error:null});try{const e=await Vae(),n=e.find(r=>r.isActive);t({connections:e,activeConnectionId:(n==null?void 0:n.id)??null,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1})}},addConnection:async e=>{t({isLoading:!0,error:null});try{const n=await Qae(e);return t(r=>({connections:[...r.connections,n],isLoading:!1})),n}catch(n){throw t({error:n.message,isLoading:!1}),n}},updateConnection:async(e,n)=>{t({isLoading:!0,error:null});try{const r=await Hae(e,n);t(i=>({connections:i.connections.map(s=>s.id===e?r:s),isLoading:!1}))}catch(r){throw t({error:r.message,isLoading:!1}),r}},removeConnection:async e=>{t({isLoading:!0,error:null});try{await qae(e),t(n=>({connections:n.connections.filter(r=>r.id!==e),activeConnectionId:n.activeConnectionId===e?null:n.activeConnectionId,isLoading:!1}))}catch(n){throw t({error:n.message,isLoading:!1}),n}},setActiveConnection:e=>{t({activeConnectionId:e})},testConnection:async e=>{try{const n=await Uae(e);return{success:n.success,message:n.message}}catch(n){return{success:!1,message:n.message}}},clearError:()=>t({error:null})})),qt=MO((t,e)=>({expandedNodes:new Set,selectedNode:null,toggleNode:n=>{t(r=>{const i=new Set(r.expandedNodes);return i.has(n)?i.delete(n):i.add(n),{expandedNodes:i}})},expandNode:n=>{t(r=>{const i=new Set(r.expandedNodes);return i.add(n),{expandedNodes:i}})},collapseNode:n=>{t(r=>{const i=new Set(r.expandedNodes);return i.delete(n),{expandedNodes:i}})},selectNode:n=>{t({selectedNode:n})},isExpanded:n=>e().expandedNodes.has(n),clearSelection:()=>{t({selectedNode:null})},reset:()=>{t({expandedNodes:new Set,selectedNode:null})}}));function ax(t,e,n,r){const i=[t];return e&&i.push(e),n&&i.push(n),r&&i.push(r),i.join(":")}function Mle(){const t=Ke("kartoza.700","gray.800"),e=ye(a=>a.openDialog),n=Yn(a=>a.fetchConnections),r=qt(a=>a.selectedNode),i=()=>{e("connection",{mode:"create"})},s=()=>{if(!(r!=null&&r.workspace)){ye.getState().setError("Select a workspace first");return}e("upload",{mode:"create"})},o=()=>{n(),ye.getState().setStatus("Refreshing...")};return c.jsx(N,{bg:t,px:4,py:2,children:c.jsxs(ct,{align:"center",children:[c.jsx(ht,{size:"md",color:"white",fontWeight:"bold",children:"Kartoza GeoServer Client"}),c.jsx(Mi,{}),c.jsxs(ct,{gap:2,children:[c.jsx(bn,{label:"Add Connection",placement:"bottom",children:c.jsx(_t,{"aria-label":"Add connection",icon:c.jsx(Br,{}),variant:"ghost",color:"white",_hover:{bg:"kartoza.600"},onClick:i})}),c.jsx(bn,{label:"Upload Files",placement:"bottom",children:c.jsx(_t,{"aria-label":"Upload files",icon:c.jsx(nc,{}),variant:"ghost",color:"white",_hover:{bg:"kartoza.600"},onClick:s})}),c.jsx(bn,{label:"Refresh",placement:"bottom",children:c.jsx(_t,{"aria-label":"Refresh",icon:c.jsx(xp,{}),variant:"ghost",color:"white",_hover:{bg:"kartoza.600"},onClick:o})}),c.jsxs(pO,{children:[c.jsx(mO,{as:_t,"aria-label":"Settings",icon:c.jsx(d_,{}),variant:"ghost",color:"white",_hover:{bg:"kartoza.600"}}),c.jsxs(gO,{children:[c.jsx(Zo,{icon:c.jsx(pae,{}),onClick:()=>e("sync",{mode:"create"}),children:"Sync Server(s)"}),c.jsx(Zo,{icon:c.jsx(lae,{}),children:"Help"}),c.jsx(Zo,{icon:c.jsx(Br,{}),onClick:()=>e("workspace",{mode:"create"}),children:"New Workspace"}),c.jsx(Zo,{icon:c.jsx(Br,{}),onClick:()=>e("datastore",{mode:"create"}),children:"New Data Store"}),c.jsx(Zo,{icon:c.jsx(Br,{}),onClick:()=>e("coveragestore",{mode:"create"}),children:"New Coverage Store"})]})]})]})]})})}function Rle(t){switch(t){case"connection":return tc;case"workspace":return Gu;case"datastores":case"datastore":return ir;case"coveragestores":case"coveragestore":return Ql;case"layers":case"layer":return Kr;case"styles":case"style":return Og;case"layergroups":case"layergroup":return Xu;default:return Gu}}function zle(t){switch(t){case"connection":return"kartoza.500";case"workspace":return"accent.400";case"datastores":case"datastore":return"green.500";case"coveragestores":case"coveragestore":return"purple.500";case"layers":case"layer":return"blue.500";case"styles":case"style":return"pink.500";case"layergroups":case"layergroup":return"cyan.500";default:return"gray.500"}}function Dle(){const t=Yn(n=>n.connections),e=Yn(n=>n.fetchConnections);return S.useEffect(()=>{e()},[e]),t.length===0?c.jsxs(N,{p:6,textAlign:"center",children:[c.jsx(X,{as:tc,boxSize:10,color:"gray.300",mb:3}),c.jsx(R,{color:"gray.500",fontSize:"sm",fontWeight:"500",children:"No connections yet"}),c.jsx(R,{color:"gray.400",fontSize:"xs",mt:1,children:"Click the + button above to add a GeoServer connection"})]}):c.jsx(N,{children:t.map(n=>c.jsx($le,{connectionId:n.id,name:n.name},n.id))})}function $le({connectionId:t,name:e}){const n=ax("connection",t),r=qt(g=>g.isExpanded(n)),i=qt(g=>g.toggleNode),s=qt(g=>g.selectNode),o=qt(g=>g.selectedNode),a=ye(g=>g.openDialog),{data:l,isLoading:u}=yt({queryKey:["workspaces",t],queryFn:()=>x_(t),staleTime:3e4}),d={id:n,name:e,type:"connection",connectionId:t},h=(o==null?void 0:o.id)===n,f=()=>{s(d),i(n)},p=g=>{g.stopPropagation(),a("connection",{mode:"edit",data:{connectionId:t}})},m=g=>{g.stopPropagation(),a("confirm",{mode:"delete",title:"Delete Connection",message:`Are you sure you want to delete connection "${e}"?`,data:{connectionId:t}})};return c.jsxs(N,{children:[c.jsx(lx,{node:d,isExpanded:r,isSelected:h,isLoading:u,onClick:f,onEdit:p,onDelete:m,level:0,count:l==null?void 0:l.length}),r&&l&&c.jsx(N,{pl:4,children:l.map(g=>c.jsx(Lle,{connectionId:t,workspace:g.name},g.name))})]})}function Lle({connectionId:t,workspace:e}){const n=ax("workspace",t,e),r=qt(m=>m.isExpanded(n)),i=qt(m=>m.toggleNode),s=qt(m=>m.selectNode),o=qt(m=>m.selectedNode),a=ye(m=>m.openDialog),l={id:n,name:e,type:"workspace",connectionId:t,workspace:e},u=(o==null?void 0:o.id)===n,d=()=>{s(l),i(n)},h=m=>{m.stopPropagation(),a("workspace",{mode:"edit",data:{connectionId:t,workspace:e}})},f=m=>{m.stopPropagation(),a("confirm",{mode:"delete",title:"Delete Workspace",message:`Are you sure you want to delete workspace "${e}"?`,data:{connectionId:t,workspace:e}})},p=m=>{m.stopPropagation(),O_(t,"workspace",e)};return c.jsxs(N,{children:[c.jsx(lx,{node:l,isExpanded:r,isSelected:u,isLoading:!1,onClick:d,onEdit:h,onDownloadConfig:p,onDelete:f,level:1}),r&&c.jsxs(N,{pl:4,children:[c.jsx(Ld,{connectionId:t,workspace:e,category:"datastores",label:"Data Stores"}),c.jsx(Ld,{connectionId:t,workspace:e,category:"coveragestores",label:"Coverage Stores"}),c.jsx(Ld,{connectionId:t,workspace:e,category:"layers",label:"Layers"}),c.jsx(Ld,{connectionId:t,workspace:e,category:"styles",label:"Styles"}),c.jsx(Ld,{connectionId:t,workspace:e,category:"layergroups",label:"Layer Groups"})]})]})}function Ld({connectionId:t,workspace:e,category:n,label:r}){const i=ax(n,t,e),s=qt(g=>g.isExpanded(i)),o=qt(g=>g.toggleNode),a=qt(g=>g.selectNode),l=qt(g=>g.selectedNode),{data:u,isLoading:d}=yt({queryKey:[n,t,e],queryFn:async()=>{switch(n){case"datastores":return RO(t,e);case"coveragestores":return zO(t,e);case"layers":return ox(t,e);case"styles":return k_(t,e);case"layergroups":return C_(t,e)}},staleTime:3e4}),h={id:i,name:r,type:n,connectionId:t,workspace:e},f=(l==null?void 0:l.id)===i,p=()=>{a(h),o(i)},m=()=>{switch(n){case"datastores":return"datastore";case"coveragestores":return"coveragestore";case"layers":return"layer";case"styles":return"style";case"layergroups":return"layergroup"}};return c.jsxs(N,{children:[c.jsx(lx,{node:h,isExpanded:s,isSelected:f,isLoading:d,onClick:p,level:2,count:u==null?void 0:u.length}),s&&u&&c.jsx(N,{pl:4,children:u.map(g=>c.jsx(Ile,{connectionId:t,workspace:e,name:g.name,type:m(),storeType:n==="coveragestores"?"coveragestore":n==="datastores"?"datastore":void 0},g.name))})]})}function Ile({connectionId:t,workspace:e,name:n,type:r,storeType:i}){const s=ax(r,t,e,n),o=qt(O=>O.selectNode),a=qt(O=>O.selectedNode),l=ye(O=>O.openDialog),u=ye(O=>O.setPreview),d={id:s,name:n,type:r,connectionId:t,workspace:e,storeName:r==="layer"?void 0:n,storeType:i},h=(a==null?void 0:a.id)===s,f=()=>{o(d)},p=O=>{O.stopPropagation();const C=i==="coveragestore"?"raster":"vector";Ls({connId:t,workspace:e,layerName:n,storeName:n,storeType:i,layerType:C}).then(({url:j})=>{u({url:j,layerName:n,workspace:e,storeName:n,storeType:i,layerType:C})}).catch(j=>{ye.getState().setError(j.message)})},m=O=>{O.stopPropagation(),r==="style"?l("style",{mode:"edit",data:{connectionId:t,workspace:e,name:n}}):r==="layer"&&l("layer",{mode:"edit",data:{connectionId:t,workspace:e,layerName:n,storeType:i}})},g=O=>{O.stopPropagation(),l("confirm",{mode:"delete",title:`Delete ${r}`,message:`Are you sure you want to delete "${n}"?`,data:{connectionId:t,workspace:e,name:n,type:r}})},x=O=>{O.stopPropagation();const j={datastore:"datastore",coveragestore:"coveragestore",layer:"layer",style:"style",layergroup:"layergroup"}[r];j&&O_(t,j,e,n)},v=O=>{O.stopPropagation(),r==="layer"||i==="datastore"?Tle(t,e,n):i==="coveragestore"&&Ale(t,e,n)},y=["datastore","coveragestore","layer","style","layergroup"].includes(r),b=r==="layer",w=i==="coveragestore"?"GeoTIFF":"Shapefile",k=r==="style"||r==="layer";return c.jsx(lx,{node:d,isExpanded:!1,isSelected:h,isLoading:!1,onClick:f,onEdit:k?m:void 0,onPreview:r==="layer"||r==="datastore"||r==="coveragestore"?p:void 0,onDownloadConfig:y?x:void 0,onDownloadData:b?v:void 0,downloadDataLabel:w,onDelete:g,level:3,isLeaf:!0})}function lx({node:t,isExpanded:e,isSelected:n,isLoading:r,onClick:i,onEdit:s,onDelete:o,onPreview:a,onDownloadConfig:l,onDownloadData:u,downloadDataLabel:d,level:h,isLeaf:f,count:p}){const m=Ke(n?"kartoza.50":"transparent",n?"kartoza.900":"transparent"),g=Ke("gray.50","gray.700"),x=Ke("gray.800","gray.100"),v=Ke("kartoza.700","kartoza.200"),y=Ke("kartoza.500","kartoza.400"),b=Ke("gray.500","gray.400"),w=zle(t.type),k=Rle(t.type);return c.jsxs(ct,{align:"center",py:2,px:2,pl:h*4+2,cursor:"pointer",bg:m,borderLeft:n?"3px solid":"3px solid transparent",borderLeftColor:n?y:"transparent",_hover:{bg:n?m:g,"& .chevron-icon":{color:"kartoza.500"}},borderRadius:"md",transition:"all 0.15s ease",onClick:i,role:"group",mx:1,my:.5,children:[!f&&c.jsx(N,{w:4,mr:2,color:b,className:"chevron-icon",transition:"color 0.15s",children:r?c.jsx(Rr,{size:"xs",color:"kartoza.500"}):e?c.jsx(PO,{size:14}):c.jsx(eae,{size:14})}),f&&c.jsx(N,{w:4,mr:2}),c.jsx(N,{p:1.5,borderRadius:"md",bg:n?`${w.split(".")[0]}.100`:"transparent",mr:2,transition:"background 0.15s",_groupHover:{bg:`${w.split(".")[0]}.50`},children:c.jsx(X,{as:k,boxSize:4,color:w})}),c.jsx(R,{flex:"1",fontSize:"sm",color:n?v:x,fontWeight:n?"600":"normal",noOfLines:1,letterSpacing:n?"-0.01em":"normal",children:t.name}),p!==void 0&&p>=0&&c.jsx(De,{colorScheme:w.split(".")[0],variant:"subtle",fontSize:"xs",borderRadius:"full",px:2,mr:2,fontWeight:"600",children:p}),c.jsxs(ct,{gap:1,opacity:0,_groupHover:{opacity:1},transition:"opacity 0.15s",children:[(l||u)&&c.jsxs(pO,{isLazy:!0,placement:"bottom-end",children:[c.jsx(bn,{label:"Download",fontSize:"xs",children:c.jsx(mO,{as:_t,"aria-label":"Download",icon:c.jsx(l_,{size:14}),size:"xs",variant:"ghost",colorScheme:"kartoza",onClick:O=>O.stopPropagation(),_hover:{bg:"kartoza.100"}})}),c.jsxs(gO,{minW:"180px",fontSize:"sm",children:[l&&c.jsx(Zo,{icon:c.jsx(sae,{}),onClick:l,children:"Download Config (JSON)"}),u&&c.jsxs(Zo,{icon:c.jsx(Hl,{}),onClick:u,children:["Download ",d||"Data"]})]})]}),a&&c.jsx(bn,{label:"Preview",fontSize:"xs",children:c.jsx(_t,{"aria-label":"Preview",icon:c.jsx(Uu,{size:14}),size:"xs",variant:"ghost",colorScheme:"kartoza",onClick:a,_hover:{bg:"kartoza.100"}})}),s&&c.jsx(bn,{label:"Edit",fontSize:"xs",children:c.jsx(_t,{"aria-label":"Edit",icon:c.jsx(rae,{size:14}),size:"xs",variant:"ghost",colorScheme:"kartoza",onClick:s,_hover:{bg:"kartoza.100"}})}),o&&c.jsx(bn,{label:"Delete",fontSize:"xs",children:c.jsx(_t,{"aria-label":"Delete",icon:c.jsx(vp,{size:14}),size:"xs",variant:"ghost",colorScheme:"red",onClick:o,_hover:{bg:"red.50"}})})]})]})}function _le(){const t=Ke("gray.100","gray.700");return c.jsxs(N,{h:"100%",children:[c.jsx(N,{bg:t,px:3,py:2,children:c.jsx(ht,{size:"sm",color:"gray.700",children:"GeoServer Explorer"})}),c.jsx(N,{p:2,children:c.jsx(Dle,{})})]})}function Nle(){const t=Ke("gray.100","gray.800"),e=Ke("gray.200","gray.700"),n=ye(d=>d.statusMessage),r=ye(d=>d.errorMessage),i=ye(d=>d.successMessage),s=ye(d=>d.setError),o=ye(d=>d.setSuccess),a=Yn(d=>d.connections),l=Yn(d=>d.activeConnectionId),u=a.find(d=>d.id===l);return c.jsxs(N,{children:[r&&c.jsxs(vi,{status:"error",variant:"solid",children:[c.jsx(bi,{}),c.jsx(R,{flex:"1",children:r}),c.jsx(hf,{onClick:()=>s(null)})]}),i&&c.jsxs(vi,{status:"success",variant:"solid",children:[c.jsx(bi,{}),c.jsx(R,{flex:"1",children:i}),c.jsx(hf,{onClick:()=>o(null)})]}),c.jsx(N,{bg:t,borderTop:"1px",borderColor:e,px:4,py:1,children:c.jsxs(ct,{justify:"space-between",align:"center",children:[c.jsx(R,{fontSize:"sm",color:"gray.600",children:n}),c.jsxs(ct,{gap:4,children:[c.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Connections: ",a.length]}),u&&c.jsxs(R,{fontSize:"sm",color:"kartoza.500",fontWeight:"medium",children:["Active: ",u.name]})]})]})})]})}function Ble({children:t}){const e=ye(h=>h.sidebarWidth),n=ye(h=>h.setSidebarWidth),r=Ke("gray.50","gray.900"),i=Ke("gray.200","gray.700"),s=Ke("gray.300","gray.600"),o=Ke("kartoza.400","kartoza.500"),[a,l]=S.useState(!1),u=S.useRef(null),d=S.useCallback(h=>{h.preventDefault(),l(!0);const f=m=>{if(u.current){const g=u.current.getBoundingClientRect(),x=m.clientX-g.left;n(x)}},p=()=>{l(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};document.addEventListener("mousemove",f),document.addEventListener("mouseup",p),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[n]);return c.jsxs(ct,{direction:"column",h:"100vh",bg:r,children:[c.jsx(Mle,{}),c.jsxs(ct,{flex:"1",overflow:"hidden",ref:u,children:[c.jsx(N,{w:`${e}px`,borderRight:"1px",borderColor:i,overflow:"auto",flexShrink:0,position:"relative",children:c.jsx(_le,{})}),c.jsx(N,{w:"6px",cursor:"col-resize",bg:a?o:"transparent",_hover:{bg:o},transition:"background 0.15s",flexShrink:0,position:"relative",onMouseDown:d,ml:"-3px",zIndex:10,children:c.jsx(N,{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",h:"40px",w:"4px",borderRadius:"full",bg:a?"white":s,opacity:a?1:0,_groupHover:{opacity:.8},transition:"opacity 0.15s",sx:{"[data-resize-handle]:hover &":{opacity:.8}}})}),c.jsx(N,{flex:"1",overflow:"auto",p:4,display:"flex",flexDirection:"column",children:t})]}),c.jsx(Nle,{})]})}function Fle({previewUrl:t,layerName:e,workspace:n,storeName:r,storeType:i,layerType:s,onClose:o}){const a=S.useRef(null),[l,u]=S.useState(!1),[d,h]=S.useState(null),[f,p]=S.useState(!1),m=Ke("white","gray.800"),g=Ke("gray.200","gray.600"),x=Ke("gray.50","gray.700");return S.useEffect(()=>{t&&l&&(p(!0),fetch(`${t}/api/metadata`).then(v=>v.json()).then(v=>{h(v),p(!1)}).catch(()=>{p(!1)}))},[t,l]),t?c.jsxs(Ye,{bg:m,overflow:"hidden",h:"100%",display:"flex",flexDirection:"column",children:[c.jsx(N,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",px:4,py:3,children:c.jsxs(G,{justify:"space-between",children:[c.jsxs(ae,{align:"start",spacing:0,children:[c.jsxs(G,{children:[c.jsx(ht,{size:"sm",color:"white",children:"Layer Preview"}),c.jsx(De,{colorScheme:"whiteAlpha",variant:"solid",fontSize:"xs",children:s==="raster"?"Raster":"Vector"})]}),c.jsxs(R,{fontSize:"xs",color:"whiteAlpha.800",children:[n,":",e]})]}),c.jsxs(G,{spacing:1,children:[c.jsx(bn,{label:"Refresh",children:c.jsx(_t,{"aria-label":"Refresh",icon:c.jsx(xp,{}),size:"sm",variant:"ghost",color:"white",_hover:{bg:"whiteAlpha.200"},onClick:()=>{var v,y;return(y=(v=a.current)==null?void 0:v.contentWindow)==null?void 0:y.location.reload()}})}),c.jsx(bn,{label:"Layer Info",children:c.jsx(_t,{"aria-label":"Layer Info",icon:c.jsx(TO,{}),size:"sm",variant:"ghost",color:"white",_hover:{bg:"whiteAlpha.200"},onClick:()=>u(!l),bg:l?"whiteAlpha.200":void 0})}),o&&c.jsx(bn,{label:"Close Preview",children:c.jsx(_t,{"aria-label":"Close",icon:c.jsx(EO,{}),size:"sm",variant:"ghost",color:"white",_hover:{bg:"whiteAlpha.200"},onClick:o})})]})]})}),c.jsx(ap,{in:l,animateOpacity:!0,children:c.jsx(N,{bg:x,p:4,borderBottom:"1px solid",borderColor:g,children:f?c.jsxs(G,{justify:"center",py:4,children:[c.jsx(Rr,{size:"sm",color:"kartoza.500"}),c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Loading metadata..."})]}):d?c.jsxs(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:[d.layer_title&&c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:"Title"}),c.jsx(R,{fontSize:"sm",children:d.layer_title})]}),d.layer_srs&&c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:"SRS"}),c.jsx(R,{fontSize:"sm",fontFamily:"mono",children:d.layer_srs})]}),d.store_format&&c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:"Format"}),c.jsx(R,{fontSize:"sm",children:d.store_format})]}),d.latlon_bbox&&c.jsxs(N,{gridColumn:{md:"span 2",lg:"span 3"},children:[c.jsx(R,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:"Bounding Box (WGS84)"}),c.jsxs(R,{fontSize:"sm",fontFamily:"mono",children:["[",d.latlon_bbox.minx.toFixed(4),", ",d.latlon_bbox.miny.toFixed(4),"] - [",d.latlon_bbox.maxx.toFixed(4),", ",d.latlon_bbox.maxy.toFixed(4),"]"]})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:"Status"}),c.jsxs(G,{spacing:2,mt:1,children:[d.layer_enabled!==void 0&&c.jsx(De,{colorScheme:d.layer_enabled?"green":"gray",size:"sm",children:d.layer_enabled?"Enabled":"Disabled"}),d.layer_queryable!==void 0&&d.layer_queryable&&c.jsx(De,{colorScheme:"blue",size:"sm",children:"Queryable"}),d.layer_advertised!==void 0&&d.layer_advertised&&c.jsx(De,{colorScheme:"purple",size:"sm",children:"Advertised"})]})]}),d.layer_abstract&&c.jsxs(N,{gridColumn:{md:"span 2",lg:"span 3"},children:[c.jsx(R,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:"Abstract"}),c.jsx(R,{fontSize:"sm",noOfLines:3,children:d.layer_abstract})]})]}):c.jsx(R,{fontSize:"sm",color:"gray.500",children:"No metadata available"})})}),c.jsx(N,{flex:"1",minH:"300px",position:"relative",bg:"gray.100",children:c.jsx("iframe",{ref:a,src:t,style:{width:"100%",height:"100%",border:"none"},title:`Preview of ${n}:${e}`})}),c.jsx(N,{px:4,py:2,bg:x,borderTop:"1px solid",borderColor:g,children:c.jsxs(G,{justify:"space-between",fontSize:"xs",color:"gray.500",children:[c.jsxs(R,{children:["Store: ",r||"N/A"," (",i||"unknown",")"]}),c.jsx(G,{spacing:4,children:c.jsx(R,{children:"Zoom with scroll, drag to pan"})})]})})]}):null}function Wle({isOpen:t,onClose:e,connectionId:n,connectionName:r}){const i=_s(),s=Ns(),[o,a]=S.useState({}),{data:l,isLoading:u}=yt({queryKey:["contact",n],queryFn:()=>xle(n),enabled:t&&!!n});S.useEffect(()=>{l&&a(l)},[l]);const d=oo({mutationFn:p=>vle(n,p),onSuccess:()=>{s.invalidateQueries({queryKey:["contact",n]}),i({title:"Settings saved",description:"Service metadata has been updated successfully.",status:"success",duration:3e3}),e()},onError:p=>{i({title:"Error saving settings",description:p.message,status:"error",duration:5e3})}}),h=(p,m)=>{a(g=>({...g,[p]:m}))},f=()=>{d.mutate(o)};return c.jsxs(Oi,{isOpen:t,onClose:e,size:"4xl",scrollBehavior:"inside",children:[c.jsx(Ei,{backdropFilter:"blur(4px)"}),c.jsxs(ji,{maxH:"90vh",children:[c.jsxs(yO,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",borderTopRadius:"md",children:[c.jsxs(G,{children:[c.jsx(X,{as:TA}),c.jsx(R,{children:"Service Metadata"})]}),c.jsx(R,{fontSize:"sm",fontWeight:"normal",opacity:.9,children:r})]}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,children:u?c.jsxs(ae,{py:10,children:[c.jsx(Rr,{size:"xl",color:"kartoza.500"}),c.jsx(R,{color:"gray.500",children:"Loading settings..."})]}):c.jsxs(mp,{colorScheme:"kartoza",variant:"enclosed",children:[c.jsxs(gp,{children:[c.jsx(Hr,{children:c.jsxs(G,{children:[c.jsx(X,{as:MA}),c.jsx(R,{children:"Contact"})]})}),c.jsx(Hr,{children:c.jsxs(G,{children:[c.jsx(X,{as:AA}),c.jsx(R,{children:"Address"})]})}),c.jsx(Hr,{children:c.jsxs(G,{children:[c.jsx(X,{as:qS}),c.jsx(R,{children:"Service"})]})})]}),c.jsxs(yp,{children:[c.jsx(qr,{children:c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:3,children:"Contact Person"}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Name"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:MA,color:"gray.400"})}),c.jsx(Xe,{placeholder:"John Smith",value:o.contactPerson||"",onChange:p=>h("contactPerson",p.target.value)})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Position"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:TA,color:"gray.400"})}),c.jsx(Xe,{placeholder:"GIS Administrator",value:o.contactPosition||"",onChange:p=>h("contactPosition",p.target.value)})]})]})]})]}),c.jsx(Et,{}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:3,children:"Organization"}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Organization Name"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:cae,color:"gray.400"})}),c.jsx(Xe,{placeholder:"Kartoza (Pty) Ltd",value:o.contactOrganization||"",onChange:p=>h("contactOrganization",p.target.value)})]})]})]}),c.jsx(Et,{}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:3,children:"Contact Details"}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Email"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:dae,color:"gray.400"})}),c.jsx(Xe,{type:"email",placeholder:"info@example.com",value:o.contactEmail||"",onChange:p=>h("contactEmail",p.target.value)})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Phone"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:EA,color:"gray.400"})}),c.jsx(Xe,{placeholder:"+27 21 123 4567",value:o.contactVoice||"",onChange:p=>h("contactVoice",p.target.value)})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Fax"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:EA,color:"gray.400"})}),c.jsx(Xe,{placeholder:"+27 21 123 4568",value:o.contactFacsimile||"",onChange:p=>h("contactFacsimile",p.target.value)})]})]})]})]})]})}),c.jsx(qr,{children:c.jsx(ae,{spacing:6,align:"stretch",children:c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:3,children:"Location"}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Address Type"}),c.jsx(Xe,{placeholder:"Work",value:o.addressType||"",onChange:p=>h("addressType",p.target.value)})]}),c.jsxs(we,{gridColumn:{md:"span 2"},children:[c.jsx(ke,{fontSize:"sm",children:"Street Address"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:AA,color:"gray.400"})}),c.jsx(Xe,{placeholder:"123 Main Street",value:o.address||"",onChange:p=>h("address",p.target.value)})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"City"}),c.jsx(Xe,{placeholder:"Cape Town",value:o.addressCity||"",onChange:p=>h("addressCity",p.target.value)})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"State / Province"}),c.jsx(Xe,{placeholder:"Western Cape",value:o.addressState||"",onChange:p=>h("addressState",p.target.value)})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Postal Code"}),c.jsx(Xe,{placeholder:"8001",value:o.addressPostalCode||"",onChange:p=>h("addressPostalCode",p.target.value)})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Country"}),c.jsx(Xe,{placeholder:"South Africa",value:o.addressCountry||"",onChange:p=>h("addressCountry",p.target.value)})]})]})]})})}),c.jsx(qr,{children:c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:3,children:"Online Presence"}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Online Resource (Website)"}),c.jsxs(Bi,{children:[c.jsx(hs,{pointerEvents:"none",children:c.jsx(X,{as:qS,color:"gray.400"})}),c.jsx(Xe,{type:"url",placeholder:"https://www.example.com",value:o.onlineResource||"",onChange:p=>h("onlineResource",p.target.value)})]})]})]}),c.jsx(Et,{}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:3,children:"Welcome Message"}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:"Service Welcome Message"}),c.jsx(Bi,{children:c.jsx(bO,{placeholder:"Welcome to our GeoServer instance. This service provides access to...",value:o.welcome||"",onChange:p=>h("welcome",p.target.value),rows:6})}),c.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"This message will be displayed on the GeoServer welcome page"})]})]})]})})]})]})}),c.jsx(Ai,{borderTop:"1px",borderColor:"gray.200",children:c.jsxs(G,{spacing:3,children:[c.jsx(ge,{variant:"ghost",onClick:e,children:"Cancel"}),c.jsx(ge,{colorScheme:"kartoza",onClick:f,isLoading:d.isPending,loadingText:"Saving...",children:"Save Changes"})]})})]})]})}const Vle=ar`
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
`,Qle=ar`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`;function $A(t){if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(1))+" "+n[r]}function Hle({data:t,width:e=80,height:n=20,color:r="#38B2AC"}){if(t.length<2)return null;const i=Math.min(...t),o=Math.max(...t)-i||1,a=t.map((l,u)=>{const d=u/(t.length-1)*e,h=n-(l-i)/o*(n-4)-2;return`${d},${h}`}).join(" ");return c.jsx("svg",{width:e,height:n,style:{display:"inline-block",marginLeft:"4px"},children:c.jsx("polyline",{points:a,fill:"none",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const US=new Map,qle=30;function Ule(t,e){const n=US.get(t)||[];n.push(e),n.length>qle&&n.shift(),US.set(t,n)}function Gle(t){return US.get(t)||[]}function LA({server:t,isAlert:e=!1}){const n=t.online?"green.400":"red.400",r=e?"red.50":t.online?"white":"gray.50",i=t.online?bf:AO,s=t.online?"green.500":"red.500",o=Gle(t.connectionId);return c.jsxs(N,{bg:r,borderRadius:"xl",border:"2px solid",borderColor:n,p:4,position:"relative",transition:"all 0.3s ease",_hover:{transform:"translateY(-2px)",boxShadow:"lg"},css:t.online?void 0:Zi`animation: ${Vle} 2s ease-in-out infinite;`,children:[c.jsx(N,{position:"absolute",top:3,right:3,children:c.jsx(bn,{label:t.online?"Online":t.error||"Offline",children:c.jsx("span",{children:c.jsx(X,{as:i,color:s,boxSize:5})})})}),c.jsxs(ae,{align:"start",spacing:3,children:[c.jsxs(G,{children:[c.jsx(X,{as:tc,color:"kartoza.500",boxSize:6}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(R,{fontWeight:"bold",fontSize:"lg",noOfLines:1,children:t.connectionName}),c.jsx(R,{fontSize:"xs",color:"gray.500",noOfLines:1,children:t.url})]})]}),t.online?c.jsxs(c.Fragment,{children:[t.geoserverVersion&&c.jsxs(De,{colorScheme:"blue",fontSize:"xs",children:["GeoServer ",t.geoserverVersion]}),c.jsxs(dt,{columns:2,spacing:2,w:"100%",children:[c.jsxs(Or,{size:"sm",children:[c.jsx(jr,{fontSize:"xs",color:"gray.500",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:Kr,boxSize:3}),c.jsx(R,{children:"Layers"})]})}),c.jsx(Pr,{fontSize:"xl",color:"purple.600",children:t.layerCount})]}),c.jsxs(Or,{size:"sm",children:[c.jsx(jr,{fontSize:"xs",color:"gray.500",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:ir,boxSize:3}),c.jsx(R,{children:"Stores"})]})}),c.jsx(Pr,{fontSize:"xl",color:"blue.600",children:t.dataStoreCount+t.coverageCount})]})]}),t.memoryTotal>0&&c.jsxs(N,{w:"100%",children:[c.jsxs(G,{justify:"space-between",mb:1,children:[c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:aae,boxSize:3,color:"gray.500"}),c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Memory"})]}),c.jsxs(R,{fontSize:"xs",color:"gray.600",children:[$A(t.memoryUsed)," / ",$A(t.memoryTotal)]})]}),c.jsx(fp,{value:t.memoryUsedPct,size:"sm",colorScheme:t.memoryUsedPct>80?"red":t.memoryUsedPct>60?"yellow":"green",borderRadius:"full"})]}),c.jsxs(G,{spacing:2,fontSize:"xs",color:"gray.500",w:"100%",children:[c.jsx(X,{as:a_,boxSize:3}),c.jsxs(R,{children:["Response: ",t.responseTimeMs,"ms"]}),o.length>=2&&c.jsx(Hle,{data:o,width:60,height:16,color:"#38B2AC"})]})]}):c.jsx(N,{w:"100%",children:c.jsxs(vi,{status:"error",variant:"subtle",borderRadius:"md",py:2,children:[c.jsx(bi,{boxSize:4}),c.jsx(R,{fontSize:"sm",noOfLines:2,children:t.error||"Server is offline"})]})})]})]})}function IA(){const t=S.useRef(30),{data:e,isLoading:n,error:r,refetch:i,isFetching:s}=yt({queryKey:["dashboard"],queryFn:Ple,refetchInterval:()=>t.current*1e3});if(S.useEffect(()=>{if(e!=null&&e.servers){for(const l of e.servers)l.online&&Ule(l.connectionId,l.responseTimeMs);e.pingIntervalSecs&&e.pingIntervalSecs>0&&(t.current=e.pingIntervalSecs)}},[e]),n)return c.jsx(ct,{h:"100%",align:"center",justify:"center",children:c.jsxs(ae,{spacing:4,children:[c.jsx(Rr,{size:"xl",color:"kartoza.500",thickness:"4px"}),c.jsx(R,{color:"gray.500",children:"Loading server status..."})]})});if(r)return c.jsx(ct,{h:"100%",align:"center",justify:"center",p:8,children:c.jsxs(vi,{status:"error",borderRadius:"lg",children:[c.jsx(bi,{}),c.jsx(zC,{children:"Failed to load dashboard"}),c.jsx(DC,{children:r.message})]})});if(!e||e.servers.length===0)return c.jsx(ct,{h:"100%",align:"center",justify:"center",p:8,children:c.jsxs(ae,{spacing:4,textAlign:"center",children:[c.jsx(X,{as:tc,boxSize:16,color:"gray.300"}),c.jsx(R,{color:"gray.500",fontSize:"lg",children:"No servers configured"}),c.jsx(R,{color:"gray.400",fontSize:"sm",children:"Add a GeoServer connection to get started"})]})});const o=e.servers.filter(l=>l.online),a=e.servers.filter(l=>!l.online);return c.jsx(N,{h:"100%",overflowY:"auto",p:6,children:c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsxs(ct,{justify:"space-between",align:"center",children:[c.jsxs(G,{spacing:3,children:[c.jsx(X,{as:r_,boxSize:6,color:"kartoza.500"}),c.jsx(R,{fontSize:"xl",fontWeight:"bold",children:"Server Dashboard"})]}),c.jsxs(G,{spacing:4,children:[c.jsxs(G,{spacing:6,display:{base:"none",md:"flex"},children:[c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:bf,color:"green.500"}),c.jsx(R,{fontWeight:"bold",color:"green.600",children:e.onlineCount}),c.jsx(R,{color:"gray.500",children:"Online"})]}),e.offlineCount>0&&c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:AO,color:"red.500"}),c.jsx(R,{fontWeight:"bold",color:"red.600",children:e.offlineCount}),c.jsx(R,{color:"gray.500",children:"Offline"})]}),c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:Kr,color:"purple.500"}),c.jsx(R,{fontWeight:"bold",color:"purple.600",children:e.totalLayers}),c.jsx(R,{color:"gray.500",children:"Layers"})]}),c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:a_,color:"gray.500"}),c.jsxs(R,{color:"gray.500",children:[e.pingIntervalSecs||60,"s"]})]})]}),c.jsx(bn,{label:"Refresh status",children:c.jsx(_t,{"aria-label":"Refresh",icon:c.jsx(xp,{}),variant:"ghost",colorScheme:"kartoza",onClick:()=>i(),css:s?Zi`animation: ${Qle} 1s linear infinite;`:void 0})})]})]}),a.length>0&&c.jsxs(N,{children:[c.jsxs(G,{spacing:2,mb:3,children:[c.jsx(X,{as:i_,color:"red.500"}),c.jsxs(R,{fontWeight:"bold",color:"red.600",children:["Servers Requiring Attention (",a.length,")"]})]}),c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:a.map(l=>c.jsx(LA,{server:l,isAlert:!0},l.connectionId))})]}),o.length>0&&c.jsxs(N,{children:[a.length>0&&c.jsxs(G,{spacing:2,mb:3,children:[c.jsx(X,{as:bf,color:"green.500"}),c.jsxs(R,{fontWeight:"bold",color:"green.600",children:["Online Servers (",o.length,")"]})]}),c.jsx(dt,{columns:{base:1,md:2,lg:3,xl:4},spacing:4,children:o.map(l=>c.jsx(LA,{server:l},l.connectionId))})]})]})})}function Xle(){const t=qt(i=>i.selectedNode),e=ye(i=>i.activePreview),n=ye(i=>i.setPreview),r=S.useRef(t);if(S.useEffect(()=>{const i=r.current;if(r.current=t,!e||!t||(i==null?void 0:i.id)===t.id||!["layer","layergroup","datastore","coveragestore"].includes(t.type))return;(async()=>{try{const a=t.type==="coveragestore"?"raster":t.type==="layergroup"?"group":"vector",{url:l}=await Ls({connId:t.connectionId,workspace:t.workspace,layerName:t.name,storeName:t.type==="datastore"||t.type==="coveragestore"?t.name:void 0,storeType:t.type==="datastore"||t.type==="coveragestore"?t.type:void 0,layerType:a});n({url:l,layerName:t.name,workspace:t.workspace,storeName:t.type==="datastore"||t.type==="coveragestore"?t.name:void 0,storeType:t.type==="datastore"||t.type==="coveragestore"?t.type:void 0,layerType:a})}catch(a){ye.getState().setError(a.message)}})()},[t,e,n]),e)return c.jsx(N,{flex:"1",display:"flex",flexDirection:"column",minH:"0",children:c.jsx(Fle,{previewUrl:e.url,layerName:e.layerName,workspace:e.workspace,storeName:e.storeName,storeType:e.storeType,layerType:e.layerType,onClose:()=>n(null)},`${e.workspace}:${e.layerName}:${e.url}`)});if(!t)return c.jsx(IA,{});switch(t.type){case"connection":return c.jsx(nce,{connectionId:t.connectionId});case"workspace":return c.jsx(rce,{connectionId:t.connectionId,workspace:t.workspace});case"datastores":return c.jsx(Kle,{connectionId:t.connectionId,workspace:t.workspace});case"coveragestores":return c.jsx(Yle,{connectionId:t.connectionId,workspace:t.workspace});case"layers":return c.jsx(Zle,{connectionId:t.connectionId,workspace:t.workspace});case"styles":return c.jsx(Jle,{connectionId:t.connectionId,workspace:t.workspace});case"layergroups":return c.jsx(ece,{connectionId:t.connectionId,workspace:t.workspace});case"datastore":case"coveragestore":return c.jsx(ice,{connectionId:t.connectionId,workspace:t.workspace,storeName:t.name,storeType:t.type});case"layer":return c.jsx(sce,{connectionId:t.connectionId,workspace:t.workspace,layerName:t.name});case"layergroup":return c.jsx(oce,{connectionId:t.connectionId,workspace:t.workspace,groupName:t.name});default:return c.jsx(IA,{})}}function Kle({connectionId:t,workspace:e}){const n=ye(s=>s.openDialog),r=Ke("white","gray.800"),{data:i}=yt({queryKey:["datastores",t,e],queryFn:()=>RO(t,e)});return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:ir,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(ht,{size:"lg",children:"Data Stores"}),c.jsxs(R,{opacity:.9,children:["Workspace: ",e]})]})]}),c.jsx(Mi,{}),c.jsx(ae,{align:"end",spacing:2,children:c.jsxs(Or,{textAlign:"right",children:[c.jsx(Pr,{fontSize:"3xl",children:(i==null?void 0:i.length)??0}),c.jsx(jr,{color:"whiteAlpha.800",children:"Total Stores"})]})})]})})}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Br,{}),onClick:()=>n("datastore",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,children:"Create New Data Store"}),c.jsx(ge,{size:"lg",variant:"outline",leftIcon:c.jsx(nc,{}),onClick:()=>n("upload",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,children:"Upload Shapefile / GeoPackage"})]}),i&&i.length>0&&c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Existing Data Stores"}),c.jsx(Et,{}),c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:i.map(s=>c.jsx(j_,{name:s.name,type:s.type||"Unknown",enabled:s.enabled,icon:ir,connectionId:t,workspace:e,storeType:"datastore"},s.name))})]})})})]})}function Yle({connectionId:t,workspace:e}){const n=ye(s=>s.openDialog),r=Ke("white","gray.800"),{data:i}=yt({queryKey:["coveragestores",t,e],queryFn:()=>zO(t,e)});return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #D4922A 0%, #E8A331 50%, #F0B84D 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Ql,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(ht,{size:"lg",children:"Coverage Stores"}),c.jsxs(R,{opacity:.9,children:["Workspace: ",e]})]})]}),c.jsx(Mi,{}),c.jsx(ae,{align:"end",spacing:2,children:c.jsxs(Or,{textAlign:"right",children:[c.jsx(Pr,{fontSize:"3xl",children:(i==null?void 0:i.length)??0}),c.jsx(jr,{color:"whiteAlpha.800",children:"Total Stores"})]})})]})})}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Br,{}),onClick:()=>n("coveragestore",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,children:"Create New Coverage Store"}),c.jsx(ge,{size:"lg",variant:"outline",leftIcon:c.jsx(nc,{}),onClick:()=>n("upload",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,children:"Upload GeoTIFF"})]}),i&&i.length>0&&c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Existing Coverage Stores"}),c.jsx(Et,{}),c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:i.map(s=>c.jsx(j_,{name:s.name,type:s.type||"GeoTIFF",enabled:s.enabled,icon:Ql,connectionId:t,workspace:e,storeType:"coveragestore"},s.name))})]})})})]})}function Zle({connectionId:t,workspace:e}){const n=ye(s=>s.openDialog),r=Ke("white","gray.800"),{data:i}=yt({queryKey:["layers",t,e],queryFn:()=>ox(t,e)});return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Kr,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(ht,{size:"lg",children:"Layers"}),c.jsxs(R,{opacity:.9,children:["Workspace: ",e]})]})]}),c.jsx(Mi,{}),c.jsx(ae,{align:"end",spacing:2,children:c.jsxs(Or,{textAlign:"right",children:[c.jsx(Pr,{fontSize:"3xl",children:(i==null?void 0:i.length)??0}),c.jsx(jr,{color:"whiteAlpha.800",children:"Published Layers"})]})})]})})}),c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(nc,{}),onClick:()=>n("upload",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,children:"Upload New Layer Data"}),i&&i.length>0&&c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Published Layers"}),c.jsx(Et,{}),c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:i.map(s=>c.jsx(tce,{name:s.name,connectionId:t,workspace:e,enabled:s.enabled},s.name))})]})})})]})}function Jle({connectionId:t,workspace:e}){const n=ye(s=>s.openDialog),r=Ke("white","gray.800"),{data:i}=yt({queryKey:["styles",t,e],queryFn:()=>k_(t,e)});return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #5BB5E8 0%, #3B9DD9 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Vl,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(ht,{size:"lg",children:"Styles"}),c.jsxs(R,{opacity:.9,children:["Workspace: ",e]})]})]}),c.jsx(Mi,{}),c.jsx(ae,{align:"end",spacing:2,children:c.jsxs(Or,{textAlign:"right",children:[c.jsx(Pr,{fontSize:"3xl",children:(i==null?void 0:i.length)??0}),c.jsx(jr,{color:"whiteAlpha.800",children:"Total Styles"})]})})]})})}),c.jsxs(G,{spacing:4,children:[c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Br,{}),onClick:()=>n("style",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,flex:1,children:"Create Style"}),c.jsx(ge,{size:"lg",variant:"outline",leftIcon:c.jsx(nc,{}),onClick:()=>n("upload",{mode:"create",data:{connectionId:t,workspace:e}}),py:8,flex:1,children:"Upload SLD / CSS"})]}),i&&i.length>0&&c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Existing Styles"}),c.jsx(Et,{}),c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:i.map(s=>c.jsx(Ye,{variant:"outline",size:"sm",cursor:"pointer",_hover:{shadow:"md",borderColor:"kartoza.300"},transition:"all 0.2s",onClick:()=>n("style",{mode:"edit",data:{connectionId:t,workspace:e,name:s.name}}),children:c.jsx(Ze,{py:3,px:4,children:c.jsxs(G,{children:[c.jsx(X,{as:Vl,color:"kartoza.500"}),c.jsx(R,{fontWeight:"medium",children:s.name}),s.format&&c.jsx(De,{colorScheme:"blue",size:"sm",children:s.format})]})})},s.name))})]})})})]})}function ece({connectionId:t,workspace:e}){const n=Ke("white","gray.800"),r=ye(s=>s.openDialog),{data:i}=yt({queryKey:["layergroups",t,e],queryFn:()=>C_(t,e)});return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #155a84 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Xu,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(ht,{size:"lg",children:"Layer Groups"}),c.jsxs(R,{opacity:.9,children:["Workspace: ",e]})]})]}),c.jsx(Mi,{}),c.jsx(ae,{align:"end",spacing:2,children:c.jsxs(Or,{textAlign:"right",children:[c.jsx(Pr,{fontSize:"3xl",children:(i==null?void 0:i.length)??0}),c.jsx(jr,{color:"whiteAlpha.800",children:"Total Groups"})]})})]})})}),c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Br,{}),py:8,onClick:()=>r("layergroup",{mode:"create",data:{connectionId:t,workspace:e}}),children:"Create Layer Group"}),i&&i.length>0&&c.jsx(Ye,{bg:n,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Existing Layer Groups"}),c.jsx(Et,{}),c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:4,children:i.map(s=>c.jsx(Ye,{variant:"outline",size:"sm",children:c.jsx(Ze,{py:3,px:4,children:c.jsxs(G,{children:[c.jsx(X,{as:Xu,color:"kartoza.500"}),c.jsx(R,{fontWeight:"medium",children:s.name}),s.mode&&c.jsx(De,{colorScheme:"purple",size:"sm",children:s.mode})]})})},s.name))})]})})})]})}function j_({name:t,type:e,enabled:n,icon:r,connectionId:i,workspace:s,storeType:o}){const a=ye(u=>u.setPreview),l=async()=>{try{const{url:u}=await Ls({connId:i,workspace:s,layerName:t,storeName:t,storeType:o,layerType:o==="coveragestore"?"raster":"vector"});a({url:u,layerName:t,workspace:s,storeName:t,storeType:o,layerType:o==="coveragestore"?"raster":"vector"})}catch(u){ye.getState().setError(u.message)}};return c.jsx(Ye,{variant:"outline",size:"sm",_hover:{shadow:"md"},transition:"all 0.2s",children:c.jsx(Ze,{py:4,px:4,children:c.jsxs(ae,{align:"stretch",spacing:3,children:[c.jsxs(G,{justify:"space-between",children:[c.jsxs(G,{children:[c.jsx(X,{as:r,color:"kartoza.500",boxSize:5}),c.jsx(R,{fontWeight:"medium",noOfLines:1,children:t})]}),c.jsx(De,{colorScheme:n?"green":"gray",size:"sm",children:n?"Enabled":"Disabled"})]}),c.jsx(R,{fontSize:"xs",color:"gray.500",children:e}),c.jsx(ge,{size:"sm",variant:"outline",leftIcon:c.jsx(Uu,{}),onClick:l,children:"Preview"})]})})})}function tce({name:t,connectionId:e,workspace:n,enabled:r}){const i=ye(a=>a.setPreview),{data:s}=yt({queryKey:["layer",e,n,t],queryFn:()=>w_(e,n,t)}),o=async()=>{try{const{url:a}=await Ls({connId:e,workspace:n,layerName:t,storeName:s==null?void 0:s.store,storeType:s==null?void 0:s.storeType,layerType:(s==null?void 0:s.storeType)==="coveragestore"?"raster":"vector"});i({url:a,layerName:t,workspace:n,storeName:s==null?void 0:s.store,storeType:s==null?void 0:s.storeType,layerType:(s==null?void 0:s.storeType)==="coveragestore"?"raster":"vector"})}catch(a){ye.getState().setError(a.message)}};return c.jsx(Ye,{variant:"outline",size:"sm",_hover:{shadow:"md"},transition:"all 0.2s",children:c.jsx(Ze,{py:4,px:4,children:c.jsxs(ae,{align:"stretch",spacing:3,children:[c.jsxs(G,{justify:"space-between",children:[c.jsxs(G,{children:[c.jsx(X,{as:Kr,color:"kartoza.500",boxSize:5}),c.jsx(R,{fontWeight:"medium",noOfLines:1,children:t})]}),c.jsx(De,{colorScheme:r?"green":"gray",size:"sm",children:r?"Enabled":"Disabled"})]}),(s==null?void 0:s.defaultStyle)&&c.jsxs(R,{fontSize:"xs",color:"gray.500",children:["Style: ",s.defaultStyle]}),c.jsx(ge,{size:"sm",colorScheme:"kartoza",leftIcon:c.jsx(Hl,{}),onClick:o,children:"Preview on Map"})]})})})}function nce({connectionId:t}){const n=Yn(l=>l.connections).find(l=>l.id===t),r=ye(l=>l.openDialog),i=Ke("white","gray.800"),s=Yf(),{data:o}=yt({queryKey:["serverInfo",t],queryFn:()=>Gae(t)}),{data:a}=yt({queryKey:["workspaces",t],queryFn:()=>x_(t)});return n?c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:tc,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:0,children:[c.jsx(ht,{size:"lg",children:n.name}),c.jsx(R,{opacity:.9,children:n.url})]})]}),c.jsx(Mi,{}),c.jsxs(G,{children:[c.jsx(ge,{variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(d_,{}),onClick:s.onOpen,children:"Service Metadata"}),c.jsx(De,{colorScheme:"green",fontSize:"md",px:4,py:2,children:"Connected"})]})]})})}),c.jsx(Wle,{isOpen:s.isOpen,onClose:s.onClose,connectionId:t,connectionName:n.name}),c.jsxs(dt,{columns:{base:1,md:3},spacing:4,children:[c.jsx(Ye,{bg:i,children:c.jsx(Ze,{children:c.jsxs(Or,{children:[c.jsx(jr,{children:"Workspaces"}),c.jsx(Pr,{color:"kartoza.700",children:(a==null?void 0:a.length)??0}),c.jsx(wg,{children:"Total workspaces"})]})})}),o&&c.jsxs(c.Fragment,{children:[c.jsx(Ye,{bg:i,children:c.jsx(Ze,{children:c.jsxs(Or,{children:[c.jsx(jr,{children:"GeoServer"}),c.jsx(Pr,{color:"kartoza.700",fontSize:"xl",children:o.GeoServerVersion}),c.jsx(wg,{children:"Version"})]})})}),c.jsx(Ye,{bg:i,children:c.jsx(Ze,{children:c.jsxs(Or,{children:[c.jsx(jr,{children:"GeoTools"}),c.jsx(Pr,{color:"kartoza.700",fontSize:"xl",children:o.GeoToolsVersion}),c.jsx(wg,{children:"Version"})]})})})]})]}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Br,{}),onClick:()=>r("workspace",{mode:"create",data:{connectionId:t}}),py:8,children:"Create New Workspace"}),c.jsx(ge,{size:"lg",variant:"outline",leftIcon:c.jsx(nc,{}),onClick:()=>r("upload",{mode:"create"}),py:8,children:"Upload Data"})]})]}):null}function rce({connectionId:t,workspace:e}){const n=Ke("white","gray.800"),r=ye(l=>l.openDialog),{data:i}=yt({queryKey:["workspace",t,e],queryFn:()=>v_(t,e)}),{data:s}=yt({queryKey:["datastores",t,e],queryFn:()=>RO(t,e)}),{data:o}=yt({queryKey:["coveragestores",t,e],queryFn:()=>zO(t,e)}),{data:a}=yt({queryKey:["layers",t,e],queryFn:()=>ox(t,e)});return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Gu,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:1,children:[c.jsx(ht,{size:"lg",children:e}),c.jsxs(G,{children:[(i==null?void 0:i.default)&&c.jsx(De,{colorScheme:"blue",children:"Default"}),(i==null?void 0:i.isolated)&&c.jsx(De,{colorScheme:"purple",children:"Isolated"}),(i==null?void 0:i.enabled)&&c.jsx(De,{colorScheme:"green",children:"Enabled"})]})]})]}),c.jsx(Mi,{}),c.jsx(ge,{variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},onClick:()=>r("workspace",{mode:"edit",data:{connectionId:t,workspace:e}}),children:"Edit Workspace"})]})})}),c.jsxs(dt,{columns:{base:1,md:3},spacing:4,children:[c.jsx(Ye,{bg:n,variant:"elevated",cursor:"pointer",children:c.jsx(Ze,{children:c.jsxs(Or,{children:[c.jsxs(G,{children:[c.jsx(X,{as:ir,color:"kartoza.500",boxSize:6}),c.jsx(jr,{children:"Data Stores"})]}),c.jsx(Pr,{color:"kartoza.700",children:(s==null?void 0:s.length)??0})]})})}),c.jsx(Ye,{bg:n,variant:"elevated",cursor:"pointer",children:c.jsx(Ze,{children:c.jsxs(Or,{children:[c.jsxs(G,{children:[c.jsx(X,{as:Ql,color:"accent.400",boxSize:6}),c.jsx(jr,{children:"Coverage Stores"})]}),c.jsx(Pr,{color:"kartoza.700",children:(o==null?void 0:o.length)??0})]})})}),c.jsx(Ye,{bg:n,variant:"elevated",cursor:"pointer",children:c.jsx(Ze,{children:c.jsxs(Or,{children:[c.jsxs(G,{children:[c.jsx(X,{as:Kr,color:"kartoza.500",boxSize:6}),c.jsx(jr,{children:"Layers"})]}),c.jsx(Pr,{color:"kartoza.700",children:(a==null?void 0:a.length)??0})]})})})]}),c.jsx(Ye,{bg:n,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Quick Actions"}),c.jsx(Et,{}),c.jsxs(dt,{columns:{base:1,md:3},spacing:4,children:[c.jsx(ge,{variant:"accent",leftIcon:c.jsx(nc,{}),onClick:()=>r("upload",{mode:"create",data:{connectionId:t,workspace:e}}),children:"Upload Data"}),c.jsx(ge,{variant:"outline",leftIcon:c.jsx(Br,{}),onClick:()=>r("datastore",{mode:"create",data:{connectionId:t,workspace:e}}),children:"New Data Store"}),c.jsx(ge,{variant:"outline",leftIcon:c.jsx(Br,{}),onClick:()=>r("coveragestore",{mode:"create",data:{connectionId:t,workspace:e}}),children:"New Coverage Store"})]})]})})}),i&&c.jsx(Ye,{bg:n,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"start",spacing:3,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"OGC Services"}),c.jsx(Et,{}),c.jsxs(G,{wrap:"wrap",gap:2,children:[c.jsx(De,{colorScheme:i.wmsEnabled?"green":"gray",px:3,py:1,children:"WMS"}),c.jsx(De,{colorScheme:i.wfsEnabled?"green":"gray",px:3,py:1,children:"WFS"}),c.jsx(De,{colorScheme:i.wcsEnabled?"green":"gray",px:3,py:1,children:"WCS"}),c.jsx(De,{colorScheme:i.wmtsEnabled?"green":"gray",px:3,py:1,children:"WMTS"}),c.jsx(De,{colorScheme:i.wpsEnabled?"green":"gray",px:3,py:1,children:"WPS"})]})]})})})]})}function ice({connectionId:t,workspace:e,storeName:n,storeType:r}){const i=Ke("white","gray.800"),s=ye(d=>d.setPreview),o=ye(d=>d.openDialog),a=r==="datastore",{data:l}=yt({queryKey:[r+"s",t,e,n],queryFn:()=>a?b_(t,e,n):S_(t,e,n)}),u=async()=>{try{const{url:d}=await Ls({connId:t,workspace:e,layerName:n,storeName:n,storeType:r,layerType:a?"vector":"raster"});s({url:d,layerName:n,workspace:e,storeName:n,storeType:r,layerType:a?"vector":"raster"})}catch(d){ye.getState().setError(d.message)}};return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:a?"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)":"linear-gradient(135deg, #D4922A 0%, #E8A331 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:a?ir:Ql,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:1,children:[c.jsx(ht,{size:"lg",children:n}),c.jsxs(G,{children:[c.jsx(De,{colorScheme:a?"blue":"orange",children:a?"Data Store":"Coverage Store"}),(l==null?void 0:l.enabled)&&c.jsx(De,{colorScheme:"green",children:"Enabled"})]})]})]}),c.jsx(Mi,{}),c.jsxs(G,{wrap:"wrap",gap:2,children:[c.jsx(ge,{variant:"solid",bg:"whiteAlpha.200",color:"white",_hover:{bg:"whiteAlpha.300"},leftIcon:c.jsx(Hl,{}),onClick:u,children:"Preview on Map"}),c.jsx(ge,{variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(Vl,{}),onClick:()=>o(r,{mode:"edit",data:{connectionId:t,workspace:e,storeName:n}}),children:"Edit Store"})]})]})})}),c.jsx(Ye,{bg:i,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"start",spacing:3,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Store Details"}),c.jsx(Et,{}),c.jsxs(dt,{columns:2,spacing:4,w:"100%",children:[c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Workspace"}),c.jsx(R,{fontWeight:"medium",children:e})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Type"}),c.jsx(R,{fontWeight:"medium",children:(l==null?void 0:l.type)||"Unknown"})]})]})]})})})]})}function sce({connectionId:t,workspace:e,layerName:n}){const r=Ke("white","gray.800"),i=ye(d=>d.setPreview),s=ye(d=>d.openDialog),{data:o}=yt({queryKey:["layer",t,e,n],queryFn:()=>w_(t,e,n)}),a=async()=>{try{const{url:d}=await Ls({connId:t,workspace:e,layerName:n,storeName:o==null?void 0:o.store,storeType:o==null?void 0:o.storeType,layerType:(o==null?void 0:o.storeType)==="coveragestore"?"raster":"vector"});i({url:d,layerName:n,workspace:e,storeName:o==null?void 0:o.store,storeType:o==null?void 0:o.storeType,layerType:(o==null?void 0:o.storeType)==="coveragestore"?"raster":"vector"})}catch(d){ye.getState().setError(d.message)}},l=()=>{s("info",{mode:"view",title:"Tile Cache",data:{connectionId:t,workspace:e,layerName:n}})},u=async()=>{try{const{url:d}=await Ls({connId:t,workspace:e,layerName:n,storeName:o==null?void 0:o.store,storeType:o==null?void 0:o.storeType,layerType:(o==null?void 0:o.storeType)==="coveragestore"?"raster":"vector",useCache:!0,gridSet:"EPSG:900913",tileFormat:"image/png"});i({url:d,layerName:n,workspace:e,storeName:o==null?void 0:o.store,storeType:o==null?void 0:o.storeType,layerType:(o==null?void 0:o.storeType)==="coveragestore"?"raster":"vector"})}catch(d){ye.getState().setError(d.message)}};return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Kr,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:1,children:[c.jsx(ht,{size:"lg",children:n}),c.jsxs(G,{children:[c.jsx(De,{colorScheme:"teal",children:"Layer"}),(o==null?void 0:o.enabled)&&c.jsx(De,{colorScheme:"green",children:"Enabled"}),(o==null?void 0:o.advertised)&&c.jsx(De,{colorScheme:"blue",children:"Advertised"})]})]})]}),c.jsx(Mi,{}),c.jsxs(G,{wrap:"wrap",gap:2,children:[c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Hl,{}),onClick:a,children:"Preview (WMS)"}),c.jsx(ge,{size:"lg",variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(Hl,{}),onClick:u,children:"Preview Cache"}),c.jsx(ge,{size:"lg",variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(ir,{}),onClick:l,children:"Manage Cache"}),c.jsx(ge,{size:"lg",variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(Vl,{}),onClick:()=>s("layer",{mode:"edit",data:{connectionId:t,workspace:e,layerName:n}}),children:"Edit Layer"})]})]})})}),o&&c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"start",spacing:3,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Layer Configuration"}),c.jsx(Et,{}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,w:"100%",children:[c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Workspace"}),c.jsx(R,{fontWeight:"medium",children:e})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Store"}),c.jsx(R,{fontWeight:"medium",children:o.store||"Unknown"})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Store Type"}),c.jsx(R,{fontWeight:"medium",children:o.storeType||"Unknown"})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Default Style"}),c.jsx(R,{fontWeight:"medium",children:o.defaultStyle||"None"})]})]})]})})}),c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Tile Cache"}),c.jsx(Et,{}),c.jsx(R,{fontSize:"sm",color:"gray.600",children:"Manage tile cache for this layer. Seed tiles for faster map viewing, or truncate the cache to regenerate tiles."}),c.jsx(dt,{columns:{base:1,md:2},spacing:4,children:c.jsx(ge,{colorScheme:"kartoza",leftIcon:c.jsx(ir,{}),onClick:l,children:"Seed / Truncate Cache"})})]})})})]})}function oce({connectionId:t,workspace:e,groupName:n}){const r=Ke("white","gray.800"),i=ye(h=>h.setPreview),s=ye(h=>h.openDialog),{data:o}=yt({queryKey:["layergroup",t,e,n],queryFn:()=>ule(t,e,n)}),a=async()=>{try{const{url:h}=await Ls({connId:t,workspace:e,layerName:n,layerType:"group"});i({url:h,layerName:n,workspace:e,layerType:"group"})}catch(h){ye.getState().setError(h.message)}},l=()=>{s("info",{mode:"view",title:"Tile Cache",data:{connectionId:t,workspace:e,layerName:n}})},u=async()=>{try{const{url:h}=await Ls({connId:t,workspace:e,layerName:n,layerType:"group",useCache:!0,gridSet:"EPSG:900913",tileFormat:"image/png"});i({url:h,layerName:n,workspace:e,layerType:"group"})}catch(h){ye.getState().setError(h.message)}},d=()=>{s("layergroup",{mode:"edit",data:{connectionId:t,workspace:e,name:n,layers:(o==null?void 0:o.layers.map(h=>h.name))||[],mode:o==null?void 0:o.mode,title:o==null?void 0:o.title}})};return c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsx(Ye,{bg:"linear-gradient(135deg, #1B6B9B 0%, #155a84 100%)",color:"white",children:c.jsx(Ze,{py:8,px:6,children:c.jsxs(ct,{align:"center",wrap:"wrap",gap:4,children:[c.jsxs(G,{spacing:4,children:[c.jsx(N,{bg:"whiteAlpha.200",p:3,borderRadius:"lg",children:c.jsx(X,{as:Xu,boxSize:8})}),c.jsxs(ae,{align:"start",spacing:1,children:[c.jsx(ht,{size:"lg",children:n}),c.jsxs(G,{children:[c.jsx(De,{colorScheme:"purple",children:"Layer Group"}),(o==null?void 0:o.mode)&&c.jsx(De,{colorScheme:"blue",children:o.mode}),(o==null?void 0:o.enabled)&&c.jsx(De,{colorScheme:"green",children:"Enabled"})]})]})]}),c.jsx(Mi,{}),c.jsxs(G,{wrap:"wrap",gap:2,children:[c.jsx(ge,{size:"lg",variant:"accent",leftIcon:c.jsx(Hl,{}),onClick:a,children:"Preview (WMS)"}),c.jsx(ge,{size:"lg",variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(Hl,{}),onClick:u,children:"Preview Cache"}),c.jsx(ge,{size:"lg",variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(ir,{}),onClick:l,children:"Manage Cache"}),c.jsx(ge,{size:"lg",variant:"outline",color:"white",borderColor:"whiteAlpha.400",_hover:{bg:"whiteAlpha.200"},leftIcon:c.jsx(Vl,{}),onClick:d,children:"Edit Layers"})]})]})})}),o&&c.jsxs(c.Fragment,{children:[c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"start",spacing:3,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Group Configuration"}),c.jsx(Et,{}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,w:"100%",children:[c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Workspace"}),c.jsx(R,{fontWeight:"medium",children:e})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Mode"}),c.jsx(R,{fontWeight:"medium",children:o.mode||"SINGLE"})]}),o.title&&c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Title"}),c.jsx(R,{fontWeight:"medium",children:o.title})]}),o.bounds&&c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Bounds"}),c.jsxs(R,{fontWeight:"medium",fontSize:"xs",children:["[",o.bounds.minX.toFixed(2),", ",o.bounds.minY.toFixed(2),", ",o.bounds.maxX.toFixed(2),", ",o.bounds.maxY.toFixed(2),"]"]})]})]})]})})}),c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:3,children:[c.jsxs(ht,{size:"sm",color:"gray.600",children:["Layers in Group (",o.layers.length,")"]}),c.jsx(Et,{}),c.jsx(ae,{align:"stretch",spacing:2,children:o.layers.map((h,f)=>c.jsxs(G,{p:2,bg:"gray.50",borderRadius:"md",_dark:{bg:"gray.700"},children:[c.jsx(De,{colorScheme:h.type==="layer"?"teal":"purple",children:h.type}),c.jsx(R,{fontWeight:"medium",children:h.name}),h.styleName&&c.jsxs(R,{fontSize:"sm",color:"gray.500",children:["(Style: ",h.styleName,")"]})]},f))})]})})}),c.jsx(Ye,{bg:r,children:c.jsx(Ze,{children:c.jsxs(ae,{align:"stretch",spacing:4,children:[c.jsx(ht,{size:"sm",color:"gray.600",children:"Tile Cache"}),c.jsx(Et,{}),c.jsx(R,{fontSize:"sm",color:"gray.600",children:"Manage tile cache for this layer group. Seed tiles for faster map viewing, or truncate the cache to regenerate tiles."}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsx(ge,{colorScheme:"kartoza",leftIcon:c.jsx(ir,{}),onClick:l,children:"Seed / Truncate Cache"}),c.jsx(ge,{variant:"outline",leftIcon:c.jsx(Vl,{}),onClick:d,children:"Modify Layers"})]})]})})})]})]})}function ace(){var H;const t=ye(_=>_.activeDialog),e=ye(_=>_.dialogData),n=ye(_=>_.closeDialog),r=Yn(_=>_.addConnection),i=Yn(_=>_.updateConnection),s=Yn(_=>_.testConnection),o=Yn(_=>_.connections),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState(""),[p,m]=S.useState(""),[g,x]=S.useState(!1),[v,y]=S.useState(!1),[b,w]=S.useState(!1),[k,O]=S.useState(null),C=_s(),j=t==="connection",P=(e==null?void 0:e.mode)==="edit",A=(H=e==null?void 0:e.data)==null?void 0:H.connectionId;S.useEffect(()=>{if(j&&P&&A){const _=o.find(B=>B.id===A);_&&(l(_.name),d(_.url),f(_.username),m(_.password||""),x(!1))}else j&&!P&&(l(""),d(""),f(""),m(""),x(!1));O(null)},[j,P,A,o]);const E=async()=>{if(!A&&!u){C({title:"URL required",description:"Please enter a GeoServer URL first",status:"warning",duration:3e3});return}w(!0),O(null);try{if(A){const _=await s(A);O(_)}else{const _=await r({name:a||"Test",url:u,username:h,password:p}),B=await s(_.id);B.success||await Yn.getState().removeConnection(_.id),O(B)}}catch(_){O({success:!1,message:_.message})}finally{w(!1)}},F=async()=>{if(!a||!u){C({title:"Required fields",description:"Name and URL are required",status:"warning",duration:3e3});return}y(!0);try{P&&A?(await i(A,{name:a,url:u,username:h,password:p||void 0}),C({title:"Connection updated",status:"success",duration:2e3})):(await r({name:a,url:u,username:h,password:p}),C({title:"Connection added",status:"success",duration:2e3})),n()}catch(_){C({title:"Error",description:_.message,status:"error",duration:5e3})}finally{y(!1)}};return c.jsxs(Oi,{isOpen:j,onClose:n,size:"lg",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",children:[c.jsx(N,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:tc,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:P?"Edit Connection":"Add Connection"}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:P?"Update your GeoServer connection":"Connect to a GeoServer instance"})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,children:c.jsxs(ae,{spacing:4,children:[c.jsxs(we,{isRequired:!0,children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Name"}),c.jsx(Xe,{value:a,onChange:_=>l(_.target.value),placeholder:"My GeoServer",size:"lg",borderRadius:"lg"})]}),c.jsxs(we,{isRequired:!0,children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"URL"}),c.jsx(Xe,{value:u,onChange:_=>d(_.target.value),placeholder:"http://localhost:8080/geoserver",size:"lg",borderRadius:"lg"})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Username"}),c.jsx(Xe,{value:h,onChange:_=>f(_.target.value),placeholder:"admin",size:"lg",borderRadius:"lg"})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Password"}),c.jsxs(Bi,{size:"lg",children:[c.jsx(Xe,{type:g?"text":"password",value:p,onChange:_=>m(_.target.value),placeholder:P?"(unchanged)":"password",borderRadius:"lg"}),c.jsx(oO,{h:"full",children:c.jsx(_t,{"aria-label":g?"Hide password":"Show password",icon:g?c.jsx(iae,{}):c.jsx(Uu,{}),variant:"ghost",size:"md",onClick:()=>x(!g)})})]})]}),k&&c.jsxs(vi,{status:k.success?"success":"error",borderRadius:"lg",variant:"subtle",children:[c.jsx(bi,{}),c.jsx(R,{fontSize:"sm",children:k.message})]})]})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:[c.jsx(ge,{variant:"outline",onClick:E,isLoading:b,loadingText:"Testing...",leftIcon:c.jsx(s_,{}),borderRadius:"lg",flexShrink:0,children:"Test Connection"}),c.jsx(ge,{variant:"ghost",onClick:n,borderRadius:"lg",children:"Cancel"}),c.jsx(ge,{colorScheme:"kartoza",onClick:F,isLoading:v,borderRadius:"lg",px:6,children:P?"Save Changes":"Add Connection"})]})]})]})}const _A={name:"",isolated:!1,default:!1,enabled:!0,wmtsEnabled:!1,wmsEnabled:!0,wcsEnabled:!0,wpsEnabled:!1,wfsEnabled:!0};function lce(){var y,b;const t=ye(w=>w.activeDialog),e=ye(w=>w.dialogData),n=ye(w=>w.closeDialog),r=qt(w=>w.selectedNode),i=Yn(w=>w.activeConnectionId),s=Ns(),o=_s(),[a,l]=S.useState(_A),[u,d]=S.useState(!1),h=t==="workspace",f=(e==null?void 0:e.mode)==="edit",p=((y=e==null?void 0:e.data)==null?void 0:y.connectionId)||(r==null?void 0:r.connectionId)||i,m=(b=e==null?void 0:e.data)==null?void 0:b.workspace,{data:g}=yt({queryKey:["workspace",p,m],queryFn:()=>v_(p,m),enabled:h&&f&&!!p&&!!m});S.useEffect(()=>{h&&l(f&&g?g:_A)},[h,f,g]);const x=(w,k)=>{l(O=>({...O,[w]:k}))},v=async()=>{if(!p){o({title:"No connection selected",description:"Please select a connection first",status:"warning",duration:3e3});return}if(!a.name){o({title:"Name required",description:"Please enter a workspace name",status:"warning",duration:3e3});return}d(!0);try{f&&m?(await Kae(p,m,a),o({title:"Workspace updated",status:"success",duration:2e3})):(await Xae(p,a),o({title:"Workspace created",status:"success",duration:2e3})),s.invalidateQueries({queryKey:["workspaces",p]}),n()}catch(w){o({title:"Error",description:w.message,status:"error",duration:5e3})}finally{d(!1)}};return c.jsxs(Oi,{isOpen:h,onClose:n,size:"lg",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",children:[c.jsx(N,{bg:"linear-gradient(135deg, #E8A331 0%, #F0B84D 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:Gu,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:f?"Edit Workspace":"Create Workspace"}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:f?"Update workspace settings":"Create a new GeoServer workspace"})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,children:c.jsxs(ae,{spacing:5,align:"stretch",children:[c.jsxs(we,{isRequired:!0,children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Workspace Name"}),c.jsx(Xe,{value:a.name,onChange:w=>x("name",w.target.value),placeholder:"my_workspace",isDisabled:f,size:"lg",borderRadius:"lg"})]}),c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsx(ht,{size:"sm",mb:3,color:"gray.700",children:"Workspace Settings"}),c.jsxs(dt,{columns:3,spacing:4,children:[c.jsxs(we,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[c.jsx(ke,{mb:0,fontWeight:"normal",children:"Isolated"}),c.jsx(si,{isChecked:a.isolated,onChange:w=>x("isolated",w.target.checked),colorScheme:"kartoza"})]}),c.jsxs(we,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[c.jsx(ke,{mb:0,fontWeight:"normal",children:"Default"}),c.jsx(si,{isChecked:a.default,onChange:w=>x("default",w.target.checked),colorScheme:"kartoza"})]}),c.jsxs(we,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[c.jsx(ke,{mb:0,fontWeight:"normal",children:"Enabled"}),c.jsx(si,{isChecked:a.enabled,onChange:w=>x("enabled",w.target.checked),colorScheme:"kartoza"})]})]})]}),c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsx(ht,{size:"sm",mb:3,color:"gray.700",children:"OGC Services"}),c.jsxs(dt,{columns:5,spacing:4,children:[c.jsxs(we,{display:"flex",alignItems:"center",flexDirection:"column",gap:1,children:[c.jsx(ke,{mb:0,fontSize:"sm",fontWeight:"500",color:"gray.600",children:"WMS"}),c.jsx(si,{isChecked:a.wmsEnabled,onChange:w=>x("wmsEnabled",w.target.checked),colorScheme:"kartoza",size:"md"})]}),c.jsxs(we,{display:"flex",alignItems:"center",flexDirection:"column",gap:1,children:[c.jsx(ke,{mb:0,fontSize:"sm",fontWeight:"500",color:"gray.600",children:"WFS"}),c.jsx(si,{isChecked:a.wfsEnabled,onChange:w=>x("wfsEnabled",w.target.checked),colorScheme:"kartoza",size:"md"})]}),c.jsxs(we,{display:"flex",alignItems:"center",flexDirection:"column",gap:1,children:[c.jsx(ke,{mb:0,fontSize:"sm",fontWeight:"500",color:"gray.600",children:"WCS"}),c.jsx(si,{isChecked:a.wcsEnabled,onChange:w=>x("wcsEnabled",w.target.checked),colorScheme:"kartoza",size:"md"})]}),c.jsxs(we,{display:"flex",alignItems:"center",flexDirection:"column",gap:1,children:[c.jsx(ke,{mb:0,fontSize:"sm",fontWeight:"500",color:"gray.600",children:"WMTS"}),c.jsx(si,{isChecked:a.wmtsEnabled,onChange:w=>x("wmtsEnabled",w.target.checked),colorScheme:"kartoza",size:"md"})]}),c.jsxs(we,{display:"flex",alignItems:"center",flexDirection:"column",gap:1,children:[c.jsx(ke,{mb:0,fontSize:"sm",fontWeight:"500",color:"gray.600",children:"WPS"}),c.jsx(si,{isChecked:a.wpsEnabled,onChange:w=>x("wpsEnabled",w.target.checked),colorScheme:"kartoza",size:"md"})]})]})]})]})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:[c.jsx(ge,{variant:"ghost",onClick:n,borderRadius:"lg",children:"Cancel"}),c.jsx(ge,{colorScheme:"kartoza",onClick:v,isLoading:u,borderRadius:"lg",px:6,children:f?"Save Changes":"Create Workspace"})]})]})]})}function cce(){const t=ye(p=>p.activeDialog),e=ye(p=>p.dialogData),n=ye(p=>p.closeDialog),r=Yn(p=>p.removeConnection),i=Ns(),s=_s(),[o,a]=S.useState(!1),l=t==="confirm",u=(e==null?void 0:e.title)||"Confirm",d=(e==null?void 0:e.message)||"Are you sure?",h=e==null?void 0:e.data,f=async()=>{a(!0);try{if(h!=null&&h.connectionId&&!(h!=null&&h.workspace))await r(h.connectionId),s({title:"Connection deleted",status:"success",duration:2e3});else if(h!=null&&h.connectionId&&(h!=null&&h.workspace)&&!(h!=null&&h.name))await Yae(h.connectionId,h.workspace,!0),i.invalidateQueries({queryKey:["workspaces",h.connectionId]}),s({title:"Workspace deleted",status:"success",duration:2e3});else if(h!=null&&h.connectionId&&(h!=null&&h.workspace)&&(h!=null&&h.name)&&(h!=null&&h.type)){const p=h.connectionId,m=h.workspace,g=h.name,x=h.type;switch(x){case"datastore":await Zae(p,m,g,!0),i.invalidateQueries({queryKey:["datastores",p,m]});break;case"coveragestore":await tle(p,m,g,!0),i.invalidateQueries({queryKey:["coveragestores",p,m]});break;case"layer":await nle(p,m,g),i.invalidateQueries({queryKey:["layers",p,m]});break;case"style":await sle(p,m,g,!0),i.invalidateQueries({queryKey:["styles",p,m]});break;case"layergroup":await dle(p,m,g),i.invalidateQueries({queryKey:["layergroups",p,m]});break}s({title:`${x} deleted`,status:"success",duration:2e3})}e!=null&&e.onConfirm&&await e.onConfirm(),n()}catch(p){s({title:"Error",description:p.message,status:"error",duration:5e3})}finally{a(!1)}};return c.jsxs(Oi,{isOpen:l,onClose:n,size:"md",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",children:[c.jsx(N,{bg:"linear-gradient(135deg, #E55B3C 0%, #F0B84D 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:i_,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:u}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:"This action cannot be undone"})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,children:c.jsx(R,{color:"gray.700",fontSize:"md",children:d})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:[c.jsx(ge,{variant:"ghost",onClick:n,borderRadius:"lg",children:"Cancel"}),c.jsx(ge,{colorScheme:"red",onClick:f,isLoading:o,borderRadius:"lg",px:6,children:"Delete"})]})]})]})}function uce(){const t=ye(V=>V.activeDialog),e=ye(V=>V.closeDialog),n=qt(V=>V.selectedNode),r=Yn(V=>V.activeConnectionId),i=Ns(),s=_s(),[o,a]=S.useState([]),[l,u]=S.useState(!1),[d,h]=S.useState(!1),[f,p]=S.useState([]),[m,g]=S.useState(!1),[x,v]=S.useState(!1),[y,b]=S.useState(null),w=S.useRef(null),k=Ke("gray.50","gray.700"),O=Ke("gray.300","gray.600"),C=t==="upload",j=(n==null?void 0:n.connectionId)||r,P=n==null?void 0:n.workspace;S.useEffect(()=>{C&&(a([]),h(!1),p([]),b(null))},[C]);const A=S.useCallback(V=>{V.preventDefault();const J=Array.from(V.dataTransfer.files);F(J)},[]),E=V=>{if(V.target.files){const J=Array.from(V.target.files);F(J)}},F=V=>{const J=[".shp",".zip",".gpkg",".tif",".tiff",".sld",".css"],U=V.filter(Se=>J.some(_e=>Se.name.toLowerCase().endsWith(_e)));U.length<V.length&&s({title:"Some files skipped",description:"Only shapefiles, GeoPackages, GeoTIFFs, and styles are supported",status:"warning",duration:3e3}),a(Se=>[...Se,...U.map(_e=>({file:_e,progress:0,status:"pending"}))]),h(!1),p([])},H=V=>{a(J=>J.filter((U,Se)=>Se!==V))},_=async()=>{if(!j||!P){s({title:"No workspace selected",description:"Please select a workspace in the tree first",status:"warning",duration:3e3});return}if(o.length===0){s({title:"No files selected",description:"Please select files to upload",status:"warning",duration:3e3});return}u(!0);let V=null;for(let U=0;U<o.length;U++)if(o[U].status==="pending"){a(Se=>Se.map((_e,We)=>We===U?{..._e,status:"uploading"}:_e));try{const Se=await hle(j,P,o[U].file,_e=>{a(We=>We.map((he,Me)=>Me===U?{...he,progress:_e}:he))});a(_e=>_e.map((We,he)=>he===U?{...We,status:"success",progress:100,storeName:Se.storeName,storeType:Se.storeType}:We)),o[U].file.name.toLowerCase().endsWith(".gpkg")&&Se.storeName&&(V={name:Se.storeName,type:Se.storeType||"datastore"})}catch(Se){a(_e=>_e.map((We,he)=>he===U?{...We,status:"error",error:Se.message}:We))}}u(!1),h(!0),i.invalidateQueries({queryKey:["datastores",j,P]}),i.invalidateQueries({queryKey:["coveragestores",j,P]}),i.invalidateQueries({queryKey:["styles",j,P]}),i.invalidateQueries({queryKey:["layers",j,P]});const J=o.filter(U=>U.status==="success").length;J>0&&s({title:"Upload complete",description:`${J} file(s) uploaded successfully`,status:"success",duration:3e3}),V&&V.type==="datastore"&&(b(V),await B(V.name))},B=async V=>{if(!(!j||!P)){g(!0);try{const J=await Jae(j,P,V);J.length>0&&p(J.map(U=>({name:U,selected:!0})))}catch(J){console.error("Failed to load available layers:",J)}finally{g(!1)}}},ee=V=>{p(J=>J.map((U,Se)=>Se===V?{...U,selected:!U.selected}:U))},W=()=>{p(V=>V.map(J=>({...J,selected:!0})))},L=()=>{p(V=>V.map(J=>({...J,selected:!1})))},Q=async()=>{if(!j||!P||!y)return;const V=f.filter(J=>J.selected).map(J=>J.name);if(V.length===0){s({title:"No layers selected",description:"Please select at least one layer to publish",status:"warning",duration:3e3});return}v(!0);try{const J=await ele(j,P,y.name,V);J.published.length>0&&(s({title:"Layers published",description:`${J.published.length} layer(s) published successfully`,status:"success",duration:3e3}),p(U=>U.filter(Se=>!J.published.includes(Se.name))),i.invalidateQueries({queryKey:["layers",j,P]})),J.errors.length>0&&s({title:"Some layers failed",description:J.errors.join(", "),status:"error",duration:5e3})}catch(J){s({title:"Publish failed",description:J.message,status:"error",duration:5e3})}finally{v(!1)}},I=()=>{a([]),h(!1),p([]),b(null),e()},Y=V=>{switch(V){case"success":return s_;case"error":return EO;default:return oae}},ie=V=>{switch(V){case"success":return"green.500";case"error":return"red.500";default:return"gray.500"}},Z=o.some(V=>V.status==="pending"),se=f.filter(V=>V.selected).length;return c.jsxs(Oi,{isOpen:C,onClose:I,size:"lg",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",maxH:"85vh",children:[c.jsx(N,{bg:"linear-gradient(135deg, #3B9DD9 0%, #5BB5E8 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:nb,boxSize:5,color:"white"})}),c.jsxs(N,{flex:"1",children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:"Upload Files"}),c.jsxs(G,{spacing:2,children:[c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:"Target:"}),P?c.jsx(De,{bg:"whiteAlpha.200",color:"white",fontSize:"xs",children:P}):c.jsx(R,{color:"whiteAlpha.600",fontSize:"sm",fontStyle:"italic",children:"No workspace selected"})]})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,overflowY:"auto",children:c.jsxs(ae,{spacing:4,children:[!d&&c.jsxs(N,{w:"100%",p:8,bg:k,border:"2px dashed",borderColor:O,borderRadius:"xl",textAlign:"center",cursor:"pointer",onClick:()=>{var V;return(V=w.current)==null?void 0:V.click()},onDrop:A,onDragOver:V=>V.preventDefault(),_hover:{borderColor:"kartoza.500",bg:"kartoza.50"},transition:"all 0.2s",children:[c.jsxs(ae,{spacing:3,children:[c.jsx(N,{bg:"kartoza.50",p:4,borderRadius:"full",children:c.jsx(X,{as:nb,boxSize:10,color:"kartoza.500"})}),c.jsxs(ae,{spacing:1,children:[c.jsx(R,{fontWeight:"600",color:"gray.700",children:"Drop files here or click to browse"}),c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Shapefile (.zip), GeoPackage (.gpkg), GeoTIFF (.tif), SLD, CSS"})]})]}),c.jsx("input",{ref:w,type:"file",multiple:!0,accept:".zip,.shp,.gpkg,.tif,.tiff,.sld,.css",style:{display:"none"},onChange:E})]}),o.length>0&&c.jsx(Ky,{spacing:2,w:"100%",children:o.map((V,J)=>c.jsx(iI,{p:3,bg:k,borderRadius:"lg",border:"1px solid",borderColor:V.status==="success"?"green.200":V.status==="error"?"red.200":"gray.200",children:c.jsxs(ae,{align:"stretch",spacing:2,children:[c.jsxs(N,{display:"flex",alignItems:"center",gap:2,children:[c.jsx(sI,{as:Y(V.status),color:ie(V.status),boxSize:5}),c.jsx(R,{flex:"1",fontSize:"sm",noOfLines:1,fontWeight:"500",children:V.file.name}),V.status==="pending"&&c.jsx(ge,{size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>H(J),borderRadius:"md",children:"Remove"}),V.status==="success"&&c.jsx(De,{colorScheme:"green",borderRadius:"md",children:"Complete"})]}),V.status==="uploading"&&c.jsx(fp,{value:V.progress,size:"sm",colorScheme:"kartoza",borderRadius:"full"}),V.status==="error"&&c.jsx(R,{fontSize:"xs",color:"red.500",children:V.error})]})},J))}),d&&f.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(Et,{}),c.jsxs(N,{w:"100%",children:[c.jsxs(G,{justify:"space-between",mb:3,children:[c.jsxs(G,{children:[c.jsx(X,{as:Kr,color:"kartoza.500"}),c.jsxs(R,{fontWeight:"600",children:["Available Layers in ",y==null?void 0:y.name]})]}),c.jsxs(G,{spacing:2,children:[c.jsx(ge,{size:"xs",variant:"ghost",onClick:W,children:"Select All"}),c.jsx(ge,{size:"xs",variant:"ghost",onClick:L,children:"Deselect All"})]})]}),c.jsx(R,{fontSize:"sm",color:"gray.500",mb:3,children:"The GeoPackage contains multiple layers. Select which layers to publish:"}),c.jsx(ae,{align:"stretch",spacing:2,maxH:"200px",overflowY:"auto",children:f.map((V,J)=>c.jsx(N,{p:2,bg:k,borderRadius:"md",border:"1px solid",borderColor:V.selected?"kartoza.200":"gray.200",children:c.jsx(Ks,{isChecked:V.selected,onChange:()=>ee(J),colorScheme:"kartoza",children:c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:ir,color:"gray.500",boxSize:4}),c.jsx(R,{fontSize:"sm",children:V.name})]})})},V.name))})]})]}),m&&c.jsxs(G,{spacing:2,color:"gray.500",children:[c.jsx(Rr,{size:"sm"}),c.jsx(R,{fontSize:"sm",children:"Checking for available layers..."})]})]})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:[c.jsx(ge,{variant:"ghost",onClick:I,borderRadius:"lg",children:d?"Close":"Cancel"}),d&&f.length>0&&c.jsxs(ge,{colorScheme:"green",onClick:Q,isLoading:x,loadingText:"Publishing...",isDisabled:se===0,leftIcon:c.jsx(Kr,{}),borderRadius:"lg",px:6,children:["Publish ",se>0&&`(${se})`]}),(!d||Z)&&c.jsxs(ge,{colorScheme:"kartoza",onClick:_,isLoading:l,loadingText:"Uploading...",isDisabled:o.length===0||!P||!Z,leftIcon:c.jsx(nb,{}),borderRadius:"lg",px:6,children:["Upload ",o.filter(V=>V.status==="pending").length>0&&`(${o.filter(V=>V.status==="pending").length})`]})]})]})]})}function dce(){var P,A;const t=ye(E=>E.activeDialog),e=ye(E=>E.dialogData),n=ye(E=>E.closeDialog),r=qt(E=>E.selectedNode),[i,s]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState("SINGLE"),[d,h]=S.useState([]),[f,p]=S.useState(!1),m=_s(),g=Ns(),x=t==="layergroup",v=(e==null?void 0:e.mode)==="edit",y=((P=e==null?void 0:e.data)==null?void 0:P.connectionId)||(r==null?void 0:r.connectionId)||"",b=((A=e==null?void 0:e.data)==null?void 0:A.workspace)||(r==null?void 0:r.workspace)||"",{data:w,isLoading:k}=yt({queryKey:["layers",y,b],queryFn:()=>ox(y,b),enabled:x&&!!y&&!!b});S.useEffect(()=>{x&&(v&&(e!=null&&e.data)?(s(e.data.name||""),a(e.data.title||""),u(e.data.mode||"SINGLE"),h(e.data.layers||[])):(s(""),a(""),u("SINGLE"),h([])))},[x,v,e]);const O=async()=>{if(!i.trim()){m({title:"Name is required",status:"error",duration:3e3});return}if(d.length===0){m({title:"Select at least one layer",status:"error",duration:3e3});return}p(!0);try{const E=d.map(F=>`${b}:${F}`);await cle(y,b,{name:i.trim(),title:o.trim()||void 0,mode:l,layers:E}),m({title:`Layer group "${i}" created successfully`,status:"success",duration:3e3}),g.invalidateQueries({queryKey:["layergroups",y,b]}),n()}catch(E){m({title:"Failed to create layer group",description:E instanceof Error?E.message:"Unknown error",status:"error",duration:5e3})}finally{p(!1)}},C=E=>{h(F=>F.includes(E)?F.filter(H=>H!==E):[...F,E])},j=()=>{w&&(d.length===w.length?h([]):h(w.map(E=>E.name)))};return x?c.jsxs(Oi,{isOpen:x,onClose:n,size:"lg",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",maxH:"85vh",children:[c.jsx(N,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:Xu,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:v?"Edit Layer Group":"Create Layer Group"}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:b?`Workspace: ${b}`:"Select layers to group together"})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,overflowY:"auto",children:c.jsxs(ae,{spacing:5,align:"stretch",children:[c.jsxs(we,{isRequired:!0,children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Group Name"}),c.jsx(Xe,{value:i,onChange:E=>s(E.target.value),placeholder:"my_layer_group",size:"lg",borderRadius:"lg",isDisabled:v})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Title (Optional)"}),c.jsx(Xe,{value:o,onChange:E=>a(E.target.value),placeholder:"My Layer Group",size:"lg",borderRadius:"lg"})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Mode"}),c.jsxs(Ji,{value:l,onChange:E=>u(E.target.value),size:"lg",borderRadius:"lg",children:[c.jsx("option",{value:"SINGLE",children:"Single (merged into one layer)"}),c.jsx("option",{value:"NAMED",children:"Named (layers visible separately)"}),c.jsx("option",{value:"CONTAINER",children:"Container (organizational only)"}),c.jsx("option",{value:"EO",children:"EO (Earth Observation)"})]})]}),c.jsxs(we,{isRequired:!0,children:[c.jsxs(G,{justify:"space-between",mb:2,children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",mb:0,children:"Select Layers"}),c.jsxs(G,{children:[c.jsxs(De,{colorScheme:"kartoza",borderRadius:"md",px:2,children:[d.length," selected"]}),c.jsx(ge,{size:"xs",variant:"ghost",colorScheme:"kartoza",onClick:j,children:w&&d.length===w.length?"Deselect All":"Select All"})]})]}),c.jsx(N,{border:"1px solid",borderColor:"gray.200",borderRadius:"lg",maxH:"250px",overflowY:"auto",p:3,children:k?c.jsxs(G,{justify:"center",py:6,children:[c.jsx(Rr,{size:"sm",color:"kartoza.500"}),c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Loading layers..."})]}):w&&w.length>0?c.jsx(nx,{spacing:2,children:w.map(E=>c.jsx(N,{p:2,borderRadius:"md",bg:d.includes(E.name)?"kartoza.50":"transparent",_hover:{bg:"gray.50"},transition:"background 0.15s",children:c.jsx(Ks,{isChecked:d.includes(E.name),onChange:()=>C(E.name),colorScheme:"kartoza",children:c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:Kr,color:"blue.500"}),c.jsx(R,{fontSize:"sm",fontWeight:d.includes(E.name)?"500":"normal",children:E.name}),E.storeType&&c.jsx(De,{size:"sm",colorScheme:E.storeType==="coverage"?"purple":"green",fontSize:"xs",children:E.storeType==="coverage"?"Raster":"Vector"})]})})},E.name))}):c.jsxs(vi,{status:"info",borderRadius:"md",children:[c.jsx(bi,{}),c.jsx(R,{fontSize:"sm",children:"No layers available in this workspace"})]})})]})]})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:[c.jsx(ge,{variant:"ghost",onClick:n,borderRadius:"lg",children:"Cancel"}),c.jsx(ge,{colorScheme:"kartoza",onClick:O,isLoading:f,isDisabled:!i.trim()||d.length===0,borderRadius:"lg",px:6,children:v?"Save Changes":"Create Layer Group"})]})]})]}):null}function hce(){var I,Y,ie,Z,se,V,J;const t=ye(U=>U.activeDialog),e=ye(U=>U.dialogData),n=ye(U=>U.closeDialog),r=qt(U=>U.selectedNode),[i,s]=S.useState(0),[o,a]=S.useState(""),[l,u]=S.useState("image/png"),[d,h]=S.useState(0),[f,p]=S.useState(10),[m,g]=S.useState(2),[x,v]=S.useState("seed"),[y,b]=S.useState(!1),w=_s(),k=Ns(),O=t==="info"&&(e==null?void 0:e.title)==="Tile Cache",C=((I=e==null?void 0:e.data)==null?void 0:I.layerName)||"",j=((Y=e==null?void 0:e.data)==null?void 0:Y.connectionId)||(r==null?void 0:r.connectionId)||"",P=((ie=e==null?void 0:e.data)==null?void 0:ie.workspace)||(r==null?void 0:r.workspace)||"",A=P?`${P}:${C}`:C,{data:E,isLoading:F}=yt({queryKey:["gwc-layer",j,A],queryFn:()=>fle(j,A),enabled:O&&!!j&&!!A}),{data:H,refetch:_}=yt({queryKey:["gwc-seed-status",j,A],queryFn:()=>ple(j,A),enabled:O&&!!j&&!!A,refetchInterval:i===1?2e3:!1});S.useEffect(()=>{var U,Se;(U=E==null?void 0:E.gridSubsets)!=null&&U[0]&&!o&&a(E.gridSubsets[0]),(Se=E==null?void 0:E.mimeFormats)!=null&&Se[0]&&l==="image/png"&&!E.mimeFormats.includes("image/png")&&E.mimeFormats[0]&&u(E.mimeFormats[0])},[E,o,l]);const B=async()=>{if(!o||!l){w({title:"Select grid set and format",status:"error",duration:3e3});return}b(!0);try{await mle(j,A,{gridSetId:o,format:l,zoomStart:d,zoomStop:f,type:x,threadCount:m}),w({title:`${x==="seed"?"Seeding":"Reseeding"} started`,description:`Layer: ${C}`,status:"success",duration:3e3}),s(1),_()}catch(U){w({title:"Failed to start seeding",description:U instanceof Error?U.message:"Unknown error",status:"error",duration:5e3})}finally{b(!1)}},ee=async()=>{b(!0);try{await yle(j,A,{gridSetId:o||void 0,format:l||void 0,zoomStart:d,zoomStop:f}),w({title:"Cache truncated",description:`Layer: ${C}`,status:"success",duration:3e3}),k.invalidateQueries({queryKey:["gwc-layer",j,A]})}catch(U){w({title:"Failed to truncate cache",description:U instanceof Error?U.message:"Unknown error",status:"error",duration:5e3})}finally{b(!1)}},W=async()=>{try{await gle(j,A),w({title:"Seed tasks terminated",status:"success",duration:3e3}),_()}catch(U){w({title:"Failed to terminate tasks",description:U instanceof Error?U.message:"Unknown error",status:"error",duration:5e3})}},L=U=>U<0?"Unknown":U<60?`${U}s`:U<3600?`${Math.floor(U/60)}m ${U%60}s`:`${Math.floor(U/3600)}h ${Math.floor(U%3600/60)}m`,Q=U=>{switch(U){case"Running":return"blue";case"Pending":return"yellow";case"Done":return"green";case"Aborted":return"red";default:return"gray"}};return O?c.jsxs(Oi,{isOpen:O,onClose:n,size:"xl",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",maxH:"85vh",children:[c.jsx(N,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:ir,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:"Tile Cache Management"}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:A})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:4,overflowY:"auto",children:F?c.jsxs(G,{justify:"center",py:6,children:[c.jsx(Rr,{size:"sm",color:"kartoza.500"}),c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Loading cache info..."})]}):E?c.jsxs(mp,{index:i,onChange:s,colorScheme:"kartoza",children:[c.jsxs(gp,{children:[c.jsx(Hr,{children:"Seed / Truncate"}),c.jsxs(Hr,{children:["Progress",H&&H.length>0&&c.jsx(De,{ml:2,colorScheme:"blue",borderRadius:"full",children:H.length})]}),c.jsx(Hr,{children:"Info"})]}),c.jsxs(yp,{children:[c.jsx(qr,{px:0,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Grid Set"}),c.jsx(Ji,{value:o,onChange:U=>a(U.target.value),borderRadius:"lg",children:(Z=E.gridSubsets)==null?void 0:Z.map(U=>c.jsx("option",{value:U,children:U},U))})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Format"}),c.jsx(Ji,{value:l,onChange:U=>u(U.target.value),borderRadius:"lg",children:(se=E.mimeFormats)==null?void 0:se.map(U=>c.jsx("option",{value:U,children:U},U))})]}),c.jsxs(G,{spacing:4,children:[c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Zoom Start"}),c.jsxs(su,{value:d,onChange:(U,Se)=>h(Se||0),min:0,max:f,children:[c.jsx(au,{borderRadius:"lg"}),c.jsxs(ou,{children:[c.jsx(cu,{}),c.jsx(lu,{})]})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Zoom Stop"}),c.jsxs(su,{value:f,onChange:(U,Se)=>p(Se||10),min:d,max:25,children:[c.jsx(au,{borderRadius:"lg"}),c.jsxs(ou,{children:[c.jsx(cu,{}),c.jsx(lu,{})]})]})]})]}),c.jsxs(G,{spacing:4,children:[c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Operation"}),c.jsxs(Ji,{value:x,onChange:U=>v(U.target.value),borderRadius:"lg",children:[c.jsx("option",{value:"seed",children:"Seed (generate new tiles)"}),c.jsx("option",{value:"reseed",children:"Reseed (regenerate all tiles)"})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",color:"gray.700",children:"Threads"}),c.jsxs(su,{value:m,onChange:(U,Se)=>g(Se||1),min:1,max:16,children:[c.jsx(au,{borderRadius:"lg"}),c.jsxs(ou,{children:[c.jsx(cu,{}),c.jsx(lu,{})]})]})]})]}),c.jsxs(G,{spacing:3,pt:4,children:[c.jsx(ge,{leftIcon:c.jsx(X,{as:u_}),colorScheme:"kartoza",onClick:B,isLoading:y,flex:1,borderRadius:"lg",children:x==="seed"?"Seed Tiles":"Reseed Tiles"}),c.jsx(ge,{leftIcon:c.jsx(X,{as:vp}),colorScheme:"red",variant:"outline",onClick:ee,isLoading:y,flex:1,borderRadius:"lg",children:"Truncate Cache"})]})]})}),c.jsx(qr,{px:0,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[c.jsxs(G,{justify:"space-between",children:[c.jsx(R,{fontWeight:"500",color:"gray.700",children:"Running Tasks"}),c.jsxs(G,{children:[c.jsx(bn,{label:"Refresh status",children:c.jsx(_t,{"aria-label":"Refresh",icon:c.jsx(X,{as:xp}),size:"sm",variant:"ghost",onClick:()=>_()})}),H&&H.length>0&&c.jsx(ge,{leftIcon:c.jsx(X,{as:gae}),size:"sm",colorScheme:"red",variant:"outline",onClick:W,children:"Stop All"})]})]}),!H||H.length===0?c.jsxs(vi,{status:"info",borderRadius:"md",children:[c.jsx(bi,{}),c.jsx(R,{fontSize:"sm",children:"No active seeding tasks"})]}):c.jsx(N,{border:"1px solid",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",children:c.jsxs($I,{size:"sm",children:[c.jsx(Bse,{bg:"gray.50",children:c.jsxs(pA,{children:[c.jsx(ym,{children:"Status"}),c.jsx(ym,{children:"Progress"}),c.jsx(ym,{children:"Tiles"}),c.jsx(ym,{children:"ETA"})]})}),c.jsx(Nse,{children:H.map(U=>c.jsxs(pA,{children:[c.jsx(gm,{children:c.jsx(De,{colorScheme:Q(U.status),children:U.status})}),c.jsx(gm,{children:c.jsxs(ae,{spacing:1,align:"stretch",children:[c.jsx(fp,{value:U.progress,size:"sm",colorScheme:"kartoza",borderRadius:"full"}),c.jsxs(R,{fontSize:"xs",color:"gray.500",children:[U.progress.toFixed(1),"%"]})]})}),c.jsx(gm,{children:c.jsxs(R,{fontSize:"sm",children:[U.tilesDone.toLocaleString()," / ",U.tilesTotal.toLocaleString()]})}),c.jsx(gm,{children:c.jsx(R,{fontSize:"sm",children:L(U.timeRemaining)})})]},U.id))})]})})]})}),c.jsx(qr,{px:0,children:c.jsxs(ae,{spacing:3,align:"stretch",children:[c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsx(R,{fontWeight:"500",mb:2,children:"Cache Status"}),c.jsx(G,{children:c.jsx(De,{colorScheme:E.enabled?"green":"red",children:E.enabled?"Enabled":"Disabled"})})]}),c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsx(R,{fontWeight:"500",mb:2,children:"Available Grid Sets"}),c.jsx(G,{flexWrap:"wrap",gap:2,children:(V=E.gridSubsets)==null?void 0:V.map(U=>c.jsx(De,{colorScheme:"blue",variant:"subtle",children:U},U))})]}),c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsx(R,{fontWeight:"500",mb:2,children:"Supported Formats"}),c.jsx(G,{flexWrap:"wrap",gap:2,children:(J=E.mimeFormats)==null?void 0:J.map(U=>c.jsx(De,{colorScheme:"purple",variant:"subtle",children:U},U))})]})]})})]})]}):c.jsxs(vi,{status:"warning",borderRadius:"md",children:[c.jsx(bi,{}),c.jsx(R,{fontSize:"sm",children:"No cache configuration found for this layer"})]})}),c.jsx(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:c.jsx(ge,{variant:"ghost",onClick:n,borderRadius:"lg",children:"Close"})})]})]}):null}function fce(){var E,F,H,_;const t=ye(B=>B.activeDialog),e=ye(B=>B.dialogData),n=ye(B=>B.closeDialog),r=qt(B=>B.selectedNode),i=Ns(),s=_s(),[o,a]=S.useState({enabled:!0,advertised:!0,queryable:!0}),[l,u]=S.useState(""),[d,h]=S.useState([]),[f,p]=S.useState({type:"text/html",metadataType:"TC211",content:""}),m=t==="layer",g=((E=e==null?void 0:e.data)==null?void 0:E.connectionId)||(r==null?void 0:r.connectionId)||"",x=((F=e==null?void 0:e.data)==null?void 0:F.workspace)||(r==null?void 0:r.workspace)||"",v=((H=e==null?void 0:e.data)==null?void 0:H.layerName)||(r==null?void 0:r.name)||"",{data:y,isLoading:b}=yt({queryKey:["layerMetadata",g,x,v],queryFn:()=>rle(g,x,v),enabled:m&&!!g&&!!x&&!!v});S.useEffect(()=>{y&&(a({title:y.title||"",abstract:y.abstract||"",keywords:y.keywords||[],srs:y.srs||"",enabled:y.enabled,advertised:y.advertised,queryable:y.queryable,attributionTitle:y.attributionTitle||"",attributionHref:y.attributionHref||""}),h(y.metadataLinks||[]))},[y]);const w=oo({mutationFn:B=>ile(g,x,v,{...B,metadataLinks:d}),onSuccess:()=>{i.invalidateQueries({queryKey:["layerMetadata",g,x,v]}),i.invalidateQueries({queryKey:["layer",g,x,v]}),i.invalidateQueries({queryKey:["layers",g,x]}),s({title:"Layer updated",description:"Layer metadata has been updated successfully.",status:"success",duration:3e3}),n()},onError:B=>{s({title:"Error updating layer",description:B.message,status:"error",duration:5e3})}}),k=(B,ee)=>{a(W=>({...W,[B]:ee}))},O=()=>{var B;l.trim()&&!((B=o.keywords)!=null&&B.includes(l.trim()))&&(a(ee=>({...ee,keywords:[...ee.keywords||[],l.trim()]})),u(""))},C=B=>{a(ee=>{var W;return{...ee,keywords:((W=ee.keywords)==null?void 0:W.filter(L=>L!==B))||[]}})},j=()=>{f.content.trim()&&(h(B=>[...B,{...f}]),p({type:"text/html",metadataType:"TC211",content:""}))},P=B=>{h(ee=>ee.filter((W,L)=>L!==B))},A=()=>{w.mutate(o)};return m?c.jsxs(Oi,{isOpen:m,onClose:n,size:"2xl",isCentered:!0,scrollBehavior:"inside",children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",maxH:"85vh",children:[c.jsx(N,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:Kr,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:"Edit Layer Metadata"}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:v})]}),y&&c.jsx(De,{ml:"auto",colorScheme:y.storeType==="coveragestore"?"orange":"blue",px:2,py:1,borderRadius:"md",children:y.storeType==="coveragestore"?"Raster":"Vector"})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:4,overflowY:"auto",children:b?c.jsxs(ae,{py:10,children:[c.jsx(Rr,{size:"xl",color:"kartoza.500"}),c.jsx(R,{color:"gray.500",children:"Loading layer metadata..."})]}):c.jsxs(mp,{variant:"enclosed",colorScheme:"kartoza",children:[c.jsxs(gp,{children:[c.jsx(Hr,{children:c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:TO}),c.jsx(R,{children:"Basic Info"})]})}),c.jsx(Hr,{children:c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:qS}),c.jsx(R,{children:"Description"})]})}),c.jsx(Hr,{children:c.jsxs(G,{spacing:2,children:[c.jsx(X,{as:uae}),c.jsx(R,{children:"Attribution"})]})})]}),c.jsxs(yp,{children:[c.jsx(qr,{px:0,py:4,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[c.jsxs(we,{display:"flex",alignItems:"center",justifyContent:"space-between",p:3,bg:"gray.50",borderRadius:"lg",children:[c.jsxs(G,{children:[c.jsx(X,{as:Kr,color:"green.500"}),c.jsxs(N,{children:[c.jsx(ke,{mb:0,fontWeight:"500",children:"Enabled"}),c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Layer is available for use in GeoServer"})]})]}),c.jsx(si,{colorScheme:"green",size:"lg",isChecked:o.enabled,onChange:B=>k("enabled",B.target.checked)})]}),c.jsxs(we,{display:"flex",alignItems:"center",justifyContent:"space-between",p:3,bg:"gray.50",borderRadius:"lg",children:[c.jsxs(G,{children:[c.jsx(X,{as:Uu,color:"blue.500"}),c.jsxs(N,{children:[c.jsx(ke,{mb:0,fontWeight:"500",children:"Advertised"}),c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Layer appears in GetCapabilities responses"})]})]}),c.jsx(si,{colorScheme:"blue",size:"lg",isChecked:o.advertised,onChange:B=>k("advertised",B.target.checked)})]}),c.jsxs(we,{display:"flex",alignItems:"center",justifyContent:"space-between",p:3,bg:"gray.50",borderRadius:"lg",children:[c.jsxs(G,{children:[c.jsx(X,{as:mae,color:"purple.500"}),c.jsxs(N,{children:[c.jsx(ke,{mb:0,fontWeight:"500",children:"Queryable"}),c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Layer supports GetFeatureInfo requests"})]})]}),c.jsx(si,{colorScheme:"purple",size:"lg",isChecked:o.queryable,onChange:B=>k("queryable",B.target.checked)})]}),c.jsx(Et,{}),c.jsx(NC,{allowToggle:!0,children:c.jsxs(WC,{border:"none",children:[c.jsxs(BC,{bg:"gray.50",borderRadius:"lg",_hover:{bg:"gray.100"},children:[c.jsx(N,{flex:"1",textAlign:"left",children:c.jsx(R,{fontWeight:"500",color:"gray.600",children:"Data Information"})}),c.jsx(FC,{})]}),c.jsxs(VC,{pb:4,children:[c.jsxs(dt,{columns:2,spacing:4,children:[c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Workspace"}),c.jsx(R,{fontWeight:"medium",children:x})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Store"}),c.jsx(R,{fontWeight:"medium",children:(y==null?void 0:y.store)||"Unknown"})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Native Name"}),c.jsx(so,{fontSize:"sm",children:(y==null?void 0:y.nativeName)||(y==null?void 0:y.name)})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Default Style"}),c.jsx(R,{fontWeight:"medium",children:(y==null?void 0:y.defaultStyle)||"None"})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Native CRS"}),c.jsx(so,{fontSize:"sm",children:(y==null?void 0:y.nativeCRS)||"Unknown"})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Declared SRS"}),c.jsx(so,{fontSize:"sm",children:(y==null?void 0:y.srs)||"Unknown"})]})]}),(y==null?void 0:y.nativeBoundingBox)&&c.jsxs(N,{mt:4,children:[c.jsx(R,{fontSize:"xs",color:"gray.500",mb:2,children:"Native Bounding Box"}),c.jsxs(so,{display:"block",p:2,borderRadius:"md",fontSize:"xs",children:["(",y.nativeBoundingBox.minx.toFixed(4),", ",y.nativeBoundingBox.miny.toFixed(4),") - (",y.nativeBoundingBox.maxx.toFixed(4),", ",y.nativeBoundingBox.maxy.toFixed(4),")"]})]}),(y==null?void 0:y.latLonBoundingBox)&&c.jsxs(N,{mt:4,children:[c.jsx(R,{fontSize:"xs",color:"gray.500",mb:2,children:"Lat/Lon Bounding Box"}),c.jsxs(so,{display:"block",p:2,borderRadius:"md",fontSize:"xs",children:["(",y.latLonBoundingBox.minx.toFixed(4),", ",y.latLonBoundingBox.miny.toFixed(4),") - (",y.latLonBoundingBox.maxx.toFixed(4),", ",y.latLonBoundingBox.maxy.toFixed(4),")"]})]})]})]})})]})}),c.jsx(qr,{px:0,py:4,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",children:"Title"}),c.jsx(Xe,{value:o.title||"",onChange:B=>k("title",B.target.value),placeholder:"Human-readable layer title",bg:"gray.50",borderRadius:"lg"}),c.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"A short descriptive name for the layer"})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",children:"Abstract / Description"}),c.jsx(bO,{value:o.abstract||"",onChange:B=>k("abstract",B.target.value),placeholder:"Detailed description of the layer content, purpose, and data source...",bg:"gray.50",borderRadius:"lg",rows:4}),c.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"A longer description of the layer for metadata and documentation"})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",children:"Keywords"}),c.jsxs(G,{children:[c.jsx(Xe,{value:l,onChange:B=>u(B.target.value),placeholder:"Add a keyword...",bg:"gray.50",borderRadius:"lg",onKeyPress:B=>B.key==="Enter"&&O()}),c.jsx(_t,{"aria-label":"Add keyword",icon:c.jsx(Br,{}),colorScheme:"kartoza",onClick:O,borderRadius:"lg"})]}),c.jsx(VI,{mt:2,spacing:2,children:(_=o.keywords)==null?void 0:_.map(B=>c.jsx(SO,{children:c.jsxs(NI,{size:"md",colorScheme:"blue",borderRadius:"full",children:[c.jsx(BI,{children:B}),c.jsx(WI,{onClick:()=>C(B)})]})},B))}),c.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"Keywords help users find this layer in searches"})]})]})}),c.jsx(qr,{px:0,py:4,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[c.jsx(N,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderLeftColor:"blue.400",children:c.jsxs(R,{fontSize:"sm",color:"blue.700",children:[c.jsx("strong",{children:"Attribution"})," provides credit to the data source and is displayed in WMS GetCapabilities and map clients."]})}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",children:"Attribution Title"}),c.jsx(Xe,{value:o.attributionTitle||"",onChange:B=>k("attributionTitle",B.target.value),placeholder:"e.g., Data provided by...",bg:"gray.50",borderRadius:"lg"})]}),c.jsxs(we,{children:[c.jsx(ke,{fontWeight:"500",children:"Attribution Link (URL)"}),c.jsx(Xe,{value:o.attributionHref||"",onChange:B=>k("attributionHref",B.target.value),placeholder:"https://example.com/data-source",bg:"gray.50",borderRadius:"lg"})]}),c.jsx(Et,{}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"500",mb:3,children:"Metadata Links"}),c.jsx(R,{fontSize:"xs",color:"gray.500",mb:3,children:"Links to external metadata documents (ISO 19115, FGDC, etc.)"}),d.length>0&&c.jsx(ae,{spacing:2,mb:4,align:"stretch",children:d.map((B,ee)=>c.jsxs(G,{p:3,bg:"gray.50",borderRadius:"lg",justify:"space-between",children:[c.jsxs(ae,{align:"start",spacing:0,children:[c.jsxs(G,{children:[c.jsx(De,{colorScheme:"purple",children:B.metadataType}),c.jsx(De,{colorScheme:"gray",children:B.type})]}),c.jsx(R,{fontSize:"sm",color:"gray.600",isTruncated:!0,maxW:"300px",children:B.content})]}),c.jsx(_t,{"aria-label":"Remove link",icon:c.jsx(vp,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>P(ee)})]},ee))}),c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsx(R,{fontWeight:"500",fontSize:"sm",mb:3,children:"Add Metadata Link"}),c.jsxs(ae,{spacing:3,children:[c.jsxs(G,{w:"100%",children:[c.jsxs(we,{flex:1,children:[c.jsx(ke,{fontSize:"xs",children:"Type"}),c.jsx(Xe,{size:"sm",value:f.type,onChange:B=>p({...f,type:B.target.value}),placeholder:"text/html"})]}),c.jsxs(we,{flex:1,children:[c.jsx(ke,{fontSize:"xs",children:"Metadata Type"}),c.jsx(Xe,{size:"sm",value:f.metadataType,onChange:B=>p({...f,metadataType:B.target.value}),placeholder:"TC211"})]})]}),c.jsxs(we,{children:[c.jsx(ke,{fontSize:"xs",children:"URL"}),c.jsxs(G,{children:[c.jsx(Xe,{size:"sm",value:f.content,onChange:B=>p({...f,content:B.target.value}),placeholder:"https://example.com/metadata.xml"}),c.jsx(_t,{"aria-label":"Add link",icon:c.jsx(Br,{}),size:"sm",colorScheme:"kartoza",onClick:j})]})]})]})]})]})]})})]})]})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:[c.jsx(ge,{variant:"ghost",onClick:n,borderRadius:"lg",children:"Cancel"}),c.jsx(ge,{colorScheme:"kartoza",onClick:A,isLoading:w.isPending,borderRadius:"lg",px:6,children:"Save Changes"})]})]})]}):null}function pce(){var f,p,m;const t=ye(g=>g.activeDialog),e=ye(g=>g.dialogData),n=ye(g=>g.closeDialog),r=qt(g=>g.selectedNode),i=t==="datastore"||t==="coveragestore",s=t==="datastore",o=(e==null?void 0:e.mode)==="edit",a=((f=e==null?void 0:e.data)==null?void 0:f.connectionId)||(r==null?void 0:r.connectionId)||"",l=((p=e==null?void 0:e.data)==null?void 0:p.workspace)||(r==null?void 0:r.workspace)||"",u=((m=e==null?void 0:e.data)==null?void 0:m.storeName)||(r==null?void 0:r.name)||"",{data:d,isLoading:h}=yt({queryKey:[s?"datastores":"coveragestores",a,l,u],queryFn:()=>s?b_(a,l,u):S_(a,l,u),enabled:i&&o&&!!a&&!!l&&!!u});return i?c.jsxs(Oi,{isOpen:i,onClose:n,size:"xl",isCentered:!0,children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{borderRadius:"xl",overflow:"hidden",maxH:"85vh",children:[c.jsx(N,{bg:s?"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)":"linear-gradient(135deg, #D4922A 0%, #E8A331 100%)",px:6,py:4,children:c.jsxs(G,{spacing:3,children:[c.jsx(N,{bg:"whiteAlpha.200",p:2,borderRadius:"lg",children:c.jsx(X,{as:s?ir:Ql,boxSize:5,color:"white"})}),c.jsxs(N,{children:[c.jsx(R,{color:"white",fontWeight:"600",fontSize:"lg",children:s?"Data Store Details":"Coverage Store Details"}),c.jsx(R,{color:"whiteAlpha.800",fontSize:"sm",children:u})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,overflowY:"auto",children:h?c.jsxs(ae,{py:10,children:[c.jsx(Rr,{size:"xl",color:"kartoza.500"}),c.jsx(R,{color:"gray.500",children:"Loading store details..."})]}):d?c.jsxs(ae,{spacing:6,align:"stretch",children:[c.jsxs(N,{p:4,bg:"gray.50",borderRadius:"lg",children:[c.jsxs(G,{mb:3,children:[c.jsx(X,{as:TO,color:"kartoza.500"}),c.jsx(R,{fontWeight:"bold",color:"gray.600",children:"Store Information"})]}),c.jsxs(dt,{columns:{base:1,md:2},spacing:4,children:[c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Name"}),c.jsx(R,{fontWeight:"medium",children:d.name})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Type"}),c.jsxs(G,{children:[c.jsx(R,{fontWeight:"medium",children:d.type||"Unknown"}),c.jsx(De,{colorScheme:s?"blue":"orange",children:s?"Vector":"Raster"})]})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Workspace"}),c.jsxs(G,{children:[c.jsx(X,{as:Gu,color:"gray.400",boxSize:4}),c.jsx(R,{fontWeight:"medium",children:l})]})]}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"xs",color:"gray.500",children:"Status"}),c.jsx(De,{colorScheme:d.enabled?"green":"gray",fontSize:"sm",children:d.enabled?"Enabled":"Disabled"})]})]})]}),!s&&d.description&&c.jsxs(c.Fragment,{children:[c.jsx(Et,{}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"bold",color:"gray.600",mb:2,children:"Description"}),c.jsx(R,{color:"gray.600",children:d.description})]})]}),c.jsx(NC,{allowToggle:!0,children:c.jsxs(WC,{border:"none",children:[c.jsxs(BC,{bg:"gray.50",borderRadius:"lg",_hover:{bg:"gray.100"},children:[c.jsx(N,{flex:"1",textAlign:"left",children:c.jsx(R,{fontWeight:"500",color:"gray.600",children:"Technical Details"})}),c.jsx(FC,{})]}),c.jsx(VC,{pb:4,children:c.jsxs(ae,{align:"stretch",spacing:2,children:[c.jsxs(G,{justify:"space-between",children:[c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Store Type:"}),c.jsx(so,{fontSize:"sm",children:d.type||"Unknown"})]}),c.jsxs(G,{justify:"space-between",children:[c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Workspace:"}),c.jsx(so,{fontSize:"sm",children:l})]}),c.jsxs(G,{justify:"space-between",children:[c.jsx(R,{fontSize:"sm",color:"gray.500",children:"Enabled:"}),c.jsx(so,{fontSize:"sm",children:d.enabled?"true":"false"})]})]})})]})}),c.jsx(N,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderLeftColor:"blue.400",children:c.jsxs(R,{fontSize:"sm",color:"blue.700",children:[c.jsx("strong",{children:"Note:"})," Store configuration (connection parameters, file paths, etc.) can be modified through the GeoServer admin interface. This view shows the current store metadata."]})})]}):c.jsx(ae,{py:10,children:c.jsx(R,{color:"gray.500",children:"Store not found"})})}),c.jsx(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.100",bg:"gray.50",children:c.jsx(ge,{colorScheme:"kartoza",onClick:n,borderRadius:"lg",px:6,children:"Close"})})]})]}):null}const NA=ar`
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.3); opacity: 0.6; }
  100% { transform: scale(1.6); opacity: 0; }
`,mce=ar`
  0% { transform: scale(1.6); opacity: 0; }
  50% { transform: scale(1.3); opacity: 0.6; }
  100% { transform: scale(1); opacity: 1; }
`,ib=ar`
  0% { transform: translateX(-10px); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateX(10px); opacity: 0; }
`,gce=ar`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,yce=ar`
  0%, 100% { box-shadow: 0 0 5px rgba(56, 178, 172, 0.3); }
  50% { box-shadow: 0 0 20px rgba(56, 178, 172, 0.6); }
`;function xce({connection:t,isSelected:e,onSelect:n,isHovered:r,onHover:i}){return c.jsxs(N,{position:"relative",p:4,bg:e?"green.50":"gray.50",borderRadius:"lg",border:"2px solid",borderColor:e?"green.400":r?"green.300":"gray.200",cursor:"pointer",transition:"all 0.3s ease",onClick:n,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),_hover:{borderColor:"green.300",bg:"green.50"},children:[(r||e)&&c.jsxs(c.Fragment,{children:[c.jsx(N,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",w:"60px",h:"60px",borderRadius:"full",border:"2px solid",borderColor:"green.300",css:Zi`animation: ${NA} 1.5s ease-out infinite;`}),c.jsx(N,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",w:"60px",h:"60px",borderRadius:"full",border:"2px solid",borderColor:"green.300",css:Zi`animation: ${NA} 1.5s ease-out infinite 0.5s;`})]}),c.jsxs(ae,{spacing:2,position:"relative",zIndex:1,children:[c.jsxs(N,{position:"relative",children:[c.jsx(X,{as:tc,w:10,h:10,color:e?"green.500":"gray.400"}),e&&c.jsx(X,{as:bf,position:"absolute",bottom:-1,right:-1,w:4,h:4,color:"green.500",bg:"white",borderRadius:"full"})]}),c.jsx(R,{fontWeight:"bold",fontSize:"sm",textAlign:"center",noOfLines:1,children:(t==null?void 0:t.name)||"No server"}),c.jsx(De,{colorScheme:"green",fontSize:"xs",children:"SOURCE"})]})]})}function vce({connection:t,isRunning:e,task:n,onRemove:r,onStop:i}){const s=(n==null?void 0:n.progress)||0;return c.jsxs(N,{position:"relative",p:4,bg:e?"blue.50":(n==null?void 0:n.status)==="completed"?"green.50":(n==null?void 0:n.status)==="failed"?"red.50":"gray.50",borderRadius:"lg",border:"2px solid",borderColor:e?"blue.400":(n==null?void 0:n.status)==="completed"?"green.400":(n==null?void 0:n.status)==="failed"?"red.400":"gray.200",transition:"all 0.3s ease",css:e?Zi`animation: ${yce} 2s ease-in-out infinite;`:void 0,children:[e&&c.jsx(N,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",w:"60px",h:"60px",borderRadius:"full",border:"2px solid",borderColor:"blue.300",css:Zi`animation: ${mce} 1.5s ease-in infinite;`}),c.jsxs(ae,{spacing:2,position:"relative",zIndex:1,children:[c.jsxs(N,{position:"relative",children:[c.jsx(X,{as:ir,w:10,h:10,color:e?"blue.500":(n==null?void 0:n.status)==="completed"?"green.500":(n==null?void 0:n.status)==="failed"?"red.500":"gray.400",css:e?Zi`animation: ${gce} 2s linear infinite;`:void 0}),(n==null?void 0:n.status)==="completed"&&c.jsx(X,{as:bf,position:"absolute",bottom:-1,right:-1,w:4,h:4,color:"green.500",bg:"white",borderRadius:"full"}),(n==null?void 0:n.status)==="failed"&&c.jsx(X,{as:AO,position:"absolute",bottom:-1,right:-1,w:4,h:4,color:"red.500",bg:"white",borderRadius:"full"})]}),c.jsx(R,{fontWeight:"bold",fontSize:"sm",textAlign:"center",noOfLines:1,children:t.name}),c.jsx(De,{colorScheme:"blue",fontSize:"xs",children:"DESTINATION"}),(e||n)&&c.jsxs(N,{w:"100%",mt:2,children:[c.jsx(fp,{value:s,size:"sm",colorScheme:(n==null?void 0:n.status)==="failed"?"red":(n==null?void 0:n.status)==="completed"?"green":"blue",borderRadius:"full",hasStripe:e,isAnimated:e}),c.jsx(R,{fontSize:"xs",color:"gray.500",textAlign:"center",mt:1,children:(n==null?void 0:n.currentItem)||`${s}%`})]}),c.jsx(G,{spacing:1,mt:2,children:e?c.jsx(bn,{label:"Stop sync",children:c.jsx(_t,{"aria-label":"Stop sync",icon:c.jsx(h_,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:o=>{o.stopPropagation(),i()}})}):c.jsx(bn,{label:"Remove",children:c.jsx(_t,{"aria-label":"Remove destination",icon:c.jsx(vp,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:o=>{o.stopPropagation(),r()}})})})]})]})}function bce({isActive:t}){return c.jsxs(N,{position:"relative",minW:"80px",display:"flex",alignItems:"center",justifyContent:"center",children:[c.jsx(N,{h:"2px",flex:1,bg:t?"blue.400":"gray.300",transition:"background 0.3s ease"}),t&&c.jsxs(c.Fragment,{children:[c.jsx(X,{as:nh,position:"absolute",color:"blue.500",css:Zi`animation: ${ib} 1s ease-in-out infinite;`}),c.jsx(X,{as:nh,position:"absolute",color:"blue.500",css:Zi`animation: ${ib} 1s ease-in-out infinite 0.33s;`}),c.jsx(X,{as:nh,position:"absolute",color:"blue.500",css:Zi`animation: ${ib} 1s ease-in-out infinite 0.66s;`})]}),!t&&c.jsx(X,{as:nh,position:"absolute",color:"gray.400"})]})}function Sce({options:t,onChange:e}){const{isOpen:n,onToggle:r}=Yf({defaultIsOpen:!0}),i=s=>{e({...t,[s]:!t[s]})};return c.jsxs(N,{bg:"gray.50",borderRadius:"md",p:3,children:[c.jsxs(ct,{justify:"space-between",align:"center",cursor:"pointer",onClick:r,children:[c.jsxs(G,{children:[c.jsx(X,{as:hae,color:"kartoza.500"}),c.jsx(R,{fontWeight:"bold",fontSize:"sm",children:"Sync Options"})]}),c.jsx(X,{as:n?o_:PO})]}),c.jsx(ap,{in:n,children:c.jsxs(dt,{columns:3,gap:3,mt:3,children:[c.jsx(Ks,{isChecked:t.workspaces,onChange:()=>i("workspaces"),colorScheme:"kartoza",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:Gu,color:"yellow.500",boxSize:3}),c.jsx(R,{fontSize:"sm",children:"Workspaces"})]})}),c.jsx(Ks,{isChecked:t.datastores,onChange:()=>i("datastores"),colorScheme:"kartoza",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:ir,color:"blue.500",boxSize:3}),c.jsx(R,{fontSize:"sm",children:"Data Stores"})]})}),c.jsx(Ks,{isChecked:t.coveragestores,onChange:()=>i("coveragestores"),colorScheme:"kartoza",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:Ql,color:"green.500",boxSize:3}),c.jsx(R,{fontSize:"sm",children:"Coverage Stores"})]})}),c.jsx(Ks,{isChecked:t.layers,onChange:()=>i("layers"),colorScheme:"kartoza",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:Kr,color:"purple.500",boxSize:3}),c.jsx(R,{fontSize:"sm",children:"Layers"})]})}),c.jsx(Ks,{isChecked:t.styles,onChange:()=>i("styles"),colorScheme:"kartoza",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:Vl,color:"pink.500",boxSize:3}),c.jsx(R,{fontSize:"sm",children:"Styles"})]})}),c.jsx(Ks,{isChecked:t.layergroups,onChange:()=>i("layergroups"),colorScheme:"kartoza",children:c.jsxs(G,{spacing:1,children:[c.jsx(X,{as:Xu,color:"orange.500",boxSize:3}),c.jsx(R,{fontSize:"sm",children:"Layer Groups"})]})})]})})]})}function wce({tasks:t}){const e=S.useRef(null),{isOpen:n,onToggle:r}=Yf({defaultIsOpen:!1}),i=t.flatMap(o=>o.log||[]);S.useEffect(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},[i.length]);const s=o=>{o.stopPropagation(),t.forEach(a=>{a.id&&Ele(a.id)})};return t.length===0?null:c.jsxs(N,{bg:"gray.900",borderRadius:"md",overflow:"hidden",children:[c.jsxs(ct,{justify:"space-between",align:"center",p:2,bg:"gray.800",cursor:"pointer",onClick:r,children:[c.jsxs(G,{children:[c.jsx(X,{as:r_,color:"green.400"}),c.jsx(R,{fontWeight:"bold",fontSize:"sm",color:"white",children:"Activity Log"}),c.jsxs(De,{colorScheme:"green",fontSize:"xs",children:[i.length," entries"]})]}),c.jsxs(G,{children:[i.length>0&&c.jsx(bn,{label:"Download Logs",fontSize:"xs",children:c.jsx(_t,{"aria-label":"Download logs",icon:c.jsx(l_,{size:14}),size:"xs",variant:"ghost",colorScheme:"green",onClick:s})}),c.jsx(X,{as:n?o_:PO,color:"white"})]})]}),c.jsx(ap,{in:n,children:c.jsxs(N,{ref:e,maxH:"150px",overflowY:"auto",p:2,fontFamily:"mono",fontSize:"xs",css:{"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"gray.600",borderRadius:"3px"}},children:[i.map((o,a)=>c.jsx(R,{color:"green.300",mb:.5,children:o},a)),i.length===0&&c.jsx(R,{color:"gray.500",children:"Waiting for activity..."})]})})]})}function kce(){const t=_s(),e=ye(I=>I.activeDialog),n=ye(I=>I.closeDialog),r=Yn(I=>I.connections),i=e==="sync",[s,o]=S.useState(null),[a,l]=S.useState([]),[u,d]=S.useState({workspaces:!0,datastores:!0,coveragestores:!0,layers:!0,styles:!0,layergroups:!0}),[h,f]=S.useState(!1),[p,m]=S.useState(""),[g,x]=S.useState(null),{data:v=[],refetch:y}=yt({queryKey:["syncConfigs"],queryFn:ble,enabled:i}),{data:b=[],refetch:w}=yt({queryKey:["syncStatus"],queryFn:Cle,enabled:i,refetchInterval:1e3}),k=b.some(I=>I.status==="running"),O=oo({mutationFn:I=>kle(I),onSuccess:()=>{t({title:"Sync started",description:"Synchronization has been initiated.",status:"success",duration:3e3}),w()},onError:I=>{t({title:"Failed to start sync",description:I.message,status:"error",duration:5e3})}}),C=oo({mutationFn:I=>Ole(I),onSuccess:()=>{t({title:"Sync stopped",status:"info",duration:2e3}),w()}}),j=oo({mutationFn:jle,onSuccess:()=>{t({title:"All syncs stopped",status:"info",duration:2e3}),w()}}),P=oo({mutationFn:I=>Sle(I),onSuccess:()=>{t({title:"Configuration saved",status:"success",duration:2e3}),y(),m("")},onError:I=>{t({title:"Failed to save configuration",description:I.message,status:"error",duration:5e3})}}),A=oo({mutationFn:I=>wle(I),onSuccess:()=>{t({title:"Configuration deleted",status:"info",duration:2e3}),y(),x(null)}}),E=()=>{if(!s||a.length===0){t({title:"Configuration incomplete",description:"Please select a source and at least one destination.",status:"warning",duration:3e3});return}O.mutate({sourceId:s,destinationIds:a,options:u})},F=()=>{if(!p||!s||a.length===0){t({title:"Cannot save",description:"Please provide a name and complete the sync configuration.",status:"warning",duration:3e3});return}P.mutate({name:p,source_id:s,destination_ids:a,options:u})},H=I=>{console.log("Loading sync config:",I),console.log("Available connections:",r.map(J=>({id:J.id,name:J.name})));const Y=I.source_id&&I.source_id.trim()!==""?I.source_id:null;o(Y);const ie=(I.destination_ids||[]).filter(J=>J&&J.trim()!=="");l(ie),d({...{workspaces:!0,datastores:!0,coveragestores:!0,layers:!0,styles:!0,layergroups:!0},...I.options||{}}),x(I.id),m(I.name);const se=Y?r.find(J=>J.id===Y):null,V=ie.filter(J=>!r.find(U=>U.id===J));Y&&!se&&t({title:"Source connection not found",description:`The saved source connection (${Y}) may have been deleted.`,status:"warning",duration:5e3}),V.length>0&&t({title:"Some destination connections not found",description:`${V.length} destination(s) may have been deleted.`,status:"warning",duration:5e3})},_=I=>{if(I===s){t({title:"Invalid selection",description:"Cannot sync to the same server.",status:"warning",duration:2e3});return}a.includes(I)||l([...a,I])},B=I=>{l(a.filter(Y=>Y!==I))},ee=I=>r.find(Y=>Y.id===I),W=s?ee(s):null,L=r.filter(I=>I.id!==s&&!a.includes(I.id)),Q=I=>b.find(Y=>Y.destId===I&&Y.sourceId===s);return c.jsxs(Oi,{isOpen:i,onClose:n,size:"6xl",scrollBehavior:"inside",children:[c.jsx(Ei,{backdropFilter:"blur(4px)"}),c.jsxs(ji,{maxH:"90vh",children:[c.jsxs(yO,{bg:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 100%)",color:"white",borderTopRadius:"md",children:[c.jsxs(G,{children:[c.jsx(X,{as:xp}),c.jsx(R,{children:"Sync Servers"})]}),c.jsx(R,{fontSize:"sm",fontWeight:"normal",opacity:.9,children:"Replicate resources between GeoServer instances"})]}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{py:6,children:c.jsxs(ae,{spacing:6,align:"stretch",children:[v.length>0&&c.jsx(N,{children:c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",fontWeight:"bold",children:c.jsxs(G,{children:[c.jsx(X,{as:jg}),c.jsx(R,{children:"Saved Configurations"})]})}),c.jsxs(G,{children:[c.jsx(Ji,{placeholder:"Select a saved configuration...",value:g||"",onChange:I=>{const Y=v.find(ie=>ie.id===I.target.value);Y&&H(Y)},size:"sm",children:v.map(I=>c.jsxs("option",{value:I.id,children:[I.name," (Last sync: ",I.last_synced_at||"Never",")"]},I.id))}),g&&c.jsx(bn,{label:"Delete configuration",children:c.jsx(_t,{"aria-label":"Delete configuration",icon:c.jsx(vp,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>A.mutate(g)})})]})]})}),c.jsxs(ct,{gap:4,align:"stretch",wrap:"wrap",justify:"center",children:[c.jsxs(N,{flex:"1",minW:"250px",children:[c.jsx(R,{fontWeight:"bold",fontSize:"sm",mb:2,color:"green.600",children:c.jsxs(G,{children:[c.jsx(X,{as:nh}),c.jsx(R,{children:"Source (Read Only)"})]})}),c.jsxs(ae,{spacing:3,children:[c.jsx(Ji,{placeholder:"Select source server...",value:s||"",onChange:I=>o(I.target.value||null),size:"sm",children:r.map(I=>c.jsx("option",{value:I.id,children:I.name},I.id))}),W&&c.jsx(xce,{connection:W,isSelected:!0,onSelect:()=>{},isHovered:h,onHover:f})]})]}),c.jsx(ct,{align:"center",minW:"100px",justify:"center",children:c.jsx(bce,{isActive:k})}),c.jsxs(N,{flex:"2",minW:"350px",children:[c.jsx(R,{fontWeight:"bold",fontSize:"sm",mb:2,color:"blue.600",children:c.jsxs(G,{children:[c.jsx(X,{as:Joe}),c.jsx(R,{children:"Destinations (Receivers)"})]})}),c.jsx(G,{mb:3,children:c.jsx(Ji,{placeholder:"Add destination server...",onChange:I=>{I.target.value&&(_(I.target.value),I.target.value="")},size:"sm",isDisabled:!s||L.length===0,children:L.map(I=>c.jsx("option",{value:I.id,children:I.name},I.id))})}),a.length>0?c.jsx(dt,{columns:{base:1,md:2,lg:3},spacing:3,children:a.map(I=>{const Y=ee(I);if(!Y)return null;const ie=Q(I),Z=(ie==null?void 0:ie.status)==="running";return c.jsx(vce,{connection:Y,isRunning:Z,task:ie,onRemove:()=>B(I),onStop:()=>ie&&C.mutate(ie.id)},I)})}):c.jsxs(N,{p:8,border:"2px dashed",borderColor:"gray.300",borderRadius:"lg",textAlign:"center",children:[c.jsx(X,{as:fae,w:10,h:10,color:"gray.300",mb:2}),c.jsx(R,{color:"gray.500",fontSize:"sm",children:"Select destination servers from the dropdown above"})]})]})]}),c.jsx(Et,{}),c.jsx(Sce,{options:u,onChange:d}),c.jsx(wce,{tasks:b}),c.jsx(N,{bg:"gray.50",borderRadius:"md",p:3,children:c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",fontWeight:"bold",children:c.jsxs(G,{children:[c.jsx(X,{as:jg,color:"kartoza.500"}),c.jsx(R,{children:"Save Configuration"})]})}),c.jsxs(G,{children:[c.jsx(Xe,{placeholder:"Configuration name...",value:p,onChange:I=>m(I.target.value),size:"sm"}),c.jsx(ge,{leftIcon:c.jsx(jg,{}),colorScheme:"kartoza",size:"sm",onClick:F,isDisabled:!p||!s||a.length===0,isLoading:P.isPending,children:"Save"})]})]})})]})}),c.jsx(Ai,{borderTop:"1px",borderColor:"gray.200",bg:"gray.50",children:c.jsxs(G,{spacing:3,w:"100%",justify:"space-between",children:[k&&c.jsx(ge,{leftIcon:c.jsx(EO,{}),colorScheme:"red",variant:"outline",onClick:()=>j.mutate(),isLoading:j.isPending,children:"Stop All"}),c.jsxs(G,{spacing:3,ml:"auto",children:[c.jsx(ge,{variant:"ghost",onClick:n,children:"Close"}),c.jsx(ge,{leftIcon:k?c.jsx(Rr,{size:"sm"}):c.jsx(u_,{}),colorScheme:"kartoza",size:"lg",onClick:E,isDisabled:!s||a.length===0||k,isLoading:O.isPending,px:8,_hover:{transform:"scale(1.02)",boxShadow:"lg"},transition:"all 0.2s ease",children:k?"Syncing...":"Start Sync"})]})]})})]})]})}let GS=[],P_=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?P_:GS).push(n=n+t[e])})();function Cce(t){if(t<768)return!1;for(let e=0,n=GS.length;;){let r=e+n>>1;if(t<GS[r])n=r;else if(t>=P_[r])e=r+1;else return!0;if(e==n)return!1}}function BA(t){return t>=127462&&t<=127487}const FA=8205;function Oce(t,e,n=!0,r=!0){return(n?T_:jce)(t,e,r)}function T_(t,e,n){if(e==t.length)return e;e&&A_(t.charCodeAt(e))&&E_(t.charCodeAt(e-1))&&e--;let r=sb(t,e);for(e+=WA(r);e<t.length;){let i=sb(t,e);if(r==FA||i==FA||n&&Cce(i))e+=WA(i),r=i;else if(BA(i)){let s=0,o=e-2;for(;o>=0&&BA(sb(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function jce(t,e,n){for(;e>0;){let r=T_(t,e-2,n);if(r<e)return r;e--}return 0}function sb(t,e){let n=t.charCodeAt(e);if(!E_(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return A_(r)?(n-55296<<10)+(r-56320)+65536:n}function A_(t){return t>=56320&&t<57344}function E_(t){return t>=55296&&t<56320}function WA(t){return t<65536?1:2}class et{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Yu(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),ws.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Yu(this,e,n);let r=[];return this.decompose(e,n,r,0),ws.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Eh(this),s=new Eh(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Eh(this,e)}iterRange(e,n=this.length){return new M_(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new R_(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?et.empty:e.length<=32?new Gt(e):ws.from(Gt.split(e,[]))}}class Gt extends et{constructor(e,n=Pce(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new Tce(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new Gt(VA(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Pg(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new Gt(a,o.length+s.length));else{let l=a.length>>1;r.push(new Gt(a.slice(0,l)),new Gt(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof Gt))return super.replace(e,n,r);[e,n]=Yu(this,e,n);let i=Pg(this.text,Pg(r.text,VA(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new Gt(i,s):ws.from(Gt.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Yu(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new Gt(r,i)),r=[],i=-1);return i>-1&&n.push(new Gt(r,i)),n}}class ws extends et{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if([e,n]=Yu(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let d=this.children.slice();return d[i]=l,new ws(d,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Yu(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof ws))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let m of e)m.flatten(p);return new Gt(p,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,d=[];function h(p){let m;if(p.lines>s&&p instanceof ws)for(let g of p.children)h(g);else p.lines>o&&(l>o||!l)?(f(),a.push(p)):p instanceof Gt&&l&&(m=d[d.length-1])instanceof Gt&&p.lines+m.lines<=32?(l+=p.lines,u+=p.length+1,d[d.length-1]=new Gt(m.text.concat(p.text),m.length+1+p.length)):(l+p.lines>i&&f(),l+=p.lines,u+=p.length+1,d.push(p))}function f(){l!=0&&(a.push(d.length==1?d[0]:ws.from(d,u)),u=-1,l=d.length=0)}for(let p of e)h(p);return f(),a.length==1?a[0]:new ws(a,n)}}et.empty=new Gt([""],0);function Pce(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Pg(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function VA(t,e,n){return Pg(t,[""],e,n)}class Eh{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Gt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof Gt?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Gt){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Gt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class M_{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Eh(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class R_{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(et.prototype[Symbol.iterator]=function(){return this.iter()},Eh.prototype[Symbol.iterator]=M_.prototype[Symbol.iterator]=R_.prototype[Symbol.iterator]=function(){return this});class Tce{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Yu(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function hn(t,e,n=!0,r=!0){return Oce(t,e,n,r)}function Ace(t){return t>=56320&&t<57344}function Ece(t){return t>=55296&&t<56320}function fr(t,e){let n=t.charCodeAt(e);if(!Ece(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Ace(r)?(n-55296<<10)+(r-56320)+65536:n}function DO(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ks(t){return t<65536?1:2}const XS=/\r\n?|\n/;var Zn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Zn||(Zn={}));class Ds{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){KS(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Ds(e)}composeDesc(e){return this.empty?e:e.empty?this:z_(this,e)}mapDesc(e,n=!1){return e.empty?this:YS(this,e,n)}mapPos(e,n=-1,r=Zn.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=Zn.Simple&&u>=e&&(r==Zn.TrackDel&&i<e&&u>e||r==Zn.TrackBefore&&i<e||r==Zn.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ds(e)}static create(e){return new Ds(e)}}class cn extends Ds{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return KS(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return YS(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(et.empty);r.push(o?e.slice(s,s+o):et.empty)}s+=o}return new cn(n,r)}compose(e){return this.empty?e:e.empty?this:z_(this,e,!0)}map(e,n=!1){return e.empty?this:YS(this,e,n,!0)}iterChanges(e,n=!1){KS(this,e,n)}get desc(){return Ds.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Sf(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,l-a);Fn(i,d,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;Fn(n,d,h),h>0&&da(r,n,s.text),s.forward(d),a+=d}let u=e[o++];for(;a<u;){if(s.done)break e;let d=Math.min(s.len,u-a);Fn(n,d,-1),Fn(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),a+=d}}return{changes:new cn(n,r),filtered:Ds.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(d=!1){if(!d&&!i.length)return;o<n&&Fn(i,n-o,-1);let h=new cn(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function u(d){if(Array.isArray(d))for(let h of d)u(h);else if(d instanceof cn){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);l(),a=a?a.compose(d.map(a)):d}else{let{from:h,to:f=h,insert:p}=d;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let m=p?typeof p=="string"?et.of(p.split(r||XS)):p:et.empty,g=m.length;if(h==f&&g==0)return;h<o&&l(),h>o&&Fn(i,h-o,-1),Fn(i,f-h,g),da(s,i,m),o=f}}return u(e),l(!a),a}static empty(e){return new cn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(et.empty);r[i]=et.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new cn(n,r)}static createSet(e,n){return new cn(e,n)}}function Fn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function da(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(et.empty);t.push(n)}}function KS(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,d=s,h=et.empty;for(;u+=a,d+=l,l&&r&&(h=h.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,d,h),i=u,s=d}}}function YS(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Sf(t),a=new Sf(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);Fn(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(Fn(i,a.ins,-1);u;){let d=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=d&&(Fn(i,0,o.ins),s&&da(s,i,o.text),l=o.i),o.forward(d),u-=d}a.next()}else if(o.ins>=0){let u=0,d=o.len;for(;d;)if(a.ins==-1){let h=Math.min(d,a.len);u+=h,d-=h,a.forward(h)}else if(a.ins==0&&a.len<d)d-=a.len,a.next();else break;Fn(i,u,l<o.i?o.ins:0),s&&l<o.i&&da(s,i,o.text),l=o.i,o.forward(o.len-d)}else{if(o.done&&a.done)return s?cn.createSet(i,s):Ds.create(i);throw new Error("Mismatched change set lengths")}}}function z_(t,e,n=!1){let r=[],i=n?[]:null,s=new Sf(t),o=new Sf(e);for(let a=!1;;){if(s.done&&o.done)return i?cn.createSet(r,i):Ds.create(r);if(s.ins==0)Fn(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Fn(r,0,o.ins,a),i&&da(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let d=o.ins==-1?-1:o.off?0:o.ins;Fn(r,l,d,a),i&&d&&da(i,r,o.text)}else o.ins==-1?(Fn(r,s.off?0:s.len,l,a),i&&da(i,r,s.textBit(l))):(Fn(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&da(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Sf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?et.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?et.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class al{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new al(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return K.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return K.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return K.range(e.anchor,e.head)}static create(e,n,r){return new al(e,n,r)}}class K{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:K.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new K([this.main],0)}addRange(e,n=!0){return K.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,K.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new K(e.ranges.map(n=>al.fromJSON(n)),e.main)}static single(e,n=e){return new K([K.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return K.normalized(e.slice(),n);r=s.to}return new K(e,n)}static cursor(e,n=0,r,i){return al.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?al.create(n,e,48|s):al.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?K.range(l,a):K.range(a,l))}}return new K(e,n)}}function D_(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let $O=0;class me{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=$O++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new me(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:LO),!!e.static,e.enables)}of(e){return new Tg([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Tg(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Tg(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function LO(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Tg{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=$O++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,d=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||d.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||ZS(h,d)){let p=r(h);if(a?!QA(p,h.values[o],i):!i(p,h.values[o]))return h.values[o]=p,1}return 0},reconfigure:(h,f)=>{let p,m=f.config.address[s];if(m!=null){let g=T0(f,m);if(this.dependencies.every(x=>x instanceof me?f.facet(x)===h.facet(x):x instanceof Rn?f.field(x,!1)==h.field(x,!1):!0)||(a?QA(p=r(h),g,i):i(p=r(h),g)))return h.values[o]=g,0}else p=r(h);return h.values[o]=p,1}}}}function QA(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function ZS(t,e){let n=!1;for(let r of e)Mh(t,r)&1&&(n=!0);return n}function Mce(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let d=0;d<r.length;d++){let h=T0(l,r[d]);if(i[d]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(l){for(let u of r)Mh(l,u);return l.values[o]=a(l),1},update(l,u){if(!ZS(l,s))return 0;let d=a(l);return e.compare(d,l.values[o])?0:(l.values[o]=d,1)},reconfigure(l,u){let d=ZS(l,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!d&&LO(n,h))return l.values[o]=f,0;let p=a(l);return e.compare(p,f)?(l.values[o]=f,0):(l.values[o]=p,1)}}}const vm=me.define({static:!0});class Rn{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Rn($O++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(vm).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(vm),o=i.facet(vm),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,vm.of({field:this,create:e})]}get extension(){return this}}const Ja={lowest:4,low:3,default:2,high:1,highest:0};function Id(t){return e=>new $_(e,t)}const rc={highest:Id(Ja.highest),high:Id(Ja.high),default:Id(Ja.default),low:Id(Ja.low),lowest:Id(Ja.lowest)};class $_{constructor(e,n){this.inner=e,this.prec=n}}class cx{of(e){return new JS(this,e)}reconfigure(e){return cx.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class JS{constructor(e,n){this.compartment=e,this.inner=n}}class P0{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of Rce(e,n,o))f instanceof Rn?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of i)a[f.id]=u.length<<1,u.push(p=>f.slot(p));let d=r==null?void 0:r.config.facets;for(let f in s){let p=s[f],m=p[0].facet,g=d&&d[f]||[];if(p.every(x=>x.type==0))if(a[m.id]=l.length<<1|1,LO(g,p))l.push(r.facet(m));else{let x=m.combine(p.map(v=>v.value));l.push(r&&m.compare(x,r.facet(m))?r.facet(m):x)}else{for(let x of p)x.type==0?(a[x.id]=l.length<<1|1,l.push(x.value)):(a[x.id]=u.length<<1,u.push(v=>x.dynamicSlot(v)));a[m.id]=u.length<<1,u.push(x=>Mce(x,m,p))}}let h=u.map(f=>f(a));return new P0(e,o,h,a,l,s)}}function Rce(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof JS&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof JS){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof $_)s(o.inner,o.prec);else if(o instanceof Rn)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Tg)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ja.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Ja.default),r.reduce((o,a)=>o.concat(a))}function Mh(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function T0(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const L_=me.define(),ew=me.define({combine:t=>t.some(e=>e),static:!0}),I_=me.define({combine:t=>t.length?t[0]:void 0,static:!0}),__=me.define(),N_=me.define(),B_=me.define(),F_=me.define({combine:t=>t.length?t[0]:!1});class Bs{constructor(e,n){this.type=e,this.value=n}static define(){return new zce}}class zce{of(e){return new Bs(this,e)}}class Dce{constructor(e){this.map=e}of(e){return new Ie(this,e)}}class Ie{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ie(this.type,n)}is(e){return this.type==e}static define(e={}){return new Dce(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Ie.reconfigure=Ie.define();Ie.appendConfig=Ie.define();class fn{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&D_(r,n.newLength),s.some(a=>a.type==fn.time)||(this.annotations=s.concat(fn.time.of(Date.now())))}static create(e,n,r,i,s,o){return new fn(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(fn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}fn.time=Bs.define();fn.userEvent=Bs.define();fn.addToHistory=Bs.define();fn.remote=Bs.define();function $ce(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function W_(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=cn.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Ie.mapEffects(t.effects,i).concat(Ie.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function tw(t,e,n){let r=e.selection,i=uu(e.annotations);return e.userEvent&&(i=i.concat(fn.userEvent.of(e.userEvent))),{changes:e.changes instanceof cn?e.changes:cn.of(e.changes||[],n,t.facet(I_)),selection:r&&(r instanceof K?r:K.single(r.anchor,r.head)),effects:uu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function V_(t,e,n){let r=tw(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=W_(r,tw(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=fn.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Ice(n?Lce(i):i)}function Lce(t){let e=t.startState,n=!0;for(let i of e.facet(__)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:$ce(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=cn.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=fn.create(e,i,t.selection&&t.selection.map(s),Ie.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(N_);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof fn?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof fn?t=s[0]:t=V_(e,uu(s),!1)}return t}function Ice(t){let e=t.startState,n=e.facet(B_),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=W_(r,tw(e,s,t.changes.newLength),!0))}return r==t?t:fn.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const _ce=[];function uu(t){return t==null?_ce:Array.isArray(t)?t:[t]}var Dt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Dt||(Dt={}));const Nce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let nw;try{nw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Bce(t){if(nw)return nw.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Nce.test(n)))return!0}return!1}function Fce(t){return e=>{if(!/\S/.test(e))return Dt.Space;if(Bce(e))return Dt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Dt.Word;return Dt.Other}}class Ue{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Mh(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Mh(this,r),T0(this,r)}update(...e){return V_(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(cx.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Ie.reconfigure)?(n=null,r=a.value):a.is(Ie.appendConfig)&&(n=null,r=uu(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=P0.resolve(r,i,this),s=new Ue(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(ew)?e.newSelection:e.newSelection.asSingle();new Ue(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:K.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=uu(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),d=u.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(d);let h=i.mapDesc(u,!0);s.push(l.range.map(h)),i=i.compose(d),o=Ie.mapEffects(o,d).concat(Ie.mapEffects(uu(l.effects),h))}return{changes:i,selection:K.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof cn?e:cn.of(e,this.doc.length,this.facet(Ue.lineSeparator))}toText(e){return et.of(e.split(this.facet(Ue.lineSeparator)||XS))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Mh(this,n),T0(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Rn&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ue.create({doc:e.doc,selection:K.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=P0.resolve(e.extensions||[],new Map),r=e.doc instanceof et?e.doc:et.of((e.doc||"").split(n.staticFacet(Ue.lineSeparator)||XS)),i=e.selection?e.selection instanceof K?e.selection:K.single(e.selection.anchor,e.selection.head):K.single(0);return D_(i,r.length),n.staticFacet(ew)||(i=i.asSingle()),new Ue(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ue.tabSize)}get lineBreak(){return this.facet(Ue.lineSeparator)||`
`}get readOnly(){return this.facet(F_)}phrase(e,...n){for(let r of this.facet(Ue.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(L_))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return Fce(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=hn(n,o,!1);if(s(n.slice(l,o))!=Dt.Word)break;o=l}for(;a<i;){let l=hn(n,a);if(s(n.slice(a,l))!=Dt.Word)break;a=l}return o==a?null:K.range(o+r,a+r)}}Ue.allowMultipleSelections=ew;Ue.tabSize=me.define({combine:t=>t.length?t[0]:4});Ue.lineSeparator=I_;Ue.readOnly=F_;Ue.phrases=me.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ue.languageData=L_;Ue.changeFilter=__;Ue.transactionFilter=N_;Ue.transactionExtender=B_;cx.reconfigure=Ie.define();function Fs(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Ea{eq(e){return this==e}range(e,n=e){return rw.create(e,n,this)}}Ea.prototype.startSide=Ea.prototype.endSide=0;Ea.prototype.point=!1;Ea.prototype.mapMode=Zn.TrackDel;function IO(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let rw=class Q_{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Q_(e,n,r)}};function iw(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _O{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],d=this.from[l]+e,h=this.to[l]+e,f,p;if(d==h){let m=n.mapPos(d,u.startSide,u.mapMode);if(m==null||(f=p=m,u.startSide!=u.endSide&&(p=n.mapPos(d,u.endSide),p<f)))continue}else if(f=n.mapPos(d,u.startSide),p=n.mapPos(h,u.endSide),f>p||f==p&&u.startSide>0&&u.endSide<=0)continue;(p-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,p-f)),r.push(u),i.push(f-o),s.push(p-o))}return{mapped:r.length?new _O(i,s,r,a):null,pos:o}}}class Ve{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Ve(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(iw)),this.isEmpty)return n.length?Ve.of(n):this;let a=new H_(this,null,-1).goto(0),l=0,u=[],d=new To;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];d.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&d.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(d.addInner(a.from,a.to,a.value)||u.push(rw.create(a.from,a.to,a.value))),a.next());return d.finishInner(this.nextLayer.isEmpty&&!u.length?Ve.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:d,pos:h}=l.map(a,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new Ve(r,n,s||Ve.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return wf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return wf.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=HA(o,a,r),u=new _d(o,l,s),d=new _d(a,l,s);r.iterGaps((h,f,p)=>qA(u,h,d,f,p,i)),r.empty&&r.length==0&&qA(u,0,d,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),o=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=HA(s,o),l=new _d(s,a,0).goto(r),u=new _d(o,a,0).goto(r);for(;;){if(l.to!=u.to||!sw(l.active,u.active)||l.point&&(!u.point||!IO(l.point,u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new _d(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let d=o.activeForPoint(o.to),h=o.pointFrom<n?d.length+1:o.point.startSide<0?d.length:Math.min(d.length,l);i.point(a,u,o.point,d,h,o.pointRank),l=Math.min(o.openEnd(u),d.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new To;for(let i of e instanceof rw?[e]:n?Wce(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Ve.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Ve.empty;i=i.nextLayer)n=new Ve(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Ve.empty=new Ve([],[],null,-1);function Wce(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(iw(e,r)>0)return t.slice().sort(iw);e=r}return t}Ve.empty.nextLayer=Ve.empty;class To{finishChunk(e){this.chunks.push(new _O(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new To)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Ve.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Ve.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function HA(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class H_{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class wf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new H_(o,n,r,s));return i.length==1?i[0]:new wf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)ob(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)ob(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ob(this.heap,0)}}}function ob(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class _d{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=wf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){bm(this.active,e),bm(this.activeTo,e),bm(this.activeRank,e),this.minActive=UA(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Sm(this.active,n,r),Sm(this.activeTo,n,i),Sm(this.activeRank,n,s),e&&Sm(e,n,this.cursor.from),this.minActive=UA(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&bm(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function qA(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e,u=!!s.boundChange;for(let d=!1;;){let h=t.to+l-n.to,f=h||t.endSide-n.endSide,p=f<0?t.to+l:n.to,m=Math.min(p,o);if(t.point||n.point?(t.point&&n.point&&IO(t.point,n.point)&&sw(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,m,t.point,n.point),d=!1):(d&&s.boundChange(a),m>a&&!sw(t.active,n.active)&&s.compareRange(a,m,t.active,n.active),u&&m<o&&(h||t.openEnd(p)!=n.openEnd(p))&&(d=!0)),p>o)break;a=p,f<=0&&t.next(),f>=0&&n.next()}}function sw(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!IO(t[n],e[n]))return!1;return!0}function bm(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Sm(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function UA(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function hd(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=hn(t,i));return r}function ow(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=hn(t,i)}return r===!0?-1:t.length}const aw="",GA=typeof Symbol>"u"?"__"+aw:Symbol.for(aw),lw=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),XA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ma{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let d=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let p in a){let m=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(g=>o.map(x=>g.replace(/&/,x))).reduce((g,x)=>g.concat(x)),m,l);else if(m&&typeof m=="object"){if(!h)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),m,d,f)}else m!=null&&d.push(p.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(d.length||f)&&l.push((r&&!h&&!u?o.map(r):o).join(", ")+" {"+d.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=XA[GA]||1;return XA[GA]=e+1,aw+e.toString(36)}static mount(e,n,r){let i=e[lw],s=r&&r.nonce;i?s&&i.setNonce(s):i=new Vce(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let KA=new Map;class Vce{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=KA.get(r);if(s)return e[lw]=s;this.sheet=new i.CSSStyleSheet,KA.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[lw]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ra={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Qce=typeof navigator<"u"&&/Mac/.test(navigator.platform),Hce=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tn=0;Tn<10;Tn++)Ra[48+Tn]=Ra[96+Tn]=String(Tn);for(var Tn=1;Tn<=24;Tn++)Ra[Tn+111]="F"+Tn;for(var Tn=65;Tn<=90;Tn++)Ra[Tn]=String.fromCharCode(Tn+32),kf[Tn]=String.fromCharCode(Tn);for(var ab in Ra)kf.hasOwnProperty(ab)||(kf[ab]=Ra[ab]);function qce(t){var e=Qce&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Hce&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?kf:Ra)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function gt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)q_(t,arguments[e]);return t}function q_(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)q_(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let Kn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},cw=typeof document<"u"?document:{documentElement:{style:{}}};const uw=/Edge\/(\d+)/.exec(Kn.userAgent),U_=/MSIE \d/.test(Kn.userAgent),dw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kn.userAgent),ux=!!(U_||dw||uw),YA=!ux&&/gecko\/(\d+)/i.test(Kn.userAgent),lb=!ux&&/Chrome\/(\d+)/.exec(Kn.userAgent),Uce="webkitFontSmoothing"in cw.documentElement.style,hw=!ux&&/Apple Computer/.test(Kn.vendor),ZA=hw&&(/Mobile\/\w+/.test(Kn.userAgent)||Kn.maxTouchPoints>2);var pe={mac:ZA||/Mac/.test(Kn.platform),windows:/Win/.test(Kn.platform),linux:/Linux|X11/.test(Kn.platform),ie:ux,ie_version:U_?cw.documentMode||6:dw?+dw[1]:uw?+uw[1]:0,gecko:YA,gecko_version:YA?+(/Firefox\/(\d+)/.exec(Kn.userAgent)||[0,0])[1]:0,chrome:!!lb,chrome_version:lb?+lb[1]:0,ios:ZA,android:/Android\b/.test(Kn.userAgent),webkit_version:Uce?+(/\bAppleWebKit\/(\d+)/.exec(Kn.userAgent)||[0,0])[1]:0,safari:hw,safari_version:hw?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Kn.userAgent)||[0,0])[1]:0,tabSize:cw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function NO(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const A0=Object.create(null);function BO(t,e,n){if(t==e)return!0;t||(t=A0),e||(e=A0);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Gce(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function JA(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Xce(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Ws{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var En=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(En||(En={}));class Pe extends Ea{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new bp(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new ql(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=G_(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new ql(e,r,i,n,e.widget||null,!0)}static line(e){return new Sp(e)}static set(e,n=!1){return Ve.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Pe.none=Ve.empty;class bp extends Pe{constructor(e){let{start:n,end:r}=G_(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?NO(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||A0}eq(e){return this==e||e instanceof bp&&this.tagName==e.tagName&&BO(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}bp.prototype.point=!1;class Sp extends Pe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Sp&&this.spec.class==e.spec.class&&BO(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Sp.prototype.mapMode=Zn.TrackBefore;Sp.prototype.point=!0;class ql extends Pe{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Zn.TrackBefore:Zn.TrackAfter:Zn.TrackDel}get type(){return this.startSide!=this.endSide?En.WidgetRange:this.startSide<=0?En.WidgetBefore:En.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ql&&Kce(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ql.prototype.point=!0;function G_(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Kce(t,e){return t==e||!!(t&&e&&t.compare(e))}function du(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Cf extends Ea{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof Cf&&this.tagName==e.tagName&&BO(this.attributes,e.attributes)}static create(e){return new Cf(e.tagName,e.attributes||A0)}static set(e,n=!1){return Ve.of(e,n)}}Cf.prototype.startSide=Cf.prototype.endSide=-1;function Zu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function fw(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Rh(t,e){if(!e.anchorNode)return!1;try{return fw(t,e.anchorNode)}catch{return!1}}function zh(t){return t.nodeType==3?jf(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Dh(t,e,n,r){return n?eE(t,e,n,r,-1)||eE(t,e,n,r,1):!1}function za(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function E0(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function eE(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ao(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=za(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ao(t):0}else return!1}}function Ao(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Of(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Yce(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function X_(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function Zce(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let d=t,h=!1;d&&!h;)if(d.nodeType==1){let f,p=d==l.body,m=1,g=1;if(p)f=Yce(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(h=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let y=d.getBoundingClientRect();({scaleX:m,scaleY:g}=X_(d,y)),f={left:y.left,right:y.left+d.clientWidth*m,top:y.top,bottom:y.top+d.clientHeight*g}}let x=0,v=0;if(i=="nearest")e.top<f.top?(v=e.top-(f.top+o),n>0&&e.bottom>f.bottom+v&&(v=e.bottom-f.bottom+o)):e.bottom>f.bottom&&(v=e.bottom-f.bottom+o,n<0&&e.top-v<f.top&&(v=e.top-(f.top+o)));else{let y=e.bottom-e.top,b=f.bottom-f.top;v=(i=="center"&&y<=b?e.top+y/2-b/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-b+o)-f.top}if(r=="nearest"?e.left<f.left?(x=e.left-(f.left+s),n>0&&e.right>f.right+x&&(x=e.right-f.right+s)):e.right>f.right&&(x=e.right-f.right+s,n<0&&e.left<f.left+x&&(x=e.left-(f.left+s))):x=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,x||v)if(p)u.scrollBy(x,v);else{let y=0,b=0;if(v){let w=d.scrollTop;d.scrollTop+=v/g,b=(d.scrollTop-w)*g}if(x){let w=d.scrollLeft;d.scrollLeft+=x/m,y=(d.scrollLeft-w)*m}e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b},y&&Math.abs(y-x)<1&&(r="nearest"),b&&Math.abs(b-v)<1&&(i="nearest")}if(p)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function Jce(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class eue{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Ao(n):0),r,Math.min(e.focusOffset,r?Ao(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Ya=null;pe.safari&&pe.safari_version>=26&&(Ya=!1);function K_(t){if(t.setActive)return t.setActive();if(Ya)return t.focus(Ya);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Ya==null?{get preventScroll(){return Ya={preventScroll:!0},!0}}:void 0),!Ya){Ya=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let tE;function jf(t,e,n=e){let r=tE||(tE=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function hu(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function tue(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function nue(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ao(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Ao(n))}else{if(n==t)return!0;r=za(n),n=n.parentNode}}function Y_(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Z_(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Ao(n)}else if(n.parentNode&&!E0(n))r=za(n),n=n.parentNode;else return null}}function J_(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!E0(n))r=za(n)+1,n=n.parentNode;else return null}}class Gi{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Gi(e.parentNode,za(e),n)}static after(e,n){return new Gi(e.parentNode,za(e)+1,n)}}var St=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(St||(St={}));const Ul=St.LTR,FO=St.RTL;function e3(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const rue=e3("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),iue=e3("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),pw=Object.create(null),as=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);pw[e]=n,pw[n]=-e}function t3(t){return t<=247?rue[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?iue[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const sue=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class fo{get dir(){return this.level%2?FO:Ul}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function n3(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!n3(r.inner,i.inner))return!1}return!0}const bt=[];function oue(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let u=o,d=l,h=l;u<a;u++){let f=t3(t.charCodeAt(u));f==512?f=d:f==8&&h==4&&(f=16),bt[u]=f==4?2:f,f&7&&(h=f),d=f}for(let u=o,d=l,h=l;u<a;u++){let f=bt[u];if(f==128)u<a-1&&d==bt[u+1]&&d&24?f=bt[u]=d:bt[u]=256;else if(f==64){let p=u+1;for(;p<a&&bt[p]==64;)p++;let m=u&&d==8||p<n&&bt[p]==8?h==1?1:8:256;for(let g=u;g<p;g++)bt[g]=m;u=p-1}else f==8&&h==1&&(bt[u]=1);d=f,f&7&&(h=f)}}}function aue(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,d=o<r.length?r[o].from:n;for(let h=u,f,p,m;h<d;h++)if(p=pw[f=t.charCodeAt(h)])if(p<0){for(let g=a-3;g>=0;g-=3)if(as[g+1]==-p){let x=as[g+2],v=x&2?i:x&4?x&1?s:i:0;v&&(bt[h]=bt[as[g]]=v),a=g;break}}else{if(as.length==189)break;as[a++]=h,as[a++]=f,as[a++]=l}else if((m=bt[h])==2||m==1){let g=m==i;l=g?0:1;for(let x=a-3;x>=0;x-=3){let v=as[x+2];if(v&2)break;if(g)as[x+2]|=2;else{if(v&4)break;as[x+2]|=4}}}}}function lue(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let u=bt[l];if(u==256){let d=l+1;for(;;)if(d==a){if(i==n.length)break;d=n[i++].to,a=i<n.length?n[i].from:e}else if(bt[d]==256)d++;else break;let h=s==1,f=(d<e?bt[d]:r)==1,p=h==f?h?1:2:r;for(let m=d,g=i,x=g?n[g-1].to:t;m>l;)m==x&&(m=n[--g].from,x=g?n[g-1].to:t),bt[--m]=p;l=d}else s=u,l++}}}function mw(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let d=!0,h=!1;if(u==s.length||l<s[u].from){let g=bt[l];g!=a&&(d=!1,h=g==16)}let f=!d&&a==1?[]:null,p=d?r:r+1,m=l;e:for(;;)if(u<s.length&&m==s[u].from){if(h)break e;let g=s[u];if(!d)for(let x=g.to,v=u+1;;){if(x==n)break e;if(v<s.length&&s[v].from==x)x=s[v++].to;else{if(bt[x]==a)break e;break}}if(u++,f)f.push(g);else{g.from>l&&o.push(new fo(l,g.from,p));let x=g.direction==Ul!=!(p%2);gw(t,x?r+1:r,i,g.inner,g.from,g.to,o),l=g.to}m=g.to}else{if(m==n||(d?bt[m]!=a:bt[m]==a))break;m++}f?mw(t,l,m,r+1,i,f,o):l<m&&o.push(new fo(l,m,p)),l=m}else for(let l=n,u=s.length;l>e;){let d=!0,h=!1;if(!u||l>s[u-1].to){let g=bt[l-1];g!=a&&(d=!1,h=g==16)}let f=!d&&a==1?[]:null,p=d?r:r+1,m=l;e:for(;;)if(u&&m==s[u-1].to){if(h)break e;let g=s[--u];if(!d)for(let x=g.from,v=u;;){if(x==e)break e;if(v&&s[v-1].to==x)x=s[--v].from;else{if(bt[x-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&o.push(new fo(g.to,l,p));let x=g.direction==Ul!=!(p%2);gw(t,x?r+1:r,i,g.inner,g.from,g.to,o),l=g.from}m=g.from}else{if(m==e||(d?bt[m-1]!=a:bt[m-1]==a))break;m--}f?mw(t,m,l,r+1,i,f,o):m<l&&o.push(new fo(m,l,p)),l=m}}function gw(t,e,n,r,i,s,o){let a=e%2?2:1;oue(t,i,s,r,a),aue(t,i,s,r,a),lue(i,s,r,a),mw(t,i,s,e,n,r,o)}function cue(t,e,n){if(!t)return[new fo(0,0,e==FO?1:0)];if(e==Ul&&!n.length&&!sue.test(t))return r3(t.length);if(n.length)for(;t.length>bt.length;)bt[bt.length]=256;let r=[],i=e==Ul?0:1;return gw(t,i,i,n,0,t.length,r),r}function r3(t){return[new fo(0,t,0)]}let i3="";function uue(t,e,n,r,i){var s;let o=r.head-t.from,a=fo.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,n);if(o==u){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,n),u=l.side(i,n)}let d=hn(t.text,o,l.forward(i,n));(d<l.from||d>l.to)&&(d=u),i3=t.text.slice(Math.min(o,d),Math.max(o,d));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&d==u&&h.level+(i?0:1)<l.level?K.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):K.cursor(d+t.from,l.forward(i,n)?-1:1,l.level)}function due(t,e,n){for(let r=e;r<n;r++){let i=t3(t.charCodeAt(r));if(i==1)return Ul;if(i==2||i==4)return FO}return Ul}const s3=me.define(),o3=me.define(),a3=me.define(),l3=me.define(),yw=me.define(),c3=me.define(),u3=me.define(),WO=me.define(),VO=me.define(),d3=me.define({combine:t=>t.some(e=>e)}),h3=me.define({combine:t=>t.some(e=>e)}),f3=me.define();class fu{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new fu(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new fu(K.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const wm=Ie.define({map:(t,e)=>t.map(e)}),p3=Ie.define();function xr(t,e,n){let r=t.facet(l3);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const ao=me.define({combine:t=>t.length?t[0]:!0});let hue=0;const Nc=me.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class tn{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Nc.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Nc.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new tn(hue++,e,r,i,a=>{let l=[];return o&&l.push(dx.of(u=>{let d=u.plugin(a);return d?o(d):Pe.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return tn.define((r,i)=>new e(r,i),n)}}class cb{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(xr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){xr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){xr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const m3=me.define(),QO=me.define(),dx=me.define(),g3=me.define(),HO=me.define(),wp=me.define(),y3=me.define();function nE(t,e){let n=t.state.facet(y3);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return Ve.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,d=o-e.from,h=i;for(let f=a.length-1;f>=0;f--,l--){let p=a[f].spec.bidiIsolate,m;if(p==null&&(p=due(e.text,u,d)),l>0&&h.length&&(m=h[h.length-1]).to==u&&m.direction==p)m.to=d,h=m.inner;else{let g={from:u,to:d,direction:p,inner:[]};h.push(g),h=g.inner}}}}),i}const x3=me.define();function qO(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(x3)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const rh=me.define();class hi{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new hi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0;;){let a=i<e.length?e[i].fromB:1e9,l=s<n.length?n[s]:1e9,u=Math.min(a,l);if(u==1e9)break;let d=u+o,h=u,f=d;for(;;)if(s<n.length&&n[s]<=h){let p=n[s+1];s+=2,h=Math.max(h,p);for(let m=i;m<e.length&&e[m].fromB<=h;m++)o=e[m].toA-e[m].toB;f=Math.max(f,p+o)}else if(i<e.length&&e[i].fromB<=h){let p=e[i++];h=Math.max(h,p.toB),f=Math.max(f,p.toA),o=p.toA-p.toB}else break;r.push(new hi(d,f,u,h))}return r}}class M0{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=cn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new hi(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new M0(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const fue=[];class on{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return fue}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&Gce(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=za(this.dom),i=this.length?e>0:n>0;return new Gi(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof fx)return e;return null}static get(e){return e.cmTile}}class hx extends on{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,s=(e==null?void 0:e.node)==n?e:null,o=0;for(let a of this.children){if(a.sync(e),o+=a.length+a.breakAfter,i=r?r.nextSibling:n.firstChild,s&&i!=a.dom&&(s.written=!0),a.dom.parentNode==n)for(;i&&i!=a.dom;)i=rE(i);else n.insertBefore(a.dom,i);r=a.dom}for(i=r?r.nextSibling:n.firstChild,s&&i&&(s.written=!0);i;)i=rE(i);this.length=o}}function rE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class fx extends hx{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=on.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&s++,i=n.pop()}else{let o=r.children[i++];if(o instanceof wa)n.push(i),r=o,i=0;else{let a=s+o.length,l=e(o,s);if(l!==void 0)return l;s=a+o.breakAfter}}}resolveBlock(e,n){let r,i=-1,s,o=-1;if(this.blockTiles((a,l)=>{let u=l+a.length;if(e>=l&&e<=u){if(a.isWidget()&&n>=-1&&n<=1){if(a.flags&32)return!0;a.flags&16&&(r=void 0)}(l<e||e==u&&(n<-1?a.length:a.covers(1)))&&(!r||!a.isWidget()&&r.isWidget())&&(r=a,i=e-l),(u>e||e==l&&(n>1?a.length:a.covers(-1)))&&(!s||!a.isWidget()&&s.isWidget())&&(s=a,o=e-l)}}),!r&&!s)throw new Error("No tile at position "+e);return r&&n<0||!s?{tile:r,offset:i}:{tile:s,offset:o}}}class wa extends hx{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new wa(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Ju extends hx{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new Ju(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,s=-1,o=null,a=-1;function l(d,h){for(let f=0,p=0;f<d.children.length&&p<=h;f++){let m=d.children[f],g=p+m.length;g>=h&&(m.isComposite()?l(m,h-p):(!o||o.isHidden&&(n>0||r&&mue(o,m)))&&(g>h||m.flags&32)?(o=m,a=h-p):(p<h||m.flags&16&&!m.isHidden)&&(i=m,s=h-p)),p=g}}l(this,e);let u=(n<0?i:o)||i||o;return u?{tile:u,offset:u==i?s:a}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):pue(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new Gi(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:n);let o=r.tile.parent,a=!1;for(let l of o.children){if(a)return new Gi(l.dom,0);l==r.tile&&(a=!0)}}return new Gi(this.dom,0)}}function pue(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=zh(e);return n[n.length-1]||null}function mue(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class gr extends hx{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new gr(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class ll extends on{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?pe.chrome||pe.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=jf(this.dom,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return pe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?Of(l,o<0):l||null}static of(e,n){let r=new ll(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Gl extends on{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return Of(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let s=this.dom.getClientRects(),o=null;if(!s.length)return null;let a=this.flags&16?!0:this.flags&32?!1:e>0;for(let l=a?s.length-1:0;o=s[l],!(e>0?l==0:l==s.length-1||o.top<o.bottom);l+=a?-1:1);return Of(o,!a)}}get overrideDOMText(){if(!this.length)return et.empty;let{root:e}=this;if(!e)return et.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,s){return s||(s=e.toDOM(n),e.editable||(s.contentEditable="false")),new Gl(s,r,e,i)}}class R0 extends on{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return et.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class gue{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:s,beforeBreak:o,parents:a}=this;for(;e||n>0;)if(i.isComposite())if(o){if(!e)break;r&&r.break(),e--,o=!1}else if(s==i.children.length){if(!e&&!a.length)break;r&&r.leave(i),o=!!i.breakAfter,{tile:i,index:s}=a.pop(),s++}else{let l=i.children[s],u=l.breakAfter;(n>0?l.length<=e:l.length<e)&&(!r||r.skip(l,0,l.length)!==!1||!l.isComposite)?(o=!!u,s++,e-=l.length):(a.push({tile:i,index:s}),i=l,s=0,r&&l.isComposite()&&r.enter(l))}else if(s==i.length)o=!!i.breakAfter,{tile:i,index:s}=a.pop(),s++;else if(e){let l=Math.min(e,i.length-s);r&&r.skip(i,s,s+l),e-=l,s+=l}else break;return this.tile=i,this.index=s,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class yue{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class xue{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var s;this.flushBuffer();let o=this.ensureMarks(n,r),a=o.lastChild;if(a&&a.isText()&&!(a.flags&8)&&a.length+e.length<512){this.cache.reused.set(a,2);let l=o.children[o.children.length-1]=new ll(a.dom,a.text+e);l.parent=o}else o.append(i||ll.of(e,(s=this.cache.find(ll))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?ub(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let a=n.marks.length-1;a>=0;a--){let l=n.marks[a],u=i.lastChild;if(u instanceof gr&&u.mark.eq(l.mark))u.dom!=l.dom&&u.setDOM(ub(l.dom)),i=u;else{if(this.cache.reused.get(l)){let h=on.get(l.dom);h&&h.setDOM(ub(l.dom))}let d=gr.of(l.mark,l.dom);i.append(d),i=d}this.cache.reused.set(l,2)}let s=on.get(e.text);s&&this.cache.reused.set(s,2);let o=new ll(e.text,e.text.nodeValue);o.flags|=8,i.append(o)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(n,r);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=v3);let i=Ju.start(e,n||((r=this.cache.find(Ju))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let o=e[s],a;if(n>0&&(a=i.lastChild)&&a instanceof gr&&a.mark.eq(o))i=a,n--;else{let l=gr.of(o,(r=this.cache.find(gr,u=>u.mark.eq(o)))===null||r===void 0?void 0:r.dom);i.append(l),i=l,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!iE(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(pe.ios&&iE(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(db,0,32)||new Gl(db.toDOM(),0,db,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new yue(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof wa&&i.wrapper.eq(r.wrapper))n=i;else{let s=wa.of(r.wrapper,(e=this.cache.find(wa,o=>o.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(s),n=s}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(R0,void 0,1);return r&&(r.flags=n),r||new R0(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class vue{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=i;let a=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,a)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const z0=[Gl,Ju,ll,gr,R0,wa,fx];for(let t=0;t<z0.length;t++)z0[t].bucket=t;class bue{constructor(e){this.view=e,this.buckets=z0.map(()=>[]),this.index=z0.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,s=this.buckets[i],o=this.index[i];for(let a=s.length-1;a>=0;a--){let l=(a+o)%s.length,u=s[l];if((!n||n(u))&&!this.reused.has(u))return s.splice(l,1),l<o&&this.index[i]--,this.reused.set(u,r),u}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let s=0,o=0;;s++){if(s==i.length){if(o)return null;o=1,s=0}let a=i[s];if(!this.reused.has(a)&&(o==0?a.widget.compare(e):a.widget.constructor==e.constructor&&e.updateDOM(a.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,a.widget==e&&a.length==n&&(a.flags&497)==r?(this.reused.set(a,1),a):(this.reused.set(a,2),new Gl(a.dom,n,e,a.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class Sue{constructor(e,n,r,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new bue(e),this.text=new vue(e.state.doc),this.builder=new xue(this.cache,new fx(e,e.contentDOM),Ve.iter(r)),this.cache.reused.set(n,2),this.old=new gue(n),this.reuseWalker={skip:(o,a,l)=>{if(this.cache.add(o),o.isComposite())return!1},enter:o=>this.cache.add(o),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,s=0,o=0;;){let a=o<e.length?e[o++]:null,l=a?a.fromA:this.old.root.length;if(l>i){let u=l-i;this.preserve(u,!o,!a),i=l,s+=u}if(!a)break;n&&a.fromA<=n.range.fromA&&a.toA>=n.range.toA?(this.forward(a.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(s,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,a.toA),this.emit(n.range.toB,a.toB)):(this.forward(a.fromA,a.toA),this.emit(s,a.toB)),s=a.toB,i=a.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=Cue(this.old),s=this.openMarks;this.old.advance(e,r?1:-1,{skip:(o,a,l)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(l-a);else{let u=l>0||a<o.length?Gl.of(o.widget,this.view,l-a,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);u.flags&256?(u.flags&=-2,this.builder.addBlockWidget(u)):(this.builder.ensureLine(null),this.builder.addInlineWidget(u,i,s),s=i.length)}else if(o.isText())this.builder.ensureLine(null),!a&&l==o.length?this.builder.addText(o.text,i,s,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(a,l),i,s)),s=i.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof R0)this.cache.add(o);else if(o instanceof gr)this.builder.ensureLine(null),this.builder.addMark(o,i,s),this.cache.reused.set(o,1),s=i.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof gr&&i.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?i.length&&(i.length=s=0):o instanceof gr&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,s=0,o=Ve.spans(this.decorations,e,n,{point:(a,l,u,d,h,f)=>{if(u instanceof ql){if(this.disallowBlockEffectsFor[f]){if(u.block)throw new RangeError("Block decorations may not be specified via plugins");if(l>this.view.state.doc.lineAt(a).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,h>d.length)i.continueWidget(l-a);else{let p=u.widget||(u.block?ed.block:ed.inline),m=wue(u),g=this.cache.findWidget(p,l-a,m)||Gl.of(p,this.view,l-a,m);u.block?(u.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(g)):(i.ensureLine(r),i.addInlineWidget(g,d,h))}r=null}else r=kue(r,u);l>a&&this.text.skip(l-a)},span:(a,l,u,d)=>{for(let h=a;h<l;){let f=this.text.next(Math.min(512,l-h));f==null?(i.addLineStartIfNotCovered(r),i.addBreak(),h++):(i.ensureLine(r),i.addText(f,u,h==a?d:u.length),h+=f.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=o>s,this.openMarks=o}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let s=on.get(i);if(i==this.view.contentDOM)break;s instanceof gr?n.push(s):s!=null&&s.isLine()?r=s:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new Ju(i,v3):n.push(gr.of(new bp({tagName:i.nodeName.toLowerCase(),attributes:Xce(i)}),i))}return{line:r,marks:n}}}function iE(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function wue(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const v3={class:"cm-line"};function kue(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&NO(n,t),r&&(t.class+=" "+r)),t}function Cue(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof gr&&e.push(r.mark)}return e}function ub(t){let e=on.get(t);return e&&e.setDOM(t.cloneNode()),t}class ed extends Ws{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ed.inline=new ed("span");ed.block=new ed("div");const db=new class extends Ws{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class sE{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Pe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new fx(e,e.contentDOM),this.updateInner([new hi(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:h})=>h<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!zue(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?jue(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:h}=this.hasComposition;r=new hi(d,h,e.changes.mapPos(d,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(pe.ie||pe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.blockWrappers;this.updateDeco();let l=Aue(o,this.decorations,e.changes);l.length&&(r=hi.extendWithRanges(r,l));let u=Mue(a,this.blockWrappers,e.changes);return u.length&&(r=hi.extendWithRanges(r,u)),s&&!r.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let o=this.tile,a=new Sue(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=a.run(e,n),xw(o,a.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=pe.chrome||pe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof hb&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(p3)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,o=!s&&!(this.view.state.facet(ao)||r.tabIndex>-1)&&Rh(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||n||o))return;let a=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,u,d;if(l.empty?d=u=this.inlineDOMNearPos(l.anchor,l.assoc||1):(d=this.inlineDOMNearPos(l.head,l.head==l.from?1:-1),u=this.inlineDOMNearPos(l.anchor,l.anchor==l.from?1:-1)),pe.gecko&&l.empty&&!this.hasComposition&&Oue(u)){let f=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(f,u.node.childNodes[u.offset]||null)),u=d=new Gi(f,0),a=!0}let h=this.view.observer.selectionRange;(a||!h.focusNode||(!Dh(u.node,u.offset,h.anchorNode,h.anchorOffset)||!Dh(d.node,d.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,l))&&(this.view.observer.ignore(()=>{pe.android&&pe.chrome&&r.contains(h.focusNode)&&Rue(h.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let f=Zu(this.view.root);if(f)if(l.empty){if(pe.gecko){let p=Pue(u.node,u.offset);if(p&&p!=3){let m=(p==1?Z_:J_)(u.node,u.offset);m&&(u=new Gi(m.node,m.offset))}}f.collapse(u.node,u.offset),l.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=l.bidiLevel)}else if(f.extend){f.collapse(u.node,u.offset);try{f.extend(d.node,d.offset)}catch{}}else{let p=document.createRange();l.anchor>l.head&&([u,d]=[d,u]),p.setEnd(d.node,d.offset),p.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(p)}o&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(u,d)),this.impreciseAnchor=u.precise?null:new Gi(h.anchorNode,h.anchorOffset),this.impreciseHead=d.precise?null:new Gi(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Dh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Zu(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=this.lineAt(n.head,n.assoc);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(e==r.dom)s=r.dom.childNodes[n];else{let o=Ao(e)==0?0:n==0?-1:1;for(;;){let a=e.parentNode;if(a==r.dom)break;o==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?o=-1:o=1),e=a}o<0?s=e:s=e.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!on.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let o=0,a=i;;o++){let l=r.children[o];if(l.dom==s)return a;a+=l.length+l.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,s=!1,o,a=-1,l=!1;return this.tile.blockTiles((u,d)=>{if(u.isWidget()){if(u.flags&32&&d>=e)return!0;u.flags&16&&(s=!0)}else{let h=d+u.length;if(d<=e&&(r=u,i=e-d,s=h<e),h>=e&&!o&&(o=u,a=e-d,l=d>e),d>e&&o)return!0}}),!r&&!o?this.domAtPos(e,n):(s&&o?r=null:l&&r&&(o=null),r&&n<0||!o?r.domIn(i,n):o.domIn(a,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof hb?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(s,o){if(s.isComposite())for(let a of s.children){if(a.length>=o){let l=i(a,o);if(l)return l}if(o-=a.length,o<0)break}else if(s.isText()&&o<s.length){let a=hn(s.text,o);if(a==o)return null;let l=jf(s.dom,o,a).getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(u==l.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==St.LTR,u=0,d=(h,f,p)=>{for(let m=0;m<h.children.length&&!(f>i);m++){let g=h.children[m],x=f+g.length,v=g.dom.getBoundingClientRect(),{height:y}=v;if(p&&!m&&(u+=v.top-p.top),g instanceof wa)x>r&&d(g,f,v);else if(f>=r&&(u>0&&n.push(-u),n.push(y+u),u=0,o)){let b=g.dom.lastChild,w=b?zh(b):[];if(w.length){let k=w[w.length-1],O=l?k.right-v.left:v.right-k.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=x)}}p&&m==h.children.length-1&&(u+=p.bottom-v.bottom),f=x+g.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?St.RTL:St.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let a=0,l;for(let u of o.children){if(!u.isText()||/[^ -~]/.test(u.text))return;let d=zh(u.dom);if(d.length!=1)return;a+=d[0].width,l=d[0].height}if(a)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:a/o.length,textHeight:l}}});if(e)return e;let n=document.createElement("div"),r,i,s;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let o=zh(n.firstChild)[0];r=n.getBoundingClientRect().height,i=o&&o.width?o.width/27:7,s=o&&o.height?o.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.view.state.doc.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Pe.replace({widget:new hb(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Pe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(dx).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(HO).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Ve.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(g3).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(f3))try{if(u(this.view,e.range,e))return!0}catch(d){xr(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=qO(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Zce(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==St.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){xw(this.tile)}}function xw(t,e){let n=e==null?void 0:e.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)xw(r,e)}}function Oue(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function b3(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=Z_(n.focusNode,n.focusOffset),i=J_(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=on.get(i.node);if(!a||a.isText()&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=on.get(r.node);!l||l.isText()&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function jue(t,e,n){let r=b3(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc;return{range:new hi(l.mapPos(s),l.mapPos(o),s,o),text:i}}function Pue(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Tue=class{constructor(){this.changes=[]}compareRange(e,n){du(e,n,this.changes)}comparePoint(e,n){du(e,n,this.changes)}boundChange(e){du(e,e,this.changes)}};function Aue(t,e,n){let r=new Tue;return Ve.compare(t,e,n,r),r.changes}class Eue{constructor(){this.changes=[]}compareRange(e,n){du(e,n,this.changes)}comparePoint(){}boundChange(e){du(e,e,this.changes)}}function Mue(t,e,n){let r=new Eue;return Ve.compare(t,e,n,r),r.changes}function Rue(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function zue(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class hb extends Ws{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Due(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return K.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=hn(i.text,s,!1):a=hn(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=hn(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=hn(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return K.range(o+i.from,a+i.from)}function $ue(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+ow(o,s,t.state.tabSize)}function vw(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==En.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function Lue(t,e,n,r){let i=vw(t,e.head,e.assoc||-1),s=!r||i.type!=En.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==St.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return K.cursor(l,n?-1:1)}return K.cursor(n?i.to:i.from,n?-1:1)}function oE(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=uue(i,s,o,a,n),d=i3;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;d=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(d))return a}else{if(!r)return u;l=r(d)}a=u}}function Iue(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Dt.Space&&(i=o),i==o}}function _ue(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return K.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),d=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let m=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+d}let h=l.left+o,f=r??t.viewState.heightOracle.textHeight>>1,p=bw(t,{x:h,y:a+f*s},!1,s);return K.cursor(p.pos,p.assoc,void 0,o)}function $h(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function S3(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=$h(t,i.from,0);o!=i.from&&(s=K.cursor(o,-1))}else{let o=$h(t,i.from,-1),a=$h(t,i.to,1);(o!=i.from||a!=i.to)&&(s=K.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?K.create(n,e.mainIndex):e}function fb(t,e,n){let r=$h(t.state.facet(wp).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:K.cursor(r,r<n.from?1:-1)}class Cs{constructor(e,n){this.pos=e,this.assoc=n}}function bw(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),s=i.top+t.viewState.paddingTop,{x:o,y:a}=e,l=a-s,u;for(;;){if(l<0)return new Cs(0,1);if(l>t.viewState.docHeight)return new Cs(t.state.doc.length,-1);if(u=t.elementAtHeight(l),r==null)break;if(u.type==En.Text){if(r<0?u.to<t.viewport.from:u.from>t.viewport.to)break;let f=t.docView.coordsAt(r<0?u.from:u.to,r>0?-1:1);if(f&&(r<0?f.top<=l+s:f.bottom>=l+s))break}let h=t.viewState.heightOracle.textHeight/2;l=r>0?u.bottom+h:u.top-h}if(t.viewport.from>=u.to||t.viewport.to<=u.from){if(n)return null;if(u.type==En.Text){let h=$ue(t,i,u,o,a);return new Cs(h,h==u.from?1:-1)}}if(u.type!=En.Text)return l<(u.top+u.bottom)/2?new Cs(u.from,1):new Cs(u.to,-1);let d=t.docView.lineAt(u.from,2);return(!d||d.length!=u.length)&&(d=t.docView.lineAt(u.from,-2)),w3(t,d,u.from,o,a)}function w3(t,e,n,r,i){let s=-1,o=null,a=1e9,l=1e9,u=i,d=i,h=(f,p)=>{for(let m=0;m<f.length;m++){let g=f[m];if(g.top==g.bottom)continue;let x=g.left>r?g.left-r:g.right<r?r-g.right:0,v=g.top>i?g.top-i:g.bottom<i?i-g.bottom:0;g.top<=d&&g.bottom>=u&&(u=Math.min(g.top,u),d=Math.max(g.bottom,d),v=0),(s<0||(v-l||x-a)<0)&&(s>=0&&l&&a<x&&o.top<=d-2&&o.bottom>=u+2?l=0:(s=p,a=x,l=v,o=g))}};if(e.isText()){for(let p=0;p<e.length;){let m=hn(e.text,p);if(h(jf(e.dom,p,m).getClientRects(),p),!a&&!l)break;p=m}return r>(o.left+o.right)/2==(aE(t,s+n)==St.LTR)?new Cs(n+hn(e.text,s),-1):new Cs(n+s,1)}else{if(!e.length)return new Cs(n,1);for(let g=0;g<e.children.length;g++){let x=e.children[g];if(x.flags&48)continue;let v=(x.dom.nodeType==1?x.dom:jf(x.dom,0,x.length)).getClientRects();if(h(v,g),!a&&!l)break}let f=e.children[s],p=e.posBefore(f,n);return f.isComposite()||f.isText()?w3(t,f,p,Math.max(o.left,Math.min(o.right,r)),i):r>(o.left+o.right)/2==(aE(t,s+n)==St.LTR)?new Cs(p+f.length,-1):new Cs(p,1)}}function aE(t,e){let n=t.state.doc.lineAt(e);return t.bidiSpans(n)[fo.find(t.bidiSpans(n),e-n.from,-1,1)].dir}const ih="";class Nue{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(Ue.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ih}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=on.get(i),a=i.nextSibling;if(a==n){o!=null&&o.breakAfter&&!a&&r!=this.view.contentDOM&&this.lineBreak();break}let l=on.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:E0(i))||E0(a)&&(i.nodeName!="BR"||o!=null&&o.isWidget())&&this.text.length>s)&&!Fue(a,n)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){let n=on.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Bue(e,r.node,r.offset)?n:0))}}function Bue(t,e,n){for(;;){if(!e||n<Ao(e))return!1;if(e==t)return!0;n=za(e)+1,e=e.parentNode}}function Fue(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=on.get(t);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class lE{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Wue{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=k3(e.docView.tile,n,r,0))){let a=s||o?[]:Que(e),l=new Nue(a,e);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Hue(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!fw(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!fw(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),d=e.viewport;if((pe.ios||pe.chrome)&&e.state.selection.main.empty&&l!=u&&(d.from>0||d.to<e.state.doc.length)){let h=Math.min(l,u),f=Math.max(l,u),p=d.from-h,m=d.to-f;(p==0||p==1||h==0)&&(m==0||m==-1||f==e.state.doc.length)&&(l=0,u=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(K.range(u,l)):this.newSel=K.single(u,l)}}}function k3(t,e,n,r){if(t.isComposite()){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,d=r;l<t.children.length;l++){let h=t.children[l],f=u+h.length;if(u<e&&f>n)return k3(h,e,n,u);if(f>=e&&i==-1&&(i=l,s=u),u>n&&h.dom.parentNode==t.dom){o=l,a=d;break}d=f,u=f+h.breakAfter}return{from:s,to:a<0?r+t.length:a,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:o<t.children.length&&o>=0?t.children[o].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function C3(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||pe.android&&e.text.length<a-o)&&(l=i.to,u="end");let d=O3(t.state.doc.sliceString(o,a,ih),e.text,l-o,u);d&&(pe.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==ih+ih&&d.toB--,n={from:o+d.from,to:o+d.toA,insert:et.of(e.text.slice(d.from,d.toB).split(ih))})}else r&&(!t.hasFocus&&t.state.facet(ao)||D0(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(pe.mac||pe.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=K.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:et.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:pe.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=K.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:et.of([" "])}),n)return UO(t,n,r,s);if(r&&!D0(r,i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=S3(t.state.facet(wp).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function UO(t,e,n,r=-1){if(pe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(pe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&hu(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&hu(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&hu(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=Vue(t,e,n));return t.state.facet(c3).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function Vue(t,e,n){let r,i=t.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,u=l<0?s.from:s.to,d=$h(i.facet(wp).map(h=>h(t)),u,l);e.from==d&&(o=d)}if(o>-1)r={changes:e,selection:K.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let l=i.changes(e),u=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=t.state.sliceDoc(e.from,e.to),h,f=n&&b3(t,n.main.head);if(f){let m=e.insert.length-(e.to-e.from);h={from:f.from,to:f.to-m}}else h=t.state.doc.lineAt(s.head);let p=s.to-e.to;r=i.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:l,range:u||m.map(l)};let g=m.to-p,x=g-d.length;if(t.state.sliceDoc(x,g)!=d||g>=h.from&&x<=h.to)return{range:m};let v=i.changes({from:x,to:g,insert:e.insert}),y=m.to-s.to;return{changes:v,range:u?K.range(Math.max(0,u.anchor+y),Math.max(0,u.head+y)):m.map(v)}})}else r={changes:l,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function O3(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Que(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new lE(n,r)),(i!=n||s!=r)&&e.push(new lE(i,s))),e}function Hue(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?K.single(n+e,r+e):null}function D0(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class que{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,pe.safari&&e.contentDOM.addEventListener("input",()=>null),pe.gecko&&ade(e.contentDOM.ownerDocument)}handleEvent(e){!ede(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Uue(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&P3.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),pe.android&&pe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return pe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=j3.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Gue.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,hu(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:pe.safari&&!pe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function cE(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){xr(n.state,i)}}}function Uue(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(cE(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(cE(r.value,l))}}for(let r in ts)n(r).handlers.push(ts[r]);for(let r in ki)n(r).observers.push(ki[r]);return e}const j3=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Gue="dthko",P3=[16,17,18,20,91,92,224,225],km=6;function Cm(t){return Math.max(0,t)*.7+8}function Xue(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Kue{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=Jce(e.contentDOM),this.atoms=e.state.facet(wp).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Ue.allowMultipleSelections)&&Yue(e,n),this.dragging=Jue(e,n)&&E3(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Xue(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=qO(this.view);e.clientX-l.left<=i+km?n=-Cm(i-e.clientX):e.clientX+l.right>=o-km&&(n=Cm(e.clientX-o)),e.clientY-l.top<=s+km?r=-Cm(s-e.clientY):e.clientY+l.bottom>=a-km&&(r=Cm(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=S3(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Yue(t,e){let n=t.state.facet(s3);return n.length?n[0](e):pe.mac?e.metaKey:e.ctrlKey}function Zue(t,e){let n=t.state.facet(o3);return n.length?n[0](e):pe.mac?!e.altKey:!e.ctrlKey}function Jue(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Zu(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function ede(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=on.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const ts=Object.create(null),ki=Object.create(null),T3=pe.ie&&pe.ie_version<15||pe.ios&&pe.webkit_version<604;function tde(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),A3(t,n.value)},50)}function px(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function A3(t,e){e=px(t.state,WO,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(Sw!=null&&n.selection.ranges.every(l=>l.empty)&&Sw==s.toString()){let l=-1;r=n.changeByRange(u=>{let d=n.doc.lineAt(u.from);if(d.from==l)return{range:u};l=d.from;let h=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:h},range:K.cursor(u.from+h.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:K.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}ki.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};ts.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);ki.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};ki.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};ts.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(a3))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=rde(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Kue(t,e,n,r)),r&&t.observer.ignore(()=>{K_(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function uE(t,e,n,r){if(r==1)return K.cursor(e,n);if(r==2)return Due(t.state,e,n);{let i=t.docView.lineAt(e,n),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,K.range(o,a)}}const nde=pe.ie&&pe.ie_version<=11;let dE=null,hE=0,fE=0;function E3(t){if(!nde)return t.detail;let e=dE,n=fE;return dE=t,fE=Date.now(),hE=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(hE+1)%3:1}function rde(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=E3(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=t.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),u,d=uE(t,l.pos,l.assoc,r);if(n.pos!=l.pos&&!o){let h=uE(t,n.pos,n.assoc,r),f=Math.min(h.from,d.from),p=Math.max(h.to,d.to);d=f<d.from?K.range(f,p):K.range(p,f)}return o?i.replaceRange(i.main.extend(d.from,d.to)):a&&r==1&&i.ranges.length>1&&(u=ide(i,l.pos))?u:a?i.addRange(d):K.create([d])}}}function ide(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return K.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}ts.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=K.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",px(t.state,VO,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ts.dragend=t=>(t.inputState.draggedContent=null,!1);function pE(t,e,n,r){if(n=px(t.state,WO,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&Zue(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}ts.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&pE(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return pE(t,e,r,!0),!0}return!1};ts.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=T3?null:e.clipboardData;return n?(A3(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(tde(t),!1)};function sde(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function ode(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:px(t,VO,e.join(t.lineBreak)),ranges:n,linewise:r}}let Sw=null;ts.copy=ts.cut=(t,e)=>{let n=Zu(t.root);if(n&&!Rh(t.contentDOM,n))return!1;let{text:r,ranges:i,linewise:s}=ode(t.state);if(!r&&!s)return!1;Sw=s?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let o=T3?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",r),!0):(sde(t,r),!1)};const M3=Bs.define();function R3(t,e){let n=[];for(let r of t.facet(u3)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:M3.of(!0)}):null}function z3(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=R3(t.state,e);n?t.dispatch(n):t.update([])}},10)}ki.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),z3(t)};ki.blur=t=>{t.observer.clearSelectionRange(),z3(t)};ki.compositionstart=ki.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};ki.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,pe.chrome&&pe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};ki.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};ts.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),u=t.posAtDOM(a.endContainer,a.endOffset);return UO(t,{from:l,to:u,insert:t.state.toText(s)},null),!0}}let i;if(pe.chrome&&pe.android&&(i=j3.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return pe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),pe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>ki.compositionend(t,e),20),!1};const mE=new Set;function ade(t){mE.has(t)||(mE.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const gE=["pre-wrap","normal","pre-line","break-spaces"];let td=!1;function yE(){td=!1}class lde{constructor(e){this.lineWrapping=e,this.doc=et.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return gE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=gE.indexOf(e)>-1,l=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=a||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let d=o[u];d<0?u++:this.heightSamples[Math.floor(d*10)]=!0}}return l}}class cde{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ui{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?En.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ql?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ui(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var kt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(kt||(kt={}));const Ag=.001;class rr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ag&&(td=!0),this.height=e)}replace(e,n,r){return rr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:d,toB:h}=i[a],f=s.lineAt(l,kt.ByPosNoHeight,r.setDoc(n),0,0),p=f.to>=u?f:s.lineAt(u,kt.ByPosNoHeight,r,0,0);for(h+=p.to-u,u=p.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,d=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,kt.ByPosNoHeight,r,0,0));d+=f.from-l,l=f.from;let m=GO.build(r.setDoc(o),e,d,h);s=$0(s,s.replace(l,u,m))}return s.updateHeight(r,0)}static empty(){return new Ir(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new dde(rr.of(e.slice(0,n)),o,rr.of(e.slice(r)))}}function $0(t,e){return t==e?t:(t.constructor!=e.constructor&&(td=!0),e)}rr.prototype.size=1;const ude=Pe.replace({});class D3 extends rr{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Ui(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Ui(i,0,r,this.spaceAbove,ude):this.mainBlock(r,i)}lineAt(e,n,r,i,s){let o=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(o):o}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.lineAt(0,kt.ByPos,r,i,s))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ir extends D3{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Ui(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Ir||i instanceof On&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof On?i=new Ir(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):rr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class On extends rr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(u),h=a+d.length*l,f=Math.max(r,e-h/2);return new Ui(d.from,d.length,f,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:d,length:h}=n.doc.line(s+u);return new Ui(d,h,r+a*u,a,0)}}lineAt(e,n,r,i,s){if(n==kt.ByHeight)return this.blockAt(e,r,i,s);if(n==kt.ByPosNoHeight){let{from:p,to:m}=r.doc.lineAt(e);return new Ui(p,m-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),d=a+u.length*l,h=u.number-o,f=i+a*h+l*(u.from-s-h);return new Ui(u.from,u.length,Math.max(i,Math.min(f,i+this.height-d)),d,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let d=e,h=i;d<=n;){let f=r.doc.lineAt(d);if(d==e){let m=f.number-a;h+=l*m+u*(e-s-m)}let p=l+u*f.length;o(new Ui(f.from,f.length,h,p,0)),h+=p,d=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof On?r[r.length-1]=new On(s.length+i):r.push(null,new On(i-1))}if(e>0){let s=r[0];s instanceof On?r[0]=new On(e+s.length):r.unshift(new On(e-1),null)}return rr.of(r)}decomposeLeft(e,n){n.push(new On(e-1),null)}decomposeRight(e,n){n.push(null,new On(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new On(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let d=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++],f=0;h<0&&(f=-h,h=i.heights[i.index++]),l==-1?l=h:Math.abs(h-l)>=Ag&&(l=-2);let p=new Ir(d,h,f);p.outdated=!1,o.push(p),a+=d+1}a<=s&&o.push(null,new On(s-a).updateHeight(e,a));let u=rr.of(o);return(l<0||Math.abs(u.height-this.height)>=Ag||Math.abs(l-this.heightMetrics(e,n).perLine)>=Ag)&&(td=!0),$0(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class dde extends rr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==kt.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let d=n==kt.ByPosNoHeight?kt.ByPosNoHeight:kt.ByPos;return l?u.join(this.right.lineAt(a,d,r,o,a)):this.left.lineAt(a,d,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,kt.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&xE(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),xE(s,a)}return rr.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?rr.of(this.break?[e,null,n]:[e,n]):(this.left=$0(this.left,e),this.right=$0(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function xE(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof On&&(r=t[e+1])instanceof On&&t.splice(e-1,3,new On(n.length+1+r.length))}const hde=5;class GO{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ir?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ir(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new D3(o,i,r)):(o||s||i>=hde)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ir(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new On(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ir)return e;let n=new Ir(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ir)&&!this.isCovered?this.nodes.push(new Ir(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Ir&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new GO(r,e);return Ve.spans(n,r,i,s,0),s.finish(r)}}function fde(t,e,n){let r=new pde;return Ve.compare(t,e,n,r,0),r.changes}class pde{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&du(e,n,this.changes,5)}}function mde(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let d=u,h=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&h.overflow!="visible"){let f=d.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(u==t.parentNode?i.innerHeight:l,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?d.offsetParent:d.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function gde(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function yde(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class pb{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Pe.replace({widget:new xde(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class xde extends Ws{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class vE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=bE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=St.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(QO).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new lde(n),this.stateDeco=SE(e),this.heightMap=rr.empty().applyChanges(this.stateDeco,et.empty,this.heightOracle.setDoc(e.doc),[new hi(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Pe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Om(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?bE:new XO(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(sh(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=SE(this.state);let i=e.changedRanges,s=hi.extendWithRanges(i,fde(r,this.stateDeco,e?e.changes:cn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);yE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||td)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(h3)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?St.RTL:St.LTR;let o=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,d=0;if(a.width&&a.height){let{scaleX:w,scaleY:k}=X_(n,a);(w>.005&&Math.abs(this.scaleX-w)>.005||k>.005&&Math.abs(this.scaleY-k)>.005)&&(this.scaleX=w,this.scaleY=k,u|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=Y_(e.scrollDOM);let m=(this.printing?yde:mde)(n,this.paddingTop),g=m.top-this.pixelViewport.top,x=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!gde(e.dom))return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(o=!0),o||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:k,charWidth:O,textHeight:C}=e.docView.measureTextSize();o=k>0&&i.refresh(s,k,O,C,Math.max(5,y/O),w),o&&(e.docView.minWidth=0,u|=16)}g>0&&x>0?d=Math.max(g,x):g<0&&x<0&&(d=Math.min(g,x)),yE();for(let k of this.viewports){let O=k.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(k);this.heightMap=(o?rr.empty().applyChanges(this.stateDeco,et.empty,this.heightOracle,[new hi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new cde(k.from,O))}td&&(u|=2)}let b=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),u|=this.updateForViewport()),(u&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Om(i.lineAt(o-r*1e3,kt.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,kt.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,kt.ByPos,s,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&u<l.from?f=h.top:f=h.bottom-d,l=new Om(i.lineAt(f-1e3/2,kt.ByHeight,s,0,0).from,i.lineAt(f+d+1e3/2,kt.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Om(this.heightMap.lineAt(r,kt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,kt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,kt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,kt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new pb(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=St.LTR&&!r)return[];let a=[],l=(d,h,f,p)=>{if(h-d<s)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let v of g)if(v>d&&v<h){l(d,v-10,f,p),l(v+10,h,f,p);return}let x=bde(e,v=>v.from>=f.from&&v.to<=f.to&&Math.abs(v.from-d)<s&&Math.abs(v.to-h)<s&&!g.some(y=>v.from<y&&v.to>y));if(!x){if(h<f.to&&n&&r&&n.visibleRanges.some(b=>b.from<=h&&b.to>=h)){let b=n.moveToLineBoundary(K.cursor(h),!1,!0).head;b>d&&(h=b)}let v=this.gapSize(f,d,h,p),y=r||v<2e6?v:2e6;x=new pb(d,h,v,y)}a.push(x)},u=d=>{if(d.length<o||d.type!=En.Text)return;let h=vde(d.from,d.to,this.stateDeco);if(h.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,p,m;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,v;if(f!=null){let y=Pm(h,f),b=((this.visibleBottom-this.visibleTop)/2+g)/d.height;x=y-b,v=y+b}else x=(this.visibleTop-d.top-g)/d.height,v=(this.visibleBottom-d.top+g)/d.height;p=jm(h,x),m=jm(h,v)}else{let g=h.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,v=0;if(g>2e6)for(let O of e)O.from>=d.from&&O.from<d.to&&O.size!=O.displaySize&&O.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=O.size-O.displaySize);let y=this.pixelViewport.left+v,b=this.pixelViewport.right+v,w,k;if(f!=null){let O=Pm(h,f),C=((b-y)/2+x)/g;w=O-C,k=O+C}else w=(y-x)/g,k=(b+x)/g;p=jm(h,w),m=jm(h,k)}p>d.from&&l(d.from,p,d,h),m<d.to&&l(m,d.to,d,h)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(u):u(d);return a}gapSize(e,n,r,i){let s=Pm(i,r)-Pm(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){pb.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Pe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Ve.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||sh(this.heightMap.lineAt(e,kt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||sh(this.heightMap.lineAt(this.scaler.fromDOM(e),kt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return sh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Om{constructor(e,n){this.from=e,this.to=n}}function vde(t,e,n){let r=[],i=t,s=0;return Ve.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function jm({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Pm(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function bde(t,e){for(let n of t)if(e(n))return n}const bE={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function SE(t){let e=t.facet(dx).filter(r=>typeof r!="function"),n=t.facet(HO).filter(r=>typeof r!="function");return n.length&&e.push(Ve.join(n)),e}class XO{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,kt.ByPos,e,0,0).top,d=n.lineAt(l,kt.ByPos,e,0,0).bottom;return i+=d-u,{from:a,to:l,top:u,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof XO?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function sh(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ui(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>sh(i,e)):t._content)}const Tm=me.define({combine:t=>t.join(" ")}),ww=me.define({combine:t=>t.indexOf(!0)>-1}),kw=Ma.newName(),$3=Ma.newName(),L3=Ma.newName(),I3={"&light":"."+$3,"&dark":"."+L3};function Cw(t,e,n){return new Ma(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Sde=Cw("."+kw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},I3),wde={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},mb=pe.ie&&pe.ie_version<=11;class kde{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new eue,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(pe.ie&&pe.ie_version<=11||pe.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&pe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(pe.chrome&&pe.chrome_version<126)&&(this.editContext=new Ode(e),e.state.facet(ao)&&(e.contentDOM.editContext=this.editContext.editContext)),mb&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ao)?r.root.activeElement!=this.dom:!Rh(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(pe.ie&&pe.ie_version<=11||pe.android&&pe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Dh(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Zu(e.root);if(!n)return!1;let r=pe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Cde(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Rh(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&nue(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,wde),mb&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),mb&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&hu(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Rh(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Wue(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=C3(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!D0(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=wE(n,e.previousSibling||e.target.previousSibling,-1),i=wE(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ao)!=e.state.facet(ao)&&(e.view.contentDOM.editContext=e.state.facet(ao)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function wE(t,e,n){for(;e;){let r=on.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function kE(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor,1);return Dh(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Cde(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return kE(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?kE(t,n):null}class Ode{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let d=O3(e.state.sliceDoc(a,l),r.text,(u?i.from:i.to)-a,u?"end":null);if(!d){let f=K.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));D0(f,i)||e.dispatch({selection:f,userEvent:"select"});return}let h={from:d.from+a,to:d.toA+a,insert:et.of(r.text.slice(d.from,d.toB).split(`
`))};if((pe.mac||pe.android)&&h.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:a,to:l,insert:et.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let f=this.to-this.from+(h.to-h.from+h.insert.length);UO(e,h,K.single(this.toEditorPos(r.selectionStart,f),this.toEditorPos(r.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),h.from<h.to&&!h.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let d=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(Pe.mark({attributes:{style:d}}).range(l,u))}}}e.dispatch({effects:p3.of(Pe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Zu(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let d=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ue{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||tue(e.parent)||document,this.viewState=new vE(e.state||Ue.create(e)),e.scrollTo&&e.scrollTo.is(wm)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Nc).map(i=>new cb(i));for(let i of this.plugins)i.update(this);this.observer=new kde(this),this.inputState=new que(this),this.inputState.ensureHandlers(this.plugins),this.docView=new sE(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof fn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(M3))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=R3(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,d=null;if(u?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(Ue.phrases)!=this.state.facet(Ue.phrases))return this.setState(s);i=M0.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:p}=f.state.selection;h=new fu(p.empty?p:K.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of f.effects)p.is(wm)&&(h=p.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=L0.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(rh)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Tm)!=i.state.facet(Tm)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(yw))try{f(i)}catch(p){xr(this.state,p,"update listener")}(l||d)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),d&&!C3(this,d)&&u.force&&hu(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new vE(e),this.plugins=e.facet(Nc).map(r=>new cb(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new sE(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Nc),r=e.state.facet(Nc);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new cb(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){xr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(Y_(r))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let d=u.map(p=>{try{return p.read(this)}catch(m){return xr(this.state,m),CE}}),h=M0.create(this,this.state,[]),f=!1;h.flags|=l,n?n.flags|=l:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(d[p]!=CE)try{let m=u[p];m.write&&m.write(d[p],this)}catch(m){xr(this.state,m)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){i=i+m,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(yw))a(n)}get themeClasses(){return kw+" "+(this.state.facet(ww)?L3:$3)+" "+this.state.facet(Tm)}updateAttrs(){let e=OE(this,m3,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ao)?"true":"false",class:"cm-content",style:`${pe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),OE(this,QO,n);let r=this.observer.ignore(()=>{let i=JA(this.contentDOM,this.contentAttrs,n),s=JA(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(ue.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(rh);let e=this.state.facet(ue.cspNonce);Ma.mount(this.root,this.styleModules.concat(Sde).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return fb(this,e,oE(this,e,n,r))}moveByGroup(e,n){return fb(this,e,oE(this,e,n,r=>Iue(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return K.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Lue(this,e,n,r)}moveVertically(e,n,r){return fb(this,e,_ue(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=bw(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),bw(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[fo.find(s,e-i.from,-1,n)];return Of(r,o.dir==St.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(d3)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>jde)return r3(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||n3(s.isolates,r=nE(this,e))))return s.order;r||(r=nE(this,e));let i=cue(e.text,n,r);return this.bidiCache.push(new L0(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||pe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{K_(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return wm.of(new fu(typeof e=="number"?K.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return wm.of(new fu(K.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return tn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return tn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ma.newName(),i=[Tm.of(r),rh.of(Cw(`.${r}`,e))];return n&&n.dark&&i.push(ww.of(!0)),i}static baseTheme(e){return rc.lowest(rh.of(Cw("."+kw,e,I3)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&on.get(r)||on.get(e);return((n=i==null?void 0:i.root)===null||n===void 0?void 0:n.view)||null}}ue.styleModule=rh;ue.inputHandler=c3;ue.clipboardInputFilter=WO;ue.clipboardOutputFilter=VO;ue.scrollHandler=f3;ue.focusChangeEffect=u3;ue.perLineTextDirection=d3;ue.exceptionSink=l3;ue.updateListener=yw;ue.editable=ao;ue.mouseSelectionStyle=a3;ue.dragMovesSelection=o3;ue.clickAddsSelectionRange=s3;ue.decorations=dx;ue.blockWrappers=g3;ue.outerDecorations=HO;ue.atomicRanges=wp;ue.bidiIsolatedRanges=y3;ue.scrollMargins=x3;ue.darkTheme=ww;ue.cspNonce=me.define({combine:t=>t.length?t[0]:""});ue.contentAttributes=QO;ue.editorAttributes=m3;ue.lineWrapping=ue.contentAttributes.of({class:"cm-lineWrapping"});ue.announce=Ie.define();const jde=4096,CE={};class L0{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:St.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new L0(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function OE(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&NO(o,n)}return n}const Pde=pe.mac?"mac":pe.windows?"win":pe.linux?"linux":"key";function Tde(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Am(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Ade=rc.default(ue.domEventHandlers({keydown(t,e){return N3(_3(e.state),t,e,"editor")}})),mx=me.define({enables:Ade}),jE=new WeakMap;function _3(t){let e=t.facet(mx),n=jE.get(e);return n||jE.set(e,n=Rde(e.reduce((r,i)=>r.concat(i),[]))),n}function Ede(t,e,n){return N3(_3(t.state),e,t,n)}let Jo=null;const Mde=4e3;function Rde(t,e=Pde){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,d)=>{var h,f;let p=n[o]||(n[o]=Object.create(null)),m=a.split(/ (?!$)/).map(v=>Tde(v,e));for(let v=1;v<m.length;v++){let y=m.slice(0,v).join(" ");i(y,!0),p[y]||(p[y]={preventDefault:!0,stopPropagation:!1,run:[b=>{let w=Jo={view:b,prefix:y,scope:o};return setTimeout(()=>{Jo==w&&(Jo=null)},Mde),!0}]})}let g=m.join(" ");i(g,!1);let x=p[g]||(p[g]={preventDefault:!1,stopPropagation:!1,run:((f=(h=p._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&x.run.push(l),u&&(x.preventDefault=!0),d&&(x.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let d=n[u]||(n[u]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let f in d)d[f].run.push(p=>h(p,Ow))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let Ow=null;function N3(t,e,n,r){Ow=e;let i=qce(e),s=fr(i,0),o=ks(s)==i.length&&i!=" ",a="",l=!1,u=!1,d=!1;Jo&&Jo.view==n&&Jo.scope==r&&(a=Jo.prefix+" ",P3.indexOf(e.keyCode)<0&&(u=!0,Jo=null));let h=new Set,f=x=>{if(x){for(let v of x.run)if(!h.has(v)&&(h.add(v),v(n)))return x.stopPropagation&&(d=!0),!0;x.preventDefault&&(x.stopPropagation&&(d=!0),u=!0)}return!1},p=t[r],m,g;return p&&(f(p[a+Am(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(pe.windows&&e.ctrlKey&&e.altKey)&&!(pe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(m=Ra[e.keyCode])&&m!=i?(f(p[a+Am(m,e,!0)])||e.shiftKey&&(g=kf[e.keyCode])!=i&&g!=m&&f(p[a+Am(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(p[a+Am(i,e,!0)])&&(l=!0),!l&&f(p._any)&&(l=!0)),u&&(l=!0),l&&d&&e.stopPropagation(),Ow=null,l}class kp{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=B3(e);return[new kp(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return zde(e,n,r)}}function B3(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==St.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function PE(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function zde(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==St.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=B3(t),u=o.querySelector(".cm-line"),d=u&&window.getComputedStyle(u),h=a.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),f=a.right-(d?parseInt(d.paddingRight):0),p=vw(t,r,1),m=vw(t,i,-1),g=p.type==En.Text?p:null,x=m.type==En.Text?m:null;if(g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=PE(t,r,1,g)),x&&(t.lineWrapping||m.widgetLineBreaks)&&(x=PE(t,i,-1,x)),g&&x&&g.from==x.from&&g.to==x.to)return y(b(n.from,n.to,g));{let k=g?b(n.from,null,g):w(p,!1),O=x?b(null,n.to,x):w(m,!0),C=[];return(g||p).to<(x||m).from-(g&&x?1:0)||p.widgetLineBreaks>1&&k.bottom+t.defaultLineHeight/2<O.top?C.push(v(h,k.bottom,f,O.top)):k.bottom<O.top&&t.elementAtHeight((k.bottom+O.top)/2).type==En.Text&&(k.bottom=O.top=(k.bottom+O.top)/2),y(k).concat(C).concat(y(O))}function v(k,O,C,j){return new kp(e,k-l.left,O-l.top,Math.max(0,C-k),j-O)}function y({top:k,bottom:O,horizontal:C}){let j=[];for(let P=0;P<C.length;P+=2)j.push(v(C[P],k,C[P+1],O));return j}function b(k,O,C){let j=1e9,P=-1e9,A=[];function E(_,B,ee,W,L){let Q=t.coordsAtPos(_,_==C.to?-2:2),I=t.coordsAtPos(ee,ee==C.from?2:-2);!Q||!I||(j=Math.min(Q.top,I.top,j),P=Math.max(Q.bottom,I.bottom,P),L==St.LTR?A.push(s&&B?h:Q.left,s&&W?f:I.right):A.push(!s&&W?h:I.left,!s&&B?f:Q.right))}let F=k??C.from,H=O??C.to;for(let _ of t.visibleRanges)if(_.to>F&&_.from<H)for(let B=Math.max(_.from,F),ee=Math.min(_.to,H);;){let W=t.state.doc.lineAt(B);for(let L of t.bidiSpans(W)){let Q=L.from+W.from,I=L.to+W.from;if(Q>=ee)break;I>B&&E(Math.max(Q,B),k==null&&Q<=F,Math.min(I,ee),O==null&&I>=H,L.dir)}if(B=W.to+1,B>=ee)break}return A.length==0&&E(F,k==null,H,O==null,t.textDirection),{top:j,bottom:P,horizontal:A}}function w(k,O){let C=a.top+(O?k.top:k.bottom);return{top:C,bottom:C,horizontal:[]}}}function Dde(t,e){return t.constructor==e.constructor&&t.eq(e)}class $de{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Eg)!=e.state.facet(Eg)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Eg);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Dde(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,pe.safari&&pe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Eg=me.define();function F3(t){return[tn.define(e=>new $de(e,t)),Eg.of(t)]}const Pf=me.define({combine(t){return Fs(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Lde(t={}){return[Pf.of(t),Ide,_de,Nde,h3.of(!0)]}function W3(t){return t.startState.facet(Pf)!=t.state.facet(Pf)}const Ide=F3({above:!0,markers(t){let{state:e}=t,n=e.facet(Pf),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:K.cursor(i.head,i.head>i.anchor?-1:1);for(let l of kp.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=W3(t);return n&&TE(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){TE(e.state,t)},class:"cm-cursorLayer"});function TE(t,e){e.style.animationDuration=t.facet(Pf).cursorBlinkRate+"ms"}const _de=F3({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:kp.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||W3(t)},class:"cm-selectionLayer"}),Nde=rc.highest(ue.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),V3=Ie.define({map(t,e){return t==null?null:e.mapPos(t)}}),oh=Rn.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(V3)?r.value:n,t)}}),Bde=tn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(oh);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(oh)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(oh),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(oh)!=t&&this.view.dispatch({effects:V3.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Fde(){return[oh,Bde]}function AE(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Wde(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Vde{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,d)=>i(d,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,d)=>{let h=r(a,l,u);h&&d(u,u+a[0].length,h)};else if(r)this.addMatch=(a,l,u,d)=>d(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new To,r=n.add.bind(n);for(let{from:i,to:s}of Wde(e,this.maxLength))AE(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,d=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){d=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){h=a;break}}let f=[],p,m=(g,x,v)=>f.push(v.range(g,x));if(l==u)for(this.regexp.lastIndex=d-l.from;(p=this.regexp.exec(l.text))&&p.index<h-l.from;)this.addMatch(p,e,p.index+l.from,m);else AE(e.state.doc,this.regexp,d,h,(g,x)=>this.addMatch(x,e,g,m));n=n.update({filterFrom:d,filterTo:h,filter:(g,x)=>g<d||x>h,add:f})}}return n}}const jw=/x/.unicode!=null?"gu":"g",Qde=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,jw),Hde={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let gb=null;function qde(){var t;if(gb==null&&typeof document<"u"&&document.body){let e=document.body.style;gb=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return gb||!1}const Mg=me.define({combine(t){let e=Fs(t,{render:null,specialChars:Qde,addSpecialChars:null});return(e.replaceTabs=!qde())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,jw)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,jw)),e}});function Ude(t={}){return[Mg.of(t),Gde()]}let EE=null;function Gde(){return EE||(EE=tn.fromClass(class{constructor(t){this.view=t,this.decorations=Pe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Mg)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Vde({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=fr(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=hd(o.text,a,r-o.from);return Pe.replace({widget:new Zde((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Pe.replace({widget:new Yde(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Mg);t.startState.facet(Mg)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Xde="";function Kde(t){return t>=32?Xde:t==10?"":String.fromCharCode(9216+t)}class Yde extends Ws{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=Kde(this.code),r=e.state.phrase("Control character")+" "+(Hde[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Zde extends Ws{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Jde(){return the}const ehe=Pe.line({class:"cm-activeLine"}),the=tn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(ehe.range(i.from)),e=i.from)}return Pe.set(n)}},{decorations:t=>t.decorations});class nhe extends Ws{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?zh(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Of(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function rhe(t){let e=tn.fromClass(class{constructor(n){this.view=n,this.placeholder=t?Pe.set([Pe.widget({widget:new nhe(t),side:1}).range(0)]):Pe.none}get decorations(){return this.view.state.doc.length?Pe.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,ue.contentAttributes.of({"aria-placeholder":t})]:e}const Pw=2e3;function ihe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Pw||n.off>Pw||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(K.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),d=ow(u.text,o,t.tabSize,!0);if(d<0)s.push(K.cursor(u.to));else{let h=ow(u.text,a,t.tabSize);s.push(K.range(u.from+d,u.from+h))}}}return s}function she(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function ME(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Pw?-1:i==r.length?she(t,e.clientX):hd(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function ohe(t,e){let n=ME(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=ME(t,i);if(!a)return r;let l=ihe(t.state,n,a);return l.length?o?K.create(l.concat(r.ranges)):K.create(l):r}}:null}function ahe(t){let e=n=>n.altKey&&n.button==0;return ue.mouseSelectionStyle.of((n,r)=>e(r)?ohe(n,r):null)}const lhe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},che={style:"cursor: crosshair"};function uhe(t={}){let[e,n]=lhe[t.key||"Alt"],r=tn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,ue.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?che:null})]}const Em="-10000px";class Q3{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],d=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==u.create&&(d=h)}if(d<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let h=o[l]=this.tooltipViews[d];a&&(a[l]=n[d]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function dhe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const yb=me.define({combine:t=>{var e,n,r;return{position:pe.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||dhe}}}),RE=new WeakMap,KO=tn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(yb);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Q3(t,YO,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(yb);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Em,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(pe.safari){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=qO(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(yb).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:d}=u,h=t.pos[a],f=t.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1)){d.style.top=Em;continue}let p=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,m=p?7:0,g=f.right-f.left,x=(e=RE.get(u))!==null&&e!==void 0?e:f.bottom-f.top,v=u.offset||fhe,y=this.view.textDirection==St.LTR,b=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.max(r.left,Math.min(h.left-(p?14:0)+v.x,r.right-g)):Math.min(Math.max(r.left,h.left-g+(p?14:0)-v.x),r.right-g),w=this.above[a];!l.strictSide&&(w?h.top-x-m-v.y<r.top:h.bottom+x+m+v.y>r.bottom)&&w==r.bottom-h.bottom>h.top-r.top&&(w=this.above[a]=!w);let k=(w?h.top-r.top:r.bottom-h.bottom)-m;if(k<x&&u.resize!==!1){if(k<this.view.defaultLineHeight){d.style.top=Em;continue}RE.set(u,x),d.style.height=(x=k)/s+"px"}else d.style.height&&(d.style.height="");let O=w?h.top-x-m-v.y:h.bottom+m+v.y,C=b+g;if(u.overlap!==!0)for(let j of o)j.left<C&&j.right>b&&j.top<O+x&&j.bottom>O&&(O=w?j.top-x-2-m:j.bottom+m+2);if(this.position=="absolute"?(d.style.top=(O-t.parent.top)/s+"px",zE(d,(b-t.parent.left)/i)):(d.style.top=O/s+"px",zE(d,b/i)),p){let j=h.left+(y?v.x:-v.x)-(b+14-7);p.style.left=j/i+"px"}u.overlap!==!0&&o.push({left:b,top:O,right:C,bottom:O+x}),d.classList.toggle("cm-tooltip-above",w),d.classList.toggle("cm-tooltip-below",!w),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Em}},{eventObservers:{scroll(){this.maybeMeasure()}}});function zE(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const hhe=ue.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),fhe={x:0,y:0},YO=me.define({enables:[KO,hhe]}),I0=me.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class gx{static create(e){return new gx(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Q3(e,I0,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const phe=YO.compute([I0],t=>{let e=t.facet(I0);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:gx.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class mhe{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,s=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),u=l&&l.dir==St.RTL?-1:1;s=n.x<a.left?-u:u}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>xr(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(KO),n=e?e.manager.tooltips.findIndex(r=>r.create==gx.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!ghe(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!yhe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Mm=4;function ghe(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-Mm&&e.clientX<=r+Mm&&e.clientY>=i-Mm&&e.clientY<=s+Mm}function yhe(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function xhe(t,e={}){let n=Ie.define(),r=Rn.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,Zn.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(vhe)&&(i=[]);return i},provide:i=>I0.from(i)});return{active:r,extension:[r,tn.define(i=>new mhe(i,t,r,n,e.hoverTime||300)),phe]}}function H3(t,e){let n=t.plugin(KO);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const vhe=Ie.define(),DE=me.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function ZO(t,e){let n=t.plugin(q3),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const q3=tn.fromClass(class{constructor(t){this.input=t.state.facet(Tf),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(DE);this.top=new Rm(t,!0,e.topContainer),this.bottom=new Rm(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(DE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Rm(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Rm(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Tf);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),d;u<0?(d=l(t.view),a.push(d)):(d=this.panels[u],d.update&&d.update(t)),i.push(d),(d.top?s:o).push(d)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ue.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Rm{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=$E(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=$E(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function $E(t){let e=t.nextSibling;return t.remove(),e}const Tf=me.define({enables:q3});function bhe(t,e){let n,r=new Promise(o=>n=o),i=o=>She(o,e,n);t.state.field(xb,!1)?t.dispatch({effects:U3.of(i)}):t.dispatch({effects:Ie.appendConfig.of(xb.init(()=>[i]))});let s=G3.of(i);return{close:s,result:r.then(o=>((t.win.queueMicrotask||(l=>t.win.setTimeout(l,10)))(()=>{t.state.field(xb).indexOf(i)>-1&&t.dispatch({effects:s})}),o))}}const xb=Rn.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(U3)?t=[n.value].concat(t):n.is(G3)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>Tf.computeN([t],e=>e.field(t))}),U3=Ie.define(),G3=Ie.define();function She(t,e,n){let r=e.content?e.content(t,()=>o(null)):null;if(!r){if(r=gt("form"),e.input){let a=gt("input",e.input);/^(text|password|number|email|tel|url)$/.test(a.type)&&a.classList.add("cm-textfield"),a.name||(a.name="input"),r.appendChild(gt("label",(e.label||"")+": ",a))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(gt("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let a=0;a<i.length;a++){let l=i[a];l.addEventListener("keydown",u=>{u.keyCode==27?(u.preventDefault(),o(null)):u.keyCode==13&&(u.preventDefault(),o(l))}),l.addEventListener("submit",u=>{u.preventDefault(),o(l)})}let s=gt("div",r,gt("button",{onclick:()=>o(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function o(a){s.contains(s.ownerDocument.activeElement)&&t.focus(),n(a)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let a;typeof e.focus=="string"?a=r.querySelector(e.focus):a=r.querySelector("input")||r.querySelector("button"),a&&"select"in a?a.select():a&&"focus"in a&&a.focus()}}}}class Eo extends Ea{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Eo.prototype.elementClass="";Eo.prototype.toDOM=void 0;Eo.prototype.mapMode=Zn.TrackBefore;Eo.prototype.startSide=Eo.prototype.endSide=-1;Eo.prototype.point=!0;const Rg=me.define(),whe=me.define(),khe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ve.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Lh=me.define();function Che(t){return[X3(),Lh.of({...khe,...t})]}const LE=me.define({combine:t=>t.some(e=>e)});function X3(t){return[Ohe]}const Ohe=tn.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Lh).map(e=>new _E(t,e)),this.fixed=!t.state.facet(LE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(LE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=Ve.iter(this.view.state.facet(Rg),this.view.viewport.from),r=[],i=this.gutters.map(s=>new jhe(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==En.Text&&o){Tw(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==En.Text){Tw(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Lh),n=t.state.facet(Lh),r=t.docChanged||t.heightChanged||t.viewportChanged||!Ve.eq(t.startState.facet(Rg),t.state.facet(Rg),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new _E(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>ue.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==St.LTR?{left:r,right:i}:{right:r,left:i}})});function IE(t){return Array.isArray(t)?t:[t]}function Tw(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class jhe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ve.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new K3(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];Tw(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(whe)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class _E{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=IE(n.markers(e)),n.initialSpacer&&(this.spacer=new K3(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=IE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Ve.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class K3{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Phe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let d=l.elementClass;d&&(r+=" "+d);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let d=this.markers[o++];if(d.toDOM){d.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Phe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const The=me.define(),Ahe=me.define(),Bc=me.define({combine(t){return Fs(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class vb extends Eo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function bb(t,e){return t.state.facet(Bc).formatNumber(e,t.state)}const Ehe=Lh.compute([Bc],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(The)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new vb(bb(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Ahe)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Bc)!=e.state.facet(Bc),initialSpacer(e){return new vb(bb(e,NE(e.state.doc.lines)))},updateSpacer(e,n){let r=bb(n.view,NE(n.view.state.doc.lines));return r==e.number?e:new vb(r)},domEventHandlers:t.facet(Bc).domEventHandlers,side:"before"}));function Mhe(t={}){return[Bc.of(t),X3(),Ehe]}function NE(t){let e=9;for(;e<t;)e=e*10+9;return e}const Rhe=new class extends Eo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},zhe=Rg.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Rhe.range(i)))}return Ve.of(e)});function Dhe(){return zhe}const Y3=1024;let $he=0;class Sb{constructor(e,n){this.from=e,this.to=n}}class Fe{constructor(e={}){this.id=$he++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Mr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Fe.closedBy=new Fe({deserialize:t=>t.split(" ")});Fe.openedBy=new Fe({deserialize:t=>t.split(" ")});Fe.group=new Fe({deserialize:t=>t.split(" ")});Fe.isolate=new Fe({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Fe.contextHash=new Fe({perNode:!0});Fe.lookAhead=new Fe({perNode:!0});Fe.mounted=new Fe({perNode:!0});class Ih{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Fe.mounted.id]}}const Lhe=Object.create(null);class Mr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Lhe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Mr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Fe.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Fe.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}Mr.none=new Mr("",Object.create(null),0,8);class JO{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}n.push(i?new Mr(r.name,i,r.id,r.flags):r)}return new JO(n)}}const zm=new WeakMap,BE=new WeakMap;var Lt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Lt||(Lt={}));class en{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Ih.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Ew(this.topNode,e)}cursorAt(e,n=0,r=0){let i=zm.get(this)||this.topNode,s=new Ew(i);return s.moveTo(e,n),zm.set(this,s._tree),s}get topNode(){return new Tr(this,0,0,null)}resolve(e,n=0){let r=Af(zm.get(this)||this.topNode,e,n,!1);return zm.set(this,r),r}resolveInner(e,n=0){let r=Af(BE.get(this)||this.topNode,e,n,!0);return BE.set(this,r),r}resolveStack(e,n=0){return Nhe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Lt.IncludeAnonymous)>0;for(let l=this.cursor(o|Lt.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:n2(Mr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new en(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new en(Mr.none,n,r,i)))}static build(e){return Bhe(e)}}en.empty=new en(Mr.none,[],[],0);class e2{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new e2(this.buffer,this.index)}}class Da{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Mr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(Z3(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Da(s,o,this.set)}}function Z3(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Af(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Tr&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Lt.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Tr&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class J3{cursor(e=0){return new Ew(this,e)}getChild(e,n=null,r=null){let i=FE(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return FE(this,e,n,r)}resolve(e,n=0){return Af(this,e,n,!1)}resolveInner(e,n=0){return Af(this,e,n,!0)}matchContext(e){return Aw(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Tr extends J3{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let d=a[e],h=l[e]+o.from,f;if(!(!(s&Lt.EnterBracketed&&d instanceof en&&(f=Ih.get(d))&&!f.overlay&&f.bracketed&&r>=h&&r<=h+d.length)&&!Z3(i,r,h,h+d.length))){if(d instanceof Da){if(s&Lt.ExcludeBuffers)continue;let p=d.findChild(0,d.buffer.length,n,r-h,i);if(p>-1)return new Os(new Ihe(o,d,e,h),null,p)}else if(s&Lt.IncludeAnonymous||!d.type.isAnonymous||t2(d)){let p;if(!(s&Lt.IgnoreMounts)&&(p=Ih.get(d))&&!p.overlay)return new Tr(p.tree,h,e,o);let m=new Tr(d,h,e,o);return s&Lt.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?d.children.length-1:0,n,r,i,s)}}}if(s&Lt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Lt.IgnoreOverlays)&&(i=Ih.get(this._tree))&&i.overlay){let s=e-this.from,o=r&Lt.EnterBracketed&&i.bracketed;for(let{from:a,to:l}of i.overlay)if((n>0||o?a<=s:a<s)&&(n<0||o?l>=s:l>s))return new Tr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function FE(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function Aw(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Ihe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Os extends J3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Os(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Lt.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Os(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Os(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Os(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new en(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function e4(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Tr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new _he(i,n)}class _he{constructor(e,n){this.heads=e,this.node=n}get next(){return e4(this.heads)}}function Nhe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Tr?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=Ih.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Tr(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Af(a,e,n,!1))}}return i?e4(i):r}class Ew{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Lt.EnterBracketed,e instanceof Tr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Tr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Lt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Lt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Lt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Lt.IncludeAnonymous||a instanceof Da||!a.type.isAnonymous||t2(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Os(this.buffer,n,this.stack[i]);return this.bufferNode=new Os(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Aw(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Aw(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function t2(t){return t.children.some(e=>e instanceof Da||!e.type.isAnonymous||t2(e))}function Bhe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Y3,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new e2(n,n.length):n,l=r.types,u=0,d=0;function h(k,O,C,j,P,A){let{id:E,start:F,end:H,size:_}=a,B=d,ee=u;if(_<0)if(a.next(),_==-1){let Y=s[E];C.push(Y),j.push(F-k);return}else if(_==-3){u=E;return}else if(_==-4){d=E;return}else throw new RangeError(`Unrecognized record size: ${_}`);let W=l[E],L,Q,I=F-k;if(H-F<=i&&(Q=x(a.pos-O,P))){let Y=new Uint16Array(Q.size-Q.skip),ie=a.pos-Q.size,Z=Y.length;for(;a.pos>ie;)Z=v(Q.start,Y,Z);L=new Da(Y,H-Q.start,r),I=Q.start-k}else{let Y=a.pos-_;a.next();let ie=[],Z=[],se=E>=o?E:-1,V=0,J=H;for(;a.pos>Y;)se>=0&&a.id==se&&a.size>=0?(a.end<=J-i&&(m(ie,Z,F,V,a.end,J,se,B,ee),V=ie.length,J=a.end),a.next()):A>2500?f(F,Y,ie,Z):h(F,Y,ie,Z,se,A+1);if(se>=0&&V>0&&V<ie.length&&m(ie,Z,F,V,F,J,se,B,ee),ie.reverse(),Z.reverse(),se>-1&&V>0){let U=p(W,ee);L=n2(W,ie,Z,0,ie.length,0,H-F,U,U)}else L=g(W,ie,Z,H-F,B-H,ee)}C.push(L),j.push(I)}function f(k,O,C,j){let P=[],A=0,E=-1;for(;a.pos>O;){let{id:F,start:H,end:_,size:B}=a;if(B>4)a.next();else{if(E>-1&&H<E)break;E<0&&(E=_-i),P.push(F,H,_),A++,a.next()}}if(A){let F=new Uint16Array(A*4),H=P[P.length-2];for(let _=P.length-3,B=0;_>=0;_-=3)F[B++]=P[_],F[B++]=P[_+1]-H,F[B++]=P[_+2]-H,F[B++]=B;C.push(new Da(F,P[2]-H,r)),j.push(H-k)}}function p(k,O){return(C,j,P)=>{let A=0,E=C.length-1,F,H;if(E>=0&&(F=C[E])instanceof en){if(!E&&F.type==k&&F.length==P)return F;(H=F.prop(Fe.lookAhead))&&(A=j[E]+F.length+H)}return g(k,C,j,P,A,O)}}function m(k,O,C,j,P,A,E,F,H){let _=[],B=[];for(;k.length>j;)_.push(k.pop()),B.push(O.pop()+C-P);k.push(g(r.types[E],_,B,A-P,F-A,H)),O.push(P-C)}function g(k,O,C,j,P,A,E){if(A){let F=[Fe.contextHash,A];E=E?[F].concat(E):[F]}if(P>25){let F=[Fe.lookAhead,P];E=E?[F].concat(E):[F]}return new en(k,O,C,j,E)}function x(k,O){let C=a.fork(),j=0,P=0,A=0,E=C.end-i,F={size:0,start:0,skip:0};e:for(let H=C.pos-k;C.pos>H;){let _=C.size;if(C.id==O&&_>=0){F.size=j,F.start=P,F.skip=A,A+=4,j+=4,C.next();continue}let B=C.pos-_;if(_<0||B<H||C.start<E)break;let ee=C.id>=o?4:0,W=C.start;for(C.next();C.pos>B;){if(C.size<0)if(C.size==-3||C.size==-4)ee+=4;else break e;else C.id>=o&&(ee+=4);C.next()}P=W,j+=_,A+=ee}return(O<0||j==k)&&(F.size=j,F.start=P,F.skip=A),F.size>4?F:void 0}function v(k,O,C){let{id:j,start:P,end:A,size:E}=a;if(a.next(),E>=0&&j<o){let F=C;if(E>4){let H=a.pos-(E-4);for(;a.pos>H;)C=v(k,O,C)}O[--C]=F,O[--C]=A-k,O[--C]=P-k,O[--C]=j}else E==-3?u=j:E==-4&&(d=j);return C}let y=[],b=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,y,b,-1,0);let w=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new en(l[t.topID],y.reverse(),b.reverse(),w)}const WE=new WeakMap;function zg(t,e){if(!t.isAnonymous||e instanceof Da||e.type!=t)return 1;let n=WE.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof en)){n=1;break}n+=zg(t,r)}WE.set(e,n)}return n}function n2(t,e,n,r,i,s,o,a,l){let u=0;for(let m=r;m<i;m++)u+=zg(t,e[m]);let d=Math.ceil(u*1.5/8),h=[],f=[];function p(m,g,x,v,y){for(let b=x;b<v;){let w=b,k=g[b],O=zg(t,m[b]);for(b++;b<v;b++){let C=zg(t,m[b]);if(O+C>=d)break;O+=C}if(b==w+1){if(O>d){let C=m[w];p(C.children,C.positions,0,C.children.length,g[w]+y);continue}h.push(m[w])}else{let C=g[b-1]+m[b-1].length-k;h.push(n2(t,m,g,w,b,k,C,null,l))}f.push(k+y-s)}}return p(e,n,r,i,0),(a||l)(h,f,o)}class Fhe{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Os?this.setBuffer(e.context.buffer,e.index,n):e instanceof Tr&&this.map.set(e.tree,n)}get(e){return e instanceof Os?this.getBuffer(e.context.buffer,e.index):e instanceof Tr?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Al{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Al(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let d=a<n.length?n[a]:null,h=d?d.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||u){let p=Math.max(f.from,l)-u,m=Math.min(f.to,h)-u;f=p>=m?null:new Al(p,m,f.tree,f.offset+u,a>0,!!d)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!d)break;l=d.toA,u=d.toA-d.toB}return i}}class t4{startParse(e,n,r){return typeof e=="string"&&(e=new Whe(e)),r=r?r.length?r.map(i=>new Sb(i.from,i.to)):[new Sb(0,0)]:[new Sb(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class Whe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Fe({perNode:!0});let Vhe=0;class ci{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Vhe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof ci&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new ci(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new _0(e);return r=>r.modified.indexOf(n)>-1?r:_0.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let Qhe=0;class _0{constructor(e){this.name=e,this.instances=[],this.id=Qhe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Hhe(n,a.modified));if(r)return r;let i=[],s=new ci(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=qhe(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(_0.get(a,l));return s}}function Hhe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function qhe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function r2(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let p=i[h++];if(h==i.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let d=new Ef(r,o,l>0?s.slice(0,l):null);e[u]=d.sort(e[u])}}return n4.add(e)}const n4=new Fe({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Ef(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class Ef{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Ef.empty=new Ef([],2,null);function r4(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function Uhe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Ghe(t,e,n,r=0,i=t.length){let s=new Xhe(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class Xhe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let u=i,d=Khe(e)||Ef.empty,h=Uhe(s,d.tags);if(h&&(u&&(u+=" "),u+=h,d.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,a),u),d.opaque)return;let f=e.tree&&e.tree.prop(Fe.mounted);if(f&&f.overlay){let p=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(x=>!x.scope||x.scope(f.tree.type)),g=e.firstChild();for(let x=0,v=a;;x++){let y=x<f.overlay.length?f.overlay[x]:null,b=y?y.from+a:l,w=Math.max(n,v),k=Math.min(r,b);if(w<k&&g)for(;e.from<k&&(this.highlightRange(e,w,k,i,s),this.startSpan(Math.min(k,e.to),u),!(e.to>=b||!e.nextSibling())););if(!y||b>r)break;v=y.to+a,v>n&&(this.highlightRange(p.cursor(),Math.max(n,y.from+a),Math.min(r,v),"",m),this.startSpan(Math.min(r,v),u))}g&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Khe(t){let e=t.type.prop(n4);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const le=ci.define,Dm=le(),Uo=le(),VE=le(Uo),QE=le(Uo),Go=le(),$m=le(Go),wb=le(Go),us=le(),Ha=le(us),ls=le(),cs=le(),Mw=le(),Nd=le(Mw),Lm=le(),$={comment:Dm,lineComment:le(Dm),blockComment:le(Dm),docComment:le(Dm),name:Uo,variableName:le(Uo),typeName:VE,tagName:le(VE),propertyName:QE,attributeName:le(QE),className:le(Uo),labelName:le(Uo),namespace:le(Uo),macroName:le(Uo),literal:Go,string:$m,docString:le($m),character:le($m),attributeValue:le($m),number:wb,integer:le(wb),float:le(wb),bool:le(Go),regexp:le(Go),escape:le(Go),color:le(Go),url:le(Go),keyword:ls,self:le(ls),null:le(ls),atom:le(ls),unit:le(ls),modifier:le(ls),operatorKeyword:le(ls),controlKeyword:le(ls),definitionKeyword:le(ls),moduleKeyword:le(ls),operator:cs,derefOperator:le(cs),arithmeticOperator:le(cs),logicOperator:le(cs),bitwiseOperator:le(cs),compareOperator:le(cs),updateOperator:le(cs),definitionOperator:le(cs),typeOperator:le(cs),controlOperator:le(cs),punctuation:Mw,separator:le(Mw),bracket:Nd,angleBracket:le(Nd),squareBracket:le(Nd),paren:le(Nd),brace:le(Nd),content:us,heading:Ha,heading1:le(Ha),heading2:le(Ha),heading3:le(Ha),heading4:le(Ha),heading5:le(Ha),heading6:le(Ha),contentSeparator:le(us),list:le(us),quote:le(us),emphasis:le(us),strong:le(us),link:le(us),monospace:le(us),strikethrough:le(us),inserted:le(),deleted:le(),changed:le(),invalid:le(),meta:Lm,documentMeta:le(Lm),annotation:le(Lm),processingInstruction:le(Lm),definition:ci.defineModifier("definition"),constant:ci.defineModifier("constant"),function:ci.defineModifier("function"),standard:ci.defineModifier("standard"),local:ci.defineModifier("local"),special:ci.defineModifier("special")};for(let t in $){let e=$[t];e instanceof ci&&(e.name=t)}r4([{tag:$.link,class:"tok-link"},{tag:$.heading,class:"tok-heading"},{tag:$.emphasis,class:"tok-emphasis"},{tag:$.strong,class:"tok-strong"},{tag:$.keyword,class:"tok-keyword"},{tag:$.atom,class:"tok-atom"},{tag:$.bool,class:"tok-bool"},{tag:$.url,class:"tok-url"},{tag:$.labelName,class:"tok-labelName"},{tag:$.inserted,class:"tok-inserted"},{tag:$.deleted,class:"tok-deleted"},{tag:$.literal,class:"tok-literal"},{tag:$.string,class:"tok-string"},{tag:$.number,class:"tok-number"},{tag:[$.regexp,$.escape,$.special($.string)],class:"tok-string2"},{tag:$.variableName,class:"tok-variableName"},{tag:$.local($.variableName),class:"tok-variableName tok-local"},{tag:$.definition($.variableName),class:"tok-variableName tok-definition"},{tag:$.special($.variableName),class:"tok-variableName2"},{tag:$.definition($.propertyName),class:"tok-propertyName tok-definition"},{tag:$.typeName,class:"tok-typeName"},{tag:$.namespace,class:"tok-namespace"},{tag:$.className,class:"tok-className"},{tag:$.macroName,class:"tok-macroName"},{tag:$.propertyName,class:"tok-propertyName"},{tag:$.operator,class:"tok-operator"},{tag:$.comment,class:"tok-comment"},{tag:$.meta,class:"tok-meta"},{tag:$.invalid,class:"tok-invalid"},{tag:$.punctuation,class:"tok-punctuation"}]);var kb;const Fc=new Fe;function Yhe(t){return me.define({combine:t?e=>e.concat(t):void 0})}const Zhe=new Fe;class Xi{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ue.prototype.hasOwnProperty("tree")||Object.defineProperty(Ue.prototype,"tree",{get(){return pn(this)}}),this.parser=n,this.extension=[$a.of(this),Ue.languageData.of((s,o,a)=>{let l=HE(s,o,a),u=l.type.prop(Fc);if(!u)return[];let d=s.facet(u),h=l.type.prop(Zhe);if(h){let f=l.resolve(o-l.from,a);for(let p of h)if(p.test(f,s)){let m=s.facet(p.facet);return p.type=="replace"?m:m.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return HE(e,n,r).type.prop(Fc)==this.data}findRegions(e){let n=e.facet($a);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Fc)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Fe.mounted);if(a){if(a.tree.prop(Fc)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof en&&i(u,s.positions[l]+o)}};return i(pn(e),0),r}get allowsNesting(){return!0}}Xi.setState=Ie.define();function HE(t,e,n){let r=t.facet($a),i=pn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Lt.ExcludeBuffers|Lt.EnterBracketed))s.type.isTop&&(i=s);return i}class Mf extends Xi{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=Yhe(e.languageData);return new Mf(n,e.parser.configure({props:[Fc.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Mf(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function pn(t){let e=t.field(Xi.state,!1);return e?e.tree:en.empty}class Jhe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Bd=null;class N0{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new N0(e,n,[],en.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Jhe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=en.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Al.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Al.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Bd;Bd=this;try{return e()}finally{Bd=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=qE(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,d,h,f)=>l.push({fromA:u,toA:d,fromB:h,toB:f})),r=Al.applyChanges(r,l),i=en.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let d=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);d<h&&a.push({from:d,to:h})}}}return new N0(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=qE(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends t4{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Bd;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new en(Mr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Bd}}function qE(t,e,n){return Al.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class nd{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new nd(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=N0.create(e.facet($a).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new nd(r)}}Xi.state=Rn.define({create:nd.init,update(t,e){for(let n of e.effects)if(n.is(Xi.setState))return n.value;return e.startState.facet($a)!=e.state.facet($a)?nd.init(e.state):t.apply(e)}});let i4=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(i4=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Cb=typeof navigator<"u"&&(!((kb=navigator.scheduling)===null||kb===void 0)&&kb.isInputPending)?()=>navigator.scheduling.isInputPending():null,efe=tn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Xi.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Xi.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=i4(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Xi.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Cb?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Cb&&Cb()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Xi.setState.of(new nd(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>xr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),$a=me.define({combine(t){return t.length?t[0]:null},enables:t=>[Xi.state,efe,ue.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class s4{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const tfe=me.define(),yx=me.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function B0(t){let e=t.facet(yx);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Rf(t,e){let n="",r=t.tabSize,i=t.facet(yx)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function i2(t,e){t instanceof Ue&&(t=new xx(t));for(let r of t.state.facet(tfe)){let i=r(t,e);if(i!==void 0)return i}let n=pn(t.state);return n.length>=e?nfe(t,n,e):null}class xx{constructor(e,n={}){this.state=e,this.options=n,this.unit=B0(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return hd(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const s2=new Fe;function nfe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return o4(r,t,n)}function o4(t,e,n){for(let r=t;r;r=r.next){let i=ife(r.node);if(i)return i(o2.create(e,n,r))}return 0}function rfe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function ife(t){let e=t.type.prop(s2);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Fe.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>lfe(o,!0,1,void 0,s&&!rfe(o)?i.from:void 0)}return t.parent==null?sfe:null}function sfe(){return 0}class o2 extends xx{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new o2(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(ofe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return o4(this.context.next,this.base,this.pos)}}function ofe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function afe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+u}}a=l.to}}function lfe(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=afe(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function cfe({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const ufe=200;function dfe(){return Ue.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+ufe)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let d=o.doc.lineAt(u);if(d.from==a)continue;a=d.from;let h=i2(o,d.from);if(h==null)continue;let f=/^\s*/.exec(d.text)[0],p=Rf(o,h);f!=p&&l.push({from:d.from,to:d.from+f.length,insert:p})}return l.length?[t,{changes:l,sequential:!0}]:t})}const hfe=me.define(),a2=new Fe;function ffe(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function pfe(t,e,n){let r=pn(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(a2);if(l&&(a.to<r.length-50||r.length==t.doc.length||!mfe(a))){let u=l(a,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(s=u)}}return s}function mfe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function F0(t,e,n){for(let r of t.facet(hfe)){let i=r(t,e,n);if(i)return i}return pfe(t,e,n)}function a4(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const vx=Ie.define({map:a4}),Cp=Ie.define({map:a4});function l4(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Xl=Rn.define({create(){return Pe.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=UE(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(vx)&&!gfe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(d4),i=r?Pe.replace({widget:new kfe(r(e.state,n.value))}):GE;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Cp)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=UE(t,e.selection.main.head)),t},provide:t=>ue.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(GE.range(r,i))}return Pe.set(e,!0)}});function UE(t,e,n=e){let r=!1;return t.between(e,n,(i,s)=>{i<n&&s>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,s)=>i>=n||s<=e}):t}function W0(t,e,n){var r;let i=null;return(r=t.field(Xl,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function gfe(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function c4(t,e){return t.field(Xl,!1)?e:e.concat(Ie.appendConfig.of(h4()))}const yfe=t=>{for(let e of l4(t)){let n=F0(t.state,e.from,e.to);if(n)return t.dispatch({effects:c4(t.state,[vx.of(n),u4(t,n)])}),!0}return!1},xfe=t=>{if(!t.state.field(Xl,!1))return!1;let e=[];for(let n of l4(t)){let r=W0(t.state,n.from,n.to);r&&e.push(Cp.of(r),u4(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function u4(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return ue.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const vfe=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=F0(e,i.from,i.to);s&&n.push(vx.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:c4(t.state,n)}),!!n.length},bfe=t=>{let e=t.state.field(Xl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Cp.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},Sfe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:yfe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:xfe},{key:"Ctrl-Alt-[",run:vfe},{key:"Ctrl-Alt-]",run:bfe}],wfe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},d4=me.define({combine(t){return Fs(t,wfe)}});function h4(t){return[Xl,jfe]}function f4(t,e){let{state:n}=t,r=n.facet(d4),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=W0(t.state,a.from,a.to);l&&t.dispatch({effects:Cp.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const GE=Pe.replace({widget:new class extends Ws{toDOM(t){return f4(t,null)}}});class kfe extends Ws{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return f4(e,this.value)}}const Cfe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ob extends Eo{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Ofe(t={}){let e={...Cfe,...t},n=new Ob(e,!0),r=new Ob(e,!1),i=tn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet($a)!=o.state.facet($a)||o.startState.field(Xl,!1)!=o.state.field(Xl,!1)||pn(o.startState)!=pn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new To;for(let l of o.viewportLineBlocks){let u=W0(o.state,l.from,l.to)?r:F0(o.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,Che({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Ve.empty},initialSpacer(){return new Ob(e,!1)},domEventHandlers:{...s,click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=W0(o.state,a.from,a.to);if(u)return o.dispatch({effects:Cp.of(u)}),!0;let d=F0(o.state,a.from,a.to);return d?(o.dispatch({effects:vx.of(d)}),!0):!1}}}),h4()]}const jfe=ue.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Op{constructor(e,n){this.specs=e;let r;function i(a){let l=Ma.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Xi?a=>a.prop(Fc)==o.data:o?a=>a==o:void 0,this.style=r4(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Ma(r):null,this.themeType=n.themeType}static define(e,n){return new Op(e,n||{})}}const Rw=me.define(),p4=me.define({combine(t){return t.length?[t[0]]:null}});function jb(t){let e=t.facet(Rw);return e.length?e:t.facet(p4)}function m4(t,e){let n=[Tfe],r;return t instanceof Op&&(t.module&&n.push(ue.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(p4.of(t)):r?n.push(Rw.computeN([ue.darkTheme],i=>i.facet(ue.darkTheme)==(r=="dark")?[t]:[])):n.push(Rw.of(t)),n}class Pfe{constructor(e){this.markCache=Object.create(null),this.tree=pn(e.state),this.decorations=this.buildDeco(e,jb(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=pn(e.state),r=jb(e.state),i=r!=jb(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Pe.none;let r=new To;for(let{from:i,to:s}of e.visibleRanges)Ghe(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Pe.mark({class:l})))},i,s);return r.finish()}}const Tfe=rc.high(tn.fromClass(Pfe,{decorations:t=>t.decorations})),Afe=Op.define([{tag:$.meta,color:"#404740"},{tag:$.link,textDecoration:"underline"},{tag:$.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$.emphasis,fontStyle:"italic"},{tag:$.strong,fontWeight:"bold"},{tag:$.strikethrough,textDecoration:"line-through"},{tag:$.keyword,color:"#708"},{tag:[$.atom,$.bool,$.url,$.contentSeparator,$.labelName],color:"#219"},{tag:[$.literal,$.inserted],color:"#164"},{tag:[$.string,$.deleted],color:"#a11"},{tag:[$.regexp,$.escape,$.special($.string)],color:"#e40"},{tag:$.definition($.variableName),color:"#00f"},{tag:$.local($.variableName),color:"#30a"},{tag:[$.typeName,$.namespace],color:"#085"},{tag:$.className,color:"#167"},{tag:[$.special($.variableName),$.macroName],color:"#256"},{tag:$.definition($.propertyName),color:"#00c"},{tag:$.comment,color:"#940"},{tag:$.invalid,color:"#f00"}]),Efe=ue.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),g4=1e4,y4="()[]{}",x4=me.define({combine(t){return Fs(t,{afterCursor:!0,brackets:y4,maxScanDistance:g4,renderMatch:zfe})}}),Mfe=Pe.mark({class:"cm-matchingBracket"}),Rfe=Pe.mark({class:"cm-nonmatchingBracket"});function zfe(t){let e=[],n=t.matched?Mfe:Rfe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Dfe=Rn.define({create(){return Pe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(x4);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=js(e.state,i.head,-1,r)||i.head>0&&js(e.state,i.head-1,1,r)||r.afterCursor&&(js(e.state,i.head,1,r)||i.head<e.state.doc.length&&js(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Pe.set(n,!0)},provide:t=>ue.decorations.from(t)}),$fe=[Dfe,Efe];function Lfe(t={}){return[x4.of(t),$fe]}const v4=new Fe;function zw(t,e,n){let r=t.prop(e<0?Fe.openedBy:Fe.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Dw(t){let e=t.type.prop(v4);return e?e(t.node):t}function js(t,e,n,r={}){let i=r.maxScanDistance||g4,s=r.brackets||y4,o=pn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=zw(l.type,n,s);if(u&&l.from<l.to){let d=Dw(l);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return Ife(t,e,n,l,d,u,s)}}return _fe(t,e,n,o,a.type,i,s)}function Ife(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,d=a==null?void 0:a.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(u==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let h=Dw(d);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(zw(d.type,n,o))u++;else if(zw(d.type,-n,o)){if(u==0){let h=Dw(d);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?d.prevSibling():d.nextSibling());return{start:l,matched:!1}}function _fe(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!d.next().done&&f<=s;){let p=d.value;n<0&&(f+=p.length);let m=e+f*n;for(let g=n>0?0:p.length-1,x=n>0?p.length:-1;g!=x;g+=n){let v=o.indexOf(p[g]);if(!(v<0||r.resolveInner(m+g,1).type!=i))if(v%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:m+g,to:m+g+1},matched:v>>1==l>>1};h--}}n>0&&(f+=p.length)}return d.done?{start:u,matched:!1}:null}const Nfe=Object.create(null),XE=[Mr.none],KE=[],YE=Object.create(null),Bfe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Bfe[t]=Ffe(Nfe,e);function Pb(t,e){KE.indexOf(t)>-1||(KE.push(t),console.warn(e))}function Ffe(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let d=t[u]||$[u];d?typeof d=="function"?l.length?l=l.map(d):Pb(u,`Modifier ${u} used at start of tag`):l.length?Pb(u,`Tag ${u} used as modifier`):l=Array.isArray(d)?d:[d]:Pb(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=YE[i];if(s)return s.id;let o=YE[i]=Mr.define({id:XE.length,name:r,props:[r2({[r]:n})]});return XE.push(o),o.id}St.RTL,St.LTR;const Wfe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=c2(t.state,n.from);return r.line?Vfe(t):r.block?Hfe(t):!1};function l2(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Vfe=l2(Gfe,0),Qfe=l2(b4,0),Hfe=l2((t,e)=>b4(t,e,Ufe(e)),0);function c2(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Fd=50;function qfe(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Fd,r),o=t.sliceDoc(i,i+Fd),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let d,h;i-r<=2*Fd?d=h=t.sliceDoc(r,i):(d=t.sliceDoc(r,r+Fd),h=t.sliceDoc(i-Fd,i));let f=/^\s*/.exec(d)[0].length,p=/\s*$/.exec(h)[0].length,m=h.length-p-n.length;return d.slice(f,f+e.length)==e&&h.slice(m,m+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(d.charAt(f+e.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(h.charAt(m-1))?1:0}}:null}function Ufe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function b4(t,e,n=e.selection.ranges){let r=n.map(s=>c2(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>qfe(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:d}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:d.pos-d.margin,to:d.pos+l.close.length})}return{changes:s}}return null}function Gfe(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:s,to:o}of n){let a=r.length,l=1e9,u;for(let d=s;d<=o;){let h=e.doc.lineAt(d);if(u==null&&(u=c2(e,h.from).line,!u))continue e;if(h.from>i&&(s==o||o>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,p=f==h.length,m=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:m,token:u,indent:f,empty:p,single:!1})}d=h.to+1}if(l<1e9)for(let d=a;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=l);r.length==a+1&&(r[a].single=!0)}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:d,single:h}of r)(h||!d)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,d=u+l.length;o.text[d-o.from]==" "&&d++,s.push({from:u,to:d})}return{changes:s}}return null}const $w=Bs.define(),Xfe=Bs.define(),Kfe=me.define(),S4=me.define({combine(t){return Fs(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),w4=Rn.define({create(){return Ps.empty},update(t,e){let n=e.state.facet(S4),r=e.annotation($w);if(r){let l=vr.fromTransaction(e,r.selection),u=r.side,d=u==0?t.undone:t.done;return l?d=V0(d,d.length,n.minDepth,l):d=O4(d,e.startState.selection),new Ps(u==0?r.rest:d,u==0?d:r.rest)}let i=e.annotation(Xfe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(fn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=vr.fromTransaction(e),o=e.annotation(fn.time),a=e.annotation(fn.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ps(t.done.map(vr.fromJSON),t.undone.map(vr.fromJSON))}});function Yfe(t={}){return[w4,S4.of(t),ue.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?k4:e.inputType=="historyRedo"?Lw:null;return r?(e.preventDefault(),r(n)):!1}})]}function bx(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(w4,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const k4=bx(0,!1),Lw=bx(1,!1),Zfe=bx(0,!0),Jfe=bx(1,!0);class vr{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new vr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new vr(e.changes&&cn.fromJSON(e.changes),[],e.mapped&&Ds.fromJSON(e.mapped),e.startSelection&&K.fromJSON(e.startSelection),e.selectionsAfter.map(K.fromJSON))}static fromTransaction(e,n){let r=fi;for(let i of e.startState.facet(Kfe)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new vr(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,fi)}static selection(e){return new vr(void 0,fi,void 0,void 0,e)}}function V0(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function epe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],d=n[l++];a>=u&&o<=d&&(r=!0)}}),r}function tpe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function C4(t,e){return t.length?e.length?t.concat(e):t:e}const fi=[],npe=200;function O4(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-npe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),V0(t,t.length-1,1e9,n.setSelAfter(r)))}else return[vr.selection([e])]}function rpe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Tb(t,e){if(!t.length)return t;let n=t.length,r=fi;for(;n;){let i=ipe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[vr.selection(r)]:fi}function ipe(t,e,n){let r=C4(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):fi,n);if(!t.changes)return vr.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new vr(i,Ie.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const spe=/^(input\.type|delete)($|\.)/;class Ps{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Ps(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||spe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,epe(a.changes,e.changes))||r=="input.type.compose")?o=V0(o,o.length-1,i.minDepth,new vr(e.changes.compose(a.changes),C4(Ie.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,fi)):o=V0(o,o.length,i.minDepth,e),new Ps(o,fi,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:fi;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&tpe(s[s.length-1],e)?this:new Ps(O4(this.done,e),this.undone,n,r)}addMapping(e){return new Ps(Tb(this.done,e),Tb(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||(s.startSelection?s.startSelection.map(s.changes.invertedDesc,1):n.selection);if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:$w.of({side:e,rest:rpe(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?fi:i.slice(0,i.length-1);return s.mapped&&(a=Tb(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:$w.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ps.empty=new Ps(fi,fi);const ope=[{key:"Mod-z",run:k4,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Lw,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Lw,preventDefault:!0},{key:"Mod-u",run:Zfe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Jfe,preventDefault:!0}];function fd(t,e){return K.create(t.ranges.map(e),t.mainIndex)}function ns(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function rs({state:t,dispatch:e},n){let r=fd(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ns(t,r)),!0)}function Sx(t,e){return K.cursor(e?t.to:t.from)}function j4(t,e){return rs(t,n=>n.empty?t.moveByChar(n,e):Sx(n,e))}function Qn(t){return t.textDirectionAt(t.state.selection.main.head)==St.LTR}const P4=t=>j4(t,!Qn(t)),T4=t=>j4(t,Qn(t));function A4(t,e){return rs(t,n=>n.empty?t.moveByGroup(n,e):Sx(n,e))}const ape=t=>A4(t,!Qn(t)),lpe=t=>A4(t,Qn(t));function cpe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function wx(t,e,n){let r=pn(t).resolveInner(e.head),i=n?Fe.closedBy:Fe.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;cpe(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?js(t,r.from,1):js(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,K.cursor(a,n?-1:1)}const upe=t=>rs(t,e=>wx(t.state,e,!Qn(t))),dpe=t=>rs(t,e=>wx(t.state,e,Qn(t)));function E4(t,e){return rs(t,n=>{if(!n.empty)return Sx(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const M4=t=>E4(t,!1),R4=t=>E4(t,!0);function z4(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(ue.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function D4(t,e){let n=z4(t),{state:r}=t,i=fd(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):Sx(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=ue.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(ns(r,i),{effects:s}),!0}const ZE=t=>D4(t,!1),Iw=t=>D4(t,!0);function Fa(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=K.cursor(r.from+s))}return i}const hpe=t=>rs(t,e=>Fa(t,e,!0)),fpe=t=>rs(t,e=>Fa(t,e,!1)),ppe=t=>rs(t,e=>Fa(t,e,!Qn(t))),mpe=t=>rs(t,e=>Fa(t,e,Qn(t))),gpe=t=>rs(t,e=>K.cursor(t.lineBlockAt(e.head).from,1)),ype=t=>rs(t,e=>K.cursor(t.lineBlockAt(e.head).to,-1));function xpe(t,e,n){let r=!1,i=fd(t.selection,s=>{let o=js(t,s.head,-1)||js(t,s.head,1)||s.head>0&&js(t,s.head-1,1)||s.head<t.doc.length&&js(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return K.cursor(a)});return r?(e(ns(t,i)),!0):!1}const vpe=({state:t,dispatch:e})=>xpe(t,e);function Ri(t,e){let n=fd(t.state.selection,r=>{let i=e(r);return K.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ns(t.state,n)),!0)}function $4(t,e){return Ri(t,n=>t.moveByChar(n,e))}const L4=t=>$4(t,!Qn(t)),I4=t=>$4(t,Qn(t));function _4(t,e){return Ri(t,n=>t.moveByGroup(n,e))}const bpe=t=>_4(t,!Qn(t)),Spe=t=>_4(t,Qn(t)),wpe=t=>Ri(t,e=>wx(t.state,e,!Qn(t))),kpe=t=>Ri(t,e=>wx(t.state,e,Qn(t)));function N4(t,e){return Ri(t,n=>t.moveVertically(n,e))}const B4=t=>N4(t,!1),F4=t=>N4(t,!0);function W4(t,e){return Ri(t,n=>t.moveVertically(n,e,z4(t).height))}const JE=t=>W4(t,!1),eM=t=>W4(t,!0),Cpe=t=>Ri(t,e=>Fa(t,e,!0)),Ope=t=>Ri(t,e=>Fa(t,e,!1)),jpe=t=>Ri(t,e=>Fa(t,e,!Qn(t))),Ppe=t=>Ri(t,e=>Fa(t,e,Qn(t))),Tpe=t=>Ri(t,e=>K.cursor(t.lineBlockAt(e.head).from)),Ape=t=>Ri(t,e=>K.cursor(t.lineBlockAt(e.head).to)),tM=({state:t,dispatch:e})=>(e(ns(t,{anchor:0})),!0),nM=({state:t,dispatch:e})=>(e(ns(t,{anchor:t.doc.length})),!0),rM=({state:t,dispatch:e})=>(e(ns(t,{anchor:t.selection.main.anchor,head:0})),!0),iM=({state:t,dispatch:e})=>(e(ns(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Epe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Mpe=({state:t,dispatch:e})=>{let n=kx(t).map(({from:r,to:i})=>K.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:K.create(n),userEvent:"select"})),!0},Rpe=({state:t,dispatch:e})=>{let n=fd(t.selection,r=>{let i=pn(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return K.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(ns(t,n)),!0)};function V4(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head);if(e?o.to<t.state.doc.length:o.from>0)for(let a=s;;){let l=t.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(u=>u.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch(ns(n,K.create(i,i.length-1))),!0)}const zpe=t=>V4(t,!1),Dpe=t=>V4(t,!0),$pe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=K.create([n.main]):n.main.empty||(r=K.create([K.cursor(n.main.head)])),r?(e(ns(t,r)),!0):!1};function jp(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Im(t,l,!1)):l>o&&(n="delete.forward",l=Im(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Im(t,o,!1),a=Im(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:K.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ue.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Im(t,e,n){if(t instanceof ue)for(let r of t.state.facet(ue.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const Q4=(t,e,n)=>jp(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let u=hd(a,s.tabSize),d=u%B0(s)||B0(s);for(let h=0;h<d&&a[a.length-1-h]==" ";h++)i--;l=i}else l=hn(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=hn(o.text,l-o.from,!1,!1)+o.from);return l}),_w=t=>Q4(t,!1,!0),H4=t=>Q4(t,!0,!1),q4=(t,e)=>jp(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=hn(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),d=o(u);if(a!=null&&d!=a)break;(u!=" "||r!=n.head)&&(a=d),r=l}return r}),U4=t=>q4(t,!1),Lpe=t=>q4(t,!0),Ipe=t=>jp(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),_pe=t=>jp(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Npe=t=>jp(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Bpe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:et.of(["",""])},range:K.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Fpe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:hn(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:hn(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:K.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function kx(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function G4(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of kx(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(K.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(K.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:K.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Wpe=({state:t,dispatch:e})=>G4(t,e,!1),Vpe=({state:t,dispatch:e})=>G4(t,e,!0);function X4(t,e,n){if(t.readOnly)return!1;let r=[];for(let s of kx(t))n?r.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):r.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Qpe=({state:t,dispatch:e})=>X4(t,e,!1),Hpe=({state:t,dispatch:e})=>X4(t,e,!0),qpe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(kx(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=fd(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Upe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=pn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Fe.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const sM=K4(!1),Gpe=K4(!0);function K4(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&Upe(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new xx(e,{simulateBreak:s,simulateDoubleBreak:!!l}),d=i2(u,s);for(d==null&&(d=hd(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Rf(e,d)];return l&&h.push(Rf(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:et.of(h)},range:K.cursor(s+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function u2(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:K.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Xpe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new xx(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=u2(t,(s,o,a)=>{let l=i2(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],d=Rf(t,l);(u!=d||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:d}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Y4=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(u2(t,(n,r)=>{r.push({from:n.from,insert:t.facet(yx)})}),{userEvent:"input.indent"})),!0),Z4=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(u2(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=hd(i,t.tabSize),o=0,a=Rf(t,Math.max(0,s-B0(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Kpe=t=>(t.setTabFocusMode(),!0),Ype=[{key:"Ctrl-b",run:P4,shift:L4,preventDefault:!0},{key:"Ctrl-f",run:T4,shift:I4},{key:"Ctrl-p",run:M4,shift:B4},{key:"Ctrl-n",run:R4,shift:F4},{key:"Ctrl-a",run:gpe,shift:Tpe},{key:"Ctrl-e",run:ype,shift:Ape},{key:"Ctrl-d",run:H4},{key:"Ctrl-h",run:_w},{key:"Ctrl-k",run:Ipe},{key:"Ctrl-Alt-h",run:U4},{key:"Ctrl-o",run:Bpe},{key:"Ctrl-t",run:Fpe},{key:"Ctrl-v",run:Iw}],Zpe=[{key:"ArrowLeft",run:P4,shift:L4,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:ape,shift:bpe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:ppe,shift:jpe,preventDefault:!0},{key:"ArrowRight",run:T4,shift:I4,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:lpe,shift:Spe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:mpe,shift:Ppe,preventDefault:!0},{key:"ArrowUp",run:M4,shift:B4,preventDefault:!0},{mac:"Cmd-ArrowUp",run:tM,shift:rM},{mac:"Ctrl-ArrowUp",run:ZE,shift:JE},{key:"ArrowDown",run:R4,shift:F4,preventDefault:!0},{mac:"Cmd-ArrowDown",run:nM,shift:iM},{mac:"Ctrl-ArrowDown",run:Iw,shift:eM},{key:"PageUp",run:ZE,shift:JE},{key:"PageDown",run:Iw,shift:eM},{key:"Home",run:fpe,shift:Ope,preventDefault:!0},{key:"Mod-Home",run:tM,shift:rM},{key:"End",run:hpe,shift:Cpe,preventDefault:!0},{key:"Mod-End",run:nM,shift:iM},{key:"Enter",run:sM,shift:sM},{key:"Mod-a",run:Epe},{key:"Backspace",run:_w,shift:_w,preventDefault:!0},{key:"Delete",run:H4,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:U4,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Lpe,preventDefault:!0},{mac:"Mod-Backspace",run:_pe,preventDefault:!0},{mac:"Mod-Delete",run:Npe,preventDefault:!0}].concat(Ype.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Jpe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:upe,shift:wpe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:dpe,shift:kpe},{key:"Alt-ArrowUp",run:Wpe},{key:"Shift-Alt-ArrowUp",run:Qpe},{key:"Alt-ArrowDown",run:Vpe},{key:"Shift-Alt-ArrowDown",run:Hpe},{key:"Mod-Alt-ArrowUp",run:zpe},{key:"Mod-Alt-ArrowDown",run:Dpe},{key:"Escape",run:$pe},{key:"Mod-Enter",run:Gpe},{key:"Alt-l",mac:"Ctrl-l",run:Mpe},{key:"Mod-i",run:Rpe,preventDefault:!0},{key:"Mod-[",run:Z4},{key:"Mod-]",run:Y4},{key:"Mod-Alt-\\",run:Xpe},{key:"Shift-Mod-k",run:qpe},{key:"Shift-Mod-\\",run:vpe},{key:"Mod-/",run:Wfe},{key:"Alt-A",run:Qfe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Kpe}].concat(Zpe),eme={key:"Tab",run:Y4,shift:Z4},oM=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class rd{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(oM(a)):oM,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return fr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=DO(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ks(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(rd.prototype[Symbol.iterator]=function(){return this});const J4={from:-1,to:-1,match:/.*/.exec("")},d2="gm"+(/x/.unicode==null?"":"u");class eN{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=J4,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new tN(e,n,r,i,s);this.re=new RegExp(n,d2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Q0(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Q0(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Ab=new WeakMap;class pu{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Ab.get(e);if(!i||i.from>=r||i.to<=n){let a=new pu(n,e.sliceString(n,r));return Ab.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),Ab.set(e,new pu(o,s)),new pu(n,s.slice(n-o,r-o))}}class tN{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=J4,this.matchPos=Q0(e,i),this.re=new RegExp(n,d2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=pu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Q0(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=pu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(eN.prototype[Symbol.iterator]=tN.prototype[Symbol.iterator]=function(){return this});function tme(t){try{return new RegExp(t,d2),!0}catch{return!1}}function Q0(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const nme=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=bhe(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(s=>{let o=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!o){t.dispatch({effects:r});return}let a=e.doc.lineAt(e.selection.main.head),[,l,u,d,h]=o,f=d?+d.slice(1):0,p=u?+u:a.number;if(u&&h){let x=p/100;l&&(x=x*(l=="-"?-1:1)+a.number/e.doc.lines),p=Math.round(e.doc.lines*x)}else u&&l&&(p=p*(l=="-"?-1:1)+a.number);let m=e.doc.line(Math.max(1,Math.min(e.doc.lines,p))),g=K.cursor(m.from+Math.max(0,Math.min(f,m.length)));t.dispatch({effects:[r,ue.scrollIntoView(g.from,{y:"center"})],selection:g})}),!0},rme={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ime=me.define({combine(t){return Fs(t,rme,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function sme(t){return[ume,cme]}const ome=Pe.mark({class:"cm-selectionMatch"}),ame=Pe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function aM(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Dt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Dt.Word)}function lme(t,e,n,r){return t(e.sliceDoc(n,n+1))==Dt.Word&&t(e.sliceDoc(r-1,r))==Dt.Word}const cme=tn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(ime),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Pe.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Pe.none;let l=n.wordAt(i.head);if(!l)return Pe.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Pe.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(aM(o,n,i.from,i.to)&&lme(o,n,i.from,i.to)))return Pe.none}else if(s=n.sliceDoc(i.from,i.to),!s)return Pe.none}let a=[];for(let l of t.visibleRanges){let u=new rd(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:d,to:h}=u.value;if((!o||aM(o,n,d,h))&&(i.empty&&d<=i.from&&h>=i.to?a.push(ame.range(d,h)):(d>=i.to||h<=i.from)&&a.push(ome.range(d,h)),a.length>e.maxMatches))return Pe.none}}return Pe.set(a)}},{decorations:t=>t.decorations}),ume=ue.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),dme=({state:t,dispatch:e})=>{let{selection:n}=t,r=K.create(n.ranges.map(i=>t.wordAt(i.head)||K.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function hme(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new rd(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new rd(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const fme=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return dme({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=hme(t,r);return i?(e(t.update({selection:t.selection.addRange(K.range(i.from,i.to),!1),effects:ue.scrollIntoView(i.to)})),!0):!1},pd=me.define({combine(t){return Fs(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Pme(e),scrollToMatch:e=>ue.scrollIntoView(e)})}});class nN{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||tme(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new vme(this):new gme(this)}getCursor(e,n=0,r){let i=e.doc?e:Ue.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?mc(this,i,n,r):pc(this,i,n,r)}}class rN{constructor(e){this.spec=e}}function pme(t,e,n){return(r,i,s,o)=>{if(n&&!n(r,i,s,o))return!1;let a=r>=o&&i<=o+s.length?s.slice(r-o,i-o):e.doc.sliceString(r,i);return t(a,e,r,i)}}function pc(t,e,n,r){let i;return t.wholeWord&&(i=mme(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=pme(t.test,e,i)),new rd(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:s=>s.toLowerCase(),i)}function mme(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(H0(i,n-s))!=Dt.Word||e(q0(i,n-s))!=Dt.Word)&&(e(q0(i,r-s))!=Dt.Word||e(H0(i,r-s))!=Dt.Word))}class gme extends rN{constructor(e){super(e)}nextMatch(e,n,r){let i=pc(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=pc(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=pc(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=pc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=pc(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function yme(t,e,n){return(r,i,s)=>(!n||n(r,i,s))&&t(s[0],e,r,i)}function mc(t,e,n,r){let i;return t.wholeWord&&(i=xme(e.charCategorizer(e.selection.main.head))),t.test&&(i=yme(t.test,e,i)),new eN(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function H0(t,e){return t.slice(hn(t,e,!1),e)}function q0(t,e){return t.slice(e,hn(t,e))}function xme(t){return(e,n,r)=>!r[0].length||(t(H0(r.input,r.index))!=Dt.Word||t(q0(r.input,r.index))!=Dt.Word)&&(t(q0(r.input,r.index+r[0].length))!=Dt.Word||t(H0(r.input,r.index+r[0].length))!=Dt.Word)}class vme extends rN{nextMatch(e,n,r){let i=mc(this.spec,e,r,e.doc.length).next();return i.done&&(i=mc(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=mc(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=mc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=mc(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const zf=Ie.define(),h2=Ie.define(),ka=Rn.define({create(t){return new Eb(Nw(t).create(),null)},update(t,e){for(let n of e.effects)n.is(zf)?t=new Eb(n.value.create(),t.panel):n.is(h2)&&(t=new Eb(t.query,n.value?f2:null));return t},provide:t=>Tf.from(t,e=>e.panel)});class Eb{constructor(e,n){this.query=e,this.panel=n}}const bme=Pe.mark({class:"cm-searchMatch"}),Sme=Pe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),wme=tn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ka))}update(t){let e=t.state.field(ka);(e!=t.startState.field(ka)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Pe.none;let{view:n}=this,r=new To;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(u,d)=>{let h=n.state.selection.ranges.some(f=>f.from==u&&f.to==d);r.add(u,d,h?Sme:bme)})}return r.finish()}},{decorations:t=>t.decorations});function Pp(t){return e=>{let n=e.state.field(ka,!1);return n&&n.query.spec.valid?t(e,n):oN(e)}}const U0=Pp((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=K.single(r.from,r.to),s=t.state.facet(pd);return t.dispatch({selection:i,effects:[p2(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),sN(t),!0}),G0=Pp((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=K.single(i.from,i.to),o=t.state.facet(pd);return t.dispatch({selection:s,effects:[p2(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),sN(t),!0}),kme=Pp((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:K.create(n.map(r=>K.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Cme=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new rd(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(K.range(a.value.from,a.value.to))}return e(t.update({selection:K.create(s,o),userEvent:"select.search.matches"})),!0},lM=Pp((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,u,d=[];o.from==r&&o.to==i&&(u=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(n,o.from,o.to),d.push(ue.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let h=t.state.changes(a);return o&&(l=K.single(o.from,o.to).map(h),d.push(p2(t,o)),d.push(n.facet(pd).scrollToMatch(l.main,t))),t.dispatch({changes:h,selection:l,effects:d,userEvent:"input.replace"}),!0}),Ome=Pp((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:ue.announce.of(r),userEvent:"input.replace.all"}),!0});function f2(t){return t.state.facet(pd).createPanel(t)}function Nw(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(pd);return new nN({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function iN(t){let e=ZO(t,f2);return e&&e.dom.querySelector("[main-field]")}function sN(t){let e=iN(t);e&&e==t.root.activeElement&&e.select()}const oN=t=>{let e=t.state.field(ka,!1);if(e&&e.panel){let n=iN(t);if(n&&n!=t.root.activeElement){let r=Nw(t.state,e.query.spec);r.valid&&t.dispatch({effects:zf.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[h2.of(!0),e?zf.of(Nw(t.state,e.query.spec)):Ie.appendConfig.of(Ame)]});return!0},aN=t=>{let e=t.state.field(ka,!1);if(!e||!e.panel)return!1;let n=ZO(t,f2);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:h2.of(!1)}),!0},jme=[{key:"Mod-f",run:oN,scope:"editor search-panel"},{key:"F3",run:U0,shift:G0,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:U0,shift:G0,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:aN,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Cme},{key:"Mod-Alt-g",run:nme},{key:"Mod-d",run:fme,preventDefault:!0}];class Pme{constructor(e){this.view=e;let n=this.query=e.state.field(ka).query.spec;this.commit=this.commit.bind(this),this.searchField=gt("input",{value:n.search,placeholder:Dr(e,"Find"),"aria-label":Dr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=gt("input",{value:n.replace,placeholder:Dr(e,"Replace"),"aria-label":Dr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=gt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=gt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=gt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return gt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=gt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>U0(e),[Dr(e,"next")]),r("prev",()=>G0(e),[Dr(e,"previous")]),r("select",()=>kme(e),[Dr(e,"all")]),gt("label",null,[this.caseField,Dr(e,"match case")]),gt("label",null,[this.reField,Dr(e,"regexp")]),gt("label",null,[this.wordField,Dr(e,"by word")]),...e.state.readOnly?[]:[gt("br"),this.replaceField,r("replace",()=>lM(e),[Dr(e,"replace")]),r("replaceAll",()=>Ome(e),[Dr(e,"replace all")])],gt("button",{name:"close",onclick:()=>aN(e),"aria-label":Dr(e,"close"),type:"button"},[""])])}commit(){let e=new nN({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:zf.of(e)}))}keydown(e){Ede(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?G0:U0)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),lM(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(zf)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(pd).top}}function Dr(t,e){return t.state.phrase(e)}const _m=30,Nm=/[\s\.,:;?!]/;function p2(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-_m),o=Math.min(i,n+_m),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<_m;l++)if(!Nm.test(a[l+1])&&Nm.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-_m;l--)if(!Nm.test(a[l-1])&&Nm.test(a[l])){a=a.slice(0,l);break}}return ue.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const Tme=ue.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ame=[ka,rc.low(wme),Tme];class lN{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=pn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(cN(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function cM(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Eme(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=cM(e)+cM(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Mme(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Eme(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}class uM{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function El(t){return t.selection.main.from}function cN(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const uN=Bs.define();function Rme(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:K.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const dM=new WeakMap;function zme(t){if(!Array.isArray(t))return t;let e=dM.get(t);return e||dM.set(t,e=Mme(t)),e}const X0=Ie.define(),Df=Ie.define();class Dme{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=fr(e,n),i=ks(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(fr(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let y=fr(e,0),b=ks(y),w=b==e.length?0:-100;if(y!=n[0])if(y==r[0])w+=-200;else return null;return this.ret(w,[0,b])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let y=0,b=Math.min(e.length,200);y<b&&u<l;){let w=fr(e,y);(w==n[u]||w==r[u])&&(i[u++]=y),y+=ks(w)}if(u<l)return null}let d=0,h=0,f=!1,p=0,m=-1,g=-1,x=/[a-z]/.test(e),v=!0;for(let y=0,b=Math.min(e.length,200),w=0;y<b&&h<l;){let k=fr(e,y);a<0&&(d<l&&k==n[d]&&(s[d++]=y),p<l&&(k==n[p]||k==r[p]?(p==0&&(m=y),g=y+1,p++):p=0));let O,C=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(O=DO(k))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!y||C==1&&x||w==0&&C!=0)&&(n[h]==k||r[h]==k&&(f=!0)?o[h++]=y:o.length&&(v=!1)),w=C,y+=ks(k)}return h==l&&o[0]==0&&v?this.result(-100+(f?-200:0),o,e):p==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[m,g]):h==l?this.result(-100+(f?-200:0)+-700+(v?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?ks(fr(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class $me{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const vn=me.define({combine(t){return Fs(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Lme,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>hM(e(r),n(r)),optionClass:(e,n)=>r=>hM(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function hM(t,e){return t?e?t+" "+e:t:e}function Lme(t,e,n,r,i,s){let o=t.textDirection==St.RTL,a=o,l=!1,u="top",d,h,f=e.left-i.left,p=i.right-e.right,m=r.right-r.left,g=r.bottom-r.top;if(a&&f<Math.min(m,p)?a=!1:!a&&p<Math.min(m,f)&&(a=!0),m<=(a?f:p))d=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,h=Math.min(400,a?f:p);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=g||y>e.top?d=n.bottom-e.top:(u="bottom",d=e.bottom-n.top)}let x=(e.bottom-e.top)/s.offsetHeight,v=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${d/x}px; max-width: ${h/v}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function Ime(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let d=s[u++],h=s[u++];d>l&&o.appendChild(document.createTextNode(a.slice(l,d)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(d,h))),f.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Mb(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class _me{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(vn);this.optionContent=Ime(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Mb(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let d=l.target,h;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(h=/-(\d+)$/.exec(d.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(vn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Df.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=Mb(s.length,o,e.state.facet(vn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Mb(n.options.length,n.selected,this.view.state.facet(vn).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>xr(this.view.state,a,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&Bme(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(vn).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=f}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+o,d.setAttribute("role","option");let h=this.optionClass(a);h&&(d.className=h);for(let f of this.optionContent){let p=f(a,this.view.state,this.view,l);p&&d.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Nme(t,e){return n=>new _me(n,t,e)}function Bme(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function fM(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Fme(t,e){let n=[],r=null,i=null,s=d=>{n.push(d);let{section:h}=d.completion;if(h){r||(r=[]);let f=typeof h=="string"?h:h.name;r.some(p=>p.name==f)||r.push(typeof h=="string"?{name:f}:h)}},o=e.facet(vn);for(let d of t)if(d.hasResult()){let h=d.result.getMatch;if(d.result.filter===!1)for(let f of d.result.options)s(new uM(f,d.source,h?h(f):[],1e9-n.length));else{let f=e.sliceDoc(d.from,d.to),p,m=o.filterStrict?new $me(f):new Dme(f);for(let g of d.result.options)if(p=m.match(g.label)){let x=g.displayLabel?h?h(g,p.matched):[]:p.matched,v=p.score+(g.boost||0);if(s(new uM(g,d.source,x,v)),typeof g.section=="object"&&g.section.rank==="dynamic"){let{name:y}=g.section;i||(i=Object.create(null)),i[y]=Math.max(v,i[y]||-1e9)}}}}if(r){let d=Object.create(null),h=0,f=(p,m)=>(p.rank==="dynamic"&&m.rank==="dynamic"?i[m.name]-i[p.name]:0)||(typeof p.rank=="number"?p.rank:1e9)-(typeof m.rank=="number"?m.rank:1e9)||(p.name<m.name?-1:1);for(let p of r.sort(f))h-=1e5,d[p.name]=h;for(let p of n){let{section:m}=p.completion;m&&(p.score+=d[typeof m=="string"?m:m.name])}}let a=[],l=null,u=o.compareCompletions;for(let d of n.sort((h,f)=>f.score-h.score||u(h.completion,f.completion))){let h=d.completion;!l||l.label!=h.label||l.detail!=h.detail||l.type!=null&&h.type!=null&&l.type!=h.type||l.apply!=h.apply||l.boost!=h.boost?a.push(d):fM(d.completion)>fM(l)&&(a[a.length-1]=d),l=d.completion}return a}class Wc{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Wc(this.options,pM(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let a=Fme(e,n);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet(vn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let d=0;d<a.length;d++)if(a[d].completion==u){l=d;break}}return new Wc(a,pM(r,l),{pos:e.reduce((u,d)=>d.hasResult()?Math.min(u,d.from):u,1e8),create:Ume,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Wc(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Wc(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class K0{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new K0(Hme,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(vn),s=(r.override||n.languageDataAt("autocomplete",El(n)).map(zme)).map(l=>(this.active.find(d=>d.source==l)||new pi(l,this.active.some(d=>d.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(m2));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Wme(s,this.active)||a?o=Wc.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new pi(l.source,0):l));for(let l of e.effects)l.is(hN)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new K0(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Vme:Qme}}function Wme(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const Vme={"aria-autocomplete":"list"},Qme={};function pM(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Hme=[];function dN(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(uN);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class pi{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=dN(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new pi(i.source,0)),r&4&&i.state==0&&(i=new pi(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(X0))i=new pi(i.source,1,s.value);else if(s.is(Df))i=new pi(i.source,0);else if(s.is(m2))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(El(e.state))}}class mu extends pi{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=El(e.state);if(a>o||!i||n&2&&(El(e.startState)==this.from||a<this.limit))return new pi(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return qme(i.validFor,e.state,s,o)?new mu(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new lN(e.state,a,!1)))?new mu(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:El(e.state)):new pi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new mu(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new pi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function qme(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):cN(t,!0).test(i)}const m2=Ie.define({map(t,e){return t.map(n=>n.map(e))}}),hN=Ie.define(),pr=Rn.define({create(){return K0.start()},update(t,e){return t.update(e)},provide:t=>[YO.from(t,e=>e.tooltip),ue.contentAttributes.from(t,e=>e.attrs)]});function g2(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(pr).active.find(i=>i.source==e.source);return r instanceof mu?(typeof n=="string"?t.dispatch({...Rme(t.state,n,r.from,r.to),annotations:uN.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const Ume=Nme(pr,g2);function Bm(t,e="option"){return n=>{let r=n.state.field(pr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(vn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=H3(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:hN.of(a)}),!0}}const Gme=t=>{let e=t.state.field(pr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(vn).interactionDelay?!1:g2(t,e.open.options[e.open.selected])},Rb=t=>t.state.field(pr,!1)?(t.dispatch({effects:X0.of(!0)}),!0):!1,Xme=t=>{let e=t.state.field(pr,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Df.of(null)}),!0)};class Kme{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const Yme=50,Zme=1e3,Jme=tn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(pr).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(pr),n=t.state.facet(vn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(pr)==e)return;let r=t.transactions.some(s=>{let o=dN(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>Yme&&Date.now()-o.time>Zme){for(let a of o.context.abortListeners)try{a()}catch(l){xr(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(X0)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(pr);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(vn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=El(e),r=new lN(e,n,t.explicit,this.view),i=new Kme(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Df.of(null)}),xr(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(vn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(vn),r=this.view.state.field(pr);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=El(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),u=new mu(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let d of s.updates)u=u.update(d,n);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new pi(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:m2.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(pr,!1);if(e&&e.tooltip&&this.view.state.facet(vn).closeOnBlur){let n=e.open&&H3(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Df.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:X0.of(!1)}),20),this.composing=0}}}),ege=typeof navigator=="object"&&/Win/.test(navigator.platform),tge=rc.highest(ue.domEventHandlers({keydown(t,e){let n=e.state.field(pr,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(ege&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&g2(e,r),!1}})),nge=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),$f={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},cl=Ie.define({map(t,e){let n=e.mapPos(t,-1,Zn.TrackAfter);return n??void 0}}),y2=new class extends Ea{};y2.startSide=1;y2.endSide=-1;const fN=Rn.define({create(){return Ve.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(cl)&&(t=t.update({add:[y2.range(n.value,n.value+1)]}));return t}});function rge(){return[sge,fN]}const zb="()[]{}<>";function pN(t){for(let e=0;e<zb.length;e+=2)if(zb.charCodeAt(e)==t)return zb.charAt(e+1);return DO(t<128?t:t+1)}function mN(t,e){return t.languageDataAt("closeBrackets",e)[0]||$f}const ige=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),sge=ue.inputHandler.of((t,e,n,r)=>{if((ige?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&ks(fr(r,0))==1||e!=i.from||n!=i.to)return!1;let s=lge(t.state,r);return s?(t.dispatch(s),!0):!1}),oge=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=mN(t,t.selection.main.head).brackets||$f.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=cge(t.doc,o.head);for(let l of r)if(l==a&&Cx(t.doc,o.head)==pN(fr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:K.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},age=[{key:"Backspace",run:oge}];function lge(t,e){let n=mN(t,t.selection.main.head),r=n.brackets||$f.brackets;for(let i of r){let s=pN(fr(i,0));if(e==i)return s==i?hge(t,i,r.indexOf(i+i+i)>-1,n):uge(t,i,s,n.before||$f.before);if(e==s&&gN(t,t.selection.main.from))return dge(t,i,s)}return null}function gN(t,e){let n=!1;return t.field(fN).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Cx(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ks(fr(n,0)))}function cge(t,e){let n=t.sliceString(e-2,e);return ks(fr(n,0))==n.length?n:n.slice(1)}function uge(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:cl.of(o.to+e.length),range:K.range(o.anchor+e.length,o.head+e.length)};let a=Cx(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:cl.of(o.head+e.length),range:K.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function dge(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Cx(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:K.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function hge(t,e,n,r){let i=r.stringPrefixes||$f.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:cl.of(a.to+e.length),range:K.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Cx(t.doc,l),d;if(u==e){if(mM(t,l))return{changes:{insert:e+e,from:l},effects:cl.of(l+e.length),range:K.cursor(l+e.length)};if(gN(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:K.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(d=gM(t,l-2*e.length,i))>-1&&mM(t,d))return{changes:{insert:e+e+e+e,from:l},effects:cl.of(l+e.length),range:K.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=Dt.Word&&gM(t,l,i)>-1&&!fge(t,l,e,i))return{changes:{insert:e+e,from:l},effects:cl.of(l+e.length),range:K.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function mM(t,e){let n=pn(t).resolveInner(e+1);return n.parent&&n.from==e}function fge(t,e,n,r){let i=pn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+l;){if(t.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function gM(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Dt.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Dt.Word)return s}return-1}function pge(t={}){return[tge,pr,vn.of(t),Jme,mge,nge]}const yN=[{key:"Ctrl-Space",run:Rb},{mac:"Alt-`",run:Rb},{mac:"Alt-i",run:Rb},{key:"Escape",run:Xme},{key:"ArrowDown",run:Bm(!0)},{key:"ArrowUp",run:Bm(!1)},{key:"PageDown",run:Bm(!0,"page")},{key:"PageUp",run:Bm(!1,"page")},{key:"Enter",run:Gme}],mge=rc.highest(mx.computeN([vn],t=>t.facet(vn).defaultKeymap?[yN]:[]));class yM{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class el{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(Lf).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((p,m)=>p.from-m.from||p.to-m.to),o=new To,a=[],l=0,u=r.doc.iter(),d=0,h=r.doc.length;for(let p=0;;){let m=p==s.length?null:s[p];if(!m&&!a.length)break;let g,x;if(a.length)g=l,x=a.reduce((b,w)=>Math.min(b,w.to),m&&m.from>g?m.from:1e8);else{if(g=m.from,g>h)break;x=m.to,a.push(m),p++}for(;p<s.length;){let b=s[p];if(b.from==g&&(b.to>b.from||b.to==g))a.push(b),p++,x=Math.min(b.to,x);else{x=Math.min(b.from,x);break}}x=Math.min(x,h);let v=!1;if(a.some(b=>b.from==g&&(b.to==x||x==h))&&(v=g==x,!v&&x-g<10)){let b=g-(d+u.value.length);b>0&&(u.next(b),d=g);for(let w=g;;){if(w>=x){v=!0;break}if(!u.lineBreak&&d+u.value.length>w)break;w=d+u.value.length,d+=u.value.length,u.next()}}let y=Tge(a);if(v)o.add(g,g,Pe.widget({widget:new Cge(y),diagnostics:a.slice()}));else{let b=a.reduce((w,k)=>k.markClass?w+" "+k.markClass:w,"");o.add(g,x,Pe.mark({class:"cm-lintRange cm-lintRange-"+y+b,diagnostics:a.slice(),inclusiveEnd:a.some(w=>w.to>x)}))}if(l=x,l==h)break;for(let b=0;b<a.length;b++)a[b].to<=l&&a.splice(b--,1)}let f=o.finish();return new el(f,n,id(f))}}function id(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new yM(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new yM(r.from,s,r.diagnostic)}}),r}function gge(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Lf).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(xN))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function yge(t,e){return t.field(Fr,!1)?e:e.concat(Ie.appendConfig.of(Age))}const xN=Ie.define(),x2=Ie.define(),vN=Ie.define(),Fr=Rn.define({create(){return new el(Pe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=id(n,t.selected.diagnostic,s)||id(n,null,s)}!n.size&&i&&e.state.facet(Lf).autoPanel&&(i=null),t=new el(n,i,r)}for(let n of e.effects)if(n.is(xN)){let r=e.state.facet(Lf).autoPanel?n.value.length?If.open:null:t.panel;t=el.init(n.value,r,e.state)}else n.is(x2)?t=new el(t.diagnostics,n.value?If.open:null,t.selected):n.is(vN)&&(t=new el(t.diagnostics,t.panel,n.value));return t},provide:t=>[Tf.from(t,e=>e.panel),ue.decorations.from(t,e=>e.diagnostics)]}),xge=Pe.mark({class:"cm-lintRange cm-lintRange-active"});function vge(t,e,n){let{diagnostics:r}=t.state.field(Fr),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:d})=>{if(e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0)))return i=d.diagnostics,s=l,o=u,!1});let a=t.state.facet(Lf).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:bge(t,i)}}}:null}function bge(t,e){return gt("ul",{class:"cm-tooltip-lint"},e.map(n=>SN(t,n,!1)))}const Sge=t=>{let e=t.state.field(Fr,!1);(!e||!e.panel)&&t.dispatch({effects:yge(t.state,[x2.of(!0)])});let n=ZO(t,If.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},xM=t=>{let e=t.state.field(Fr,!1);return!e||!e.panel?!1:(t.dispatch({effects:x2.of(!1)}),!0)},wge=t=>{let e=t.state.field(Fr,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},kge=[{key:"Mod-Shift-m",run:Sge,preventDefault:!0},{key:"F8",run:wge}],Lf=me.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Fs(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:vM,tooltipFilter:vM,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,s)=>e(r,i,s)||n(r,i,s):e:n,autoPanel:(e,n)=>e||n})}}});function vM(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function bN(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function SN(t,e,n){var r;let i=n?bN(e.actions):[];return gt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},gt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=p=>{if(p.preventDefault(),a)return;a=!0;let m=id(t.state.field(Fr).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:u}=s,d=i[o]?u.indexOf(i[o]):-1,h=d<0?u:[u.slice(0,d),gt("u",u.slice(d,d+1)),u.slice(d+1)],f=s.markClass?" "+s.markClass:"";return gt("button",{type:"button",class:"cm-diagnosticAction"+f,onclick:l,onmousedown:l,"aria-label":` Action: ${u}${d<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&gt("div",{class:"cm-diagnosticSource"},e.source))}class Cge extends Ws{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return gt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class bM{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=SN(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class If{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)xM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=bN(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=id(this.view.state.field(Fr).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()}},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=gt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=gt("div",{class:"cm-panel-lint"},this.list,gt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>xM(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Fr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Fr),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let d of u.diagnostics){if(o.has(d))continue;o.add(d);let h=-1,f;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==d){h=p;break}h<0?(f=new bM(this.view,d),this.items.splice(r,0,f),i=!0):(f=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new bM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Fr),r=id(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:vN.of(r)})}static open(e){return new If(e)}}function Oge(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Fm(t){return Oge(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const jge=ue.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Fm("#d11")},".cm-lintRange-warning":{backgroundImage:Fm("orange")},".cm-lintRange-info":{backgroundImage:Fm("#999")},".cm-lintRange-hint":{backgroundImage:Fm("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Pge(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function Tge(t){let e="hint",n=1;for(let r of t){let i=Pge(r.severity);i>n&&(n=i,e=r.severity)}return e}const Age=[Fr,ue.decorations.compute([Fr],t=>{let{selected:e,panel:n}=t.field(Fr);return!e||!n||e.from==e.to?Pe.none:Pe.set([xge.range(e.from,e.to)])}),xhe(vge,{hideOn:gge}),jge];var SM=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(age)),e.defaultKeymap!==!1&&(r=r.concat(Jpe)),e.searchKeymap!==!1&&(r=r.concat(jme)),e.historyKeymap!==!1&&(r=r.concat(ope)),e.foldKeymap!==!1&&(r=r.concat(Sfe)),e.completionKeymap!==!1&&(r=r.concat(yN)),e.lintKeymap!==!1&&(r=r.concat(kge));var i=[];return e.lineNumbers!==!1&&i.push(Mhe()),e.highlightActiveLineGutter!==!1&&i.push(Dhe()),e.highlightSpecialChars!==!1&&i.push(Ude()),e.history!==!1&&i.push(Yfe()),e.foldGutter!==!1&&i.push(Ofe()),e.drawSelection!==!1&&i.push(Lde()),e.dropCursor!==!1&&i.push(Fde()),e.allowMultipleSelections!==!1&&i.push(Ue.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(dfe()),e.syntaxHighlighting!==!1&&i.push(m4(Afe,{fallback:!0})),e.bracketMatching!==!1&&i.push(Lfe()),e.closeBrackets!==!1&&i.push(rge()),e.autocompletion!==!1&&i.push(pge()),e.rectangularSelection!==!1&&i.push(ahe()),n!==!1&&i.push(uhe()),e.highlightActiveLine!==!1&&i.push(Jde()),e.highlightSelectionMatches!==!1&&i.push(sme()),e.tabSize&&typeof e.tabSize=="number"&&i.push(yx.of(" ".repeat(e.tabSize))),i.concat([mx.of(r.flat())]).filter(Boolean)};const Ege="#e5c07b",wM="#e06c75",Mge="#56b6c2",Rge="#ffffff",Dg="#abb2bf",Bw="#7d8799",zge="#61afef",Dge="#98c379",kM="#d19a66",$ge="#c678dd",Lge="#21252b",CM="#2c313a",OM="#282c34",Db="#353a42",Ige="#3E4451",jM="#528bff",_ge=ue.theme({"&":{color:Dg,backgroundColor:OM},".cm-content":{caretColor:jM},".cm-cursor, .cm-dropCursor":{borderLeftColor:jM},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Ige},".cm-panels":{backgroundColor:Lge,color:Dg},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:OM,color:Bw,border:"none"},".cm-activeLineGutter":{backgroundColor:CM},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Db},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Db,borderBottomColor:Db},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:CM,color:Dg}}},{dark:!0}),Nge=Op.define([{tag:$.keyword,color:$ge},{tag:[$.name,$.deleted,$.character,$.propertyName,$.macroName],color:wM},{tag:[$.function($.variableName),$.labelName],color:zge},{tag:[$.color,$.constant($.name),$.standard($.name)],color:kM},{tag:[$.definition($.name),$.separator],color:Dg},{tag:[$.typeName,$.className,$.number,$.changed,$.annotation,$.modifier,$.self,$.namespace],color:Ege},{tag:[$.operator,$.operatorKeyword,$.url,$.escape,$.regexp,$.link,$.special($.string)],color:Mge},{tag:[$.meta,$.comment],color:Bw},{tag:$.strong,fontWeight:"bold"},{tag:$.emphasis,fontStyle:"italic"},{tag:$.strikethrough,textDecoration:"line-through"},{tag:$.link,color:Bw,textDecoration:"underline"},{tag:$.heading,fontWeight:"bold",color:wM},{tag:[$.atom,$.bool,$.special($.variableName)],color:kM},{tag:[$.processingInstruction,$.string,$.inserted],color:Dge},{tag:$.invalid,color:Rge}]),Bge=[_ge,m4(Nge)];var Fge=ue.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Wge=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(mx.of([eme])),a&&(typeof a=="boolean"?l.unshift(SM()):l.unshift(SM(a))),o&&l.unshift(rhe(o)),s){case"light":l.push(Fge);break;case"dark":l.push(Bge);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(ue.editable.of(!1)),i&&l.push(Ue.readOnly.of(!0)),[...l]},Vge=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class Qge{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class PM{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var $b=null,Hge=()=>typeof window>"u"?new PM:($b||($b=new PM),$b),TM=Bs.define(),qge=200,Uge=[];function Gge(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=Uge,autoFocus:l,theme:u="light",height:d=null,minHeight:h=null,maxHeight:f=null,width:p=null,minWidth:m=null,maxWidth:g=null,placeholder:x="",editable:v=!0,readOnly:y=!1,indentWithTab:b=!0,basicSetup:w=!0,root:k,initialState:O}=t,[C,j]=S.useState(),[P,A]=S.useState(),[E,F]=S.useState(),H=S.useState(()=>({current:null}))[0],_=S.useState(()=>({current:null}))[0],B=ue.theme({"&":{height:d,minHeight:h,maxHeight:f,width:p,minWidth:m,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),ee=ue.updateListener.of(Q=>{if(Q.docChanged&&typeof r=="function"&&!Q.transactions.some(ie=>ie.annotation(TM))){H.current?H.current.reset():(H.current=new Qge(()=>{if(_.current){var ie=_.current;_.current=null,ie()}H.current=null},qge),Hge().add(H.current));var I=Q.state.doc,Y=I.toString();r(Y,Q)}i&&i(Vge(Q))}),W=Wge({theme:u,editable:v,readOnly:y,placeholder:x,indentWithTab:b,basicSetup:w}),L=[ee,B,...W];return o&&typeof o=="function"&&L.push(ue.updateListener.of(o)),L=L.concat(a),S.useLayoutEffect(()=>{if(C&&!E){var Q={doc:e,selection:n,extensions:L},I=O?Ue.fromJSON(O.json,Q,O.fields):Ue.create(Q);if(F(I),!P){var Y=new ue({state:I,parent:C,root:k});A(Y),s&&s(Y,I)}}return()=>{P&&(F(void 0),A(void 0))}},[C,E]),S.useEffect(()=>{t.container&&j(t.container)},[t.container]),S.useEffect(()=>()=>{P&&(P.destroy(),A(void 0)),H.current&&(H.current.cancel(),H.current=null)},[P]),S.useEffect(()=>{l&&P&&P.focus()},[l,P]),S.useEffect(()=>{P&&P.dispatch({effects:Ie.reconfigure.of(L)})},[u,a,d,h,f,p,m,g,x,v,y,b,w,r,o]),S.useEffect(()=>{if(e!==void 0){var Q=P?P.state.doc.toString():"";if(P&&e!==Q){var I=H.current&&!H.current.isDone,Y=()=>{P&&e!==P.state.doc.toString()&&P.dispatch({changes:{from:0,to:P.state.doc.toString().length,insert:e||""},annotations:[TM.of(!0)]})};I?_.current=Y:Y()}}},[e,P]),{state:E,setState:F,view:P,setView:A,container:C,setContainer:j}}var Xge=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],wN=S.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,autoFocus:d,theme:h="light",height:f,minHeight:p,maxHeight:m,width:g,minWidth:x,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:w,editable:k,readOnly:O,root:C,initialState:j}=t,P=SL(t,Xge),A=S.useRef(null),{state:E,view:F,container:H,setContainer:_}=Gge({root:C,value:r,autoFocus:d,theme:h,height:f,minHeight:p,maxHeight:m,width:g,minWidth:x,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:w,editable:k,readOnly:O,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,extensions:s,initialState:j});S.useImperativeHandle(e,()=>({editor:A.current,state:E,view:F}),[A,H,E,F]);var B=S.useCallback(W=>{A.current=W,_(W)},[_]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var ee=typeof h=="string"?"cm-theme-"+h:"cm-theme";return c.jsx("div",Pa({ref:B,className:""+ee+(n?" "+n:"")},P))});wN.displayName="CodeMirror";var AM={};class Y0{constructor(e,n,r,i,s,o,a,l,u,d=0,h){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=d,this.parent=h}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Y0(e,[],n,r,r,0,[],0,i?new EM(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,d=this.reducePos-u;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=d));let h=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,p,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let p=this.stack[l-3];this.state=s.getGoto(p,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;this.pos=i;let a=o.stateFlag(s,1);!a&&(i>r||n<=o.maxNode)&&(this.reducePos=i),this.pushState(s,a?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Y0(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new Kge(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new EM(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class EM{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class Kge{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Z0{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Z0(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Z0(this.stack,this.pos,this.index)}}function ah(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class $g{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const MM=new $g;class Yge{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=MM,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=MM,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class gu{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;CN(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}gu.prototype.contextual=gu.prototype.fallback=gu.prototype.extend=!1;class kN{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?ah(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(CN(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}kN.prototype.contextual=gu.prototype.fallback=gu.prototype.extend=!1;class md{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function CN(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let p=o+3;p<u;p+=2)if((t[p+1]&a)>0){let m=t[p];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||Zge(m,e.token.value,i,s))){e.acceptToken(m);break}}let d=e.next,h=0,f=t[o+2];if(e.next<0&&f>h&&t[u+f*3-3]==65535){o=t[u+f*3-1];continue e}for(;h<f;){let p=h+f>>1,m=u+p+(p<<1),g=t[m],x=t[m+1]||65536;if(d<g)f=p;else if(d>=x)h=p+1;else{o=t[m+2],e.advance();continue e}}break}}function RM(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function Zge(t,e,n,r){let i=RM(n,r,e);return i<0||RM(n,r,t)<i}const $r=typeof process<"u"&&AM&&/\bparse\b/.test(AM.LOG);let Lb=null;function zM(t,e,n){let r=t.cursor(Lt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class Jge{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?zM(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?zM(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof en){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Fe.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class e0e{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new $g)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let d=s[u],h=this.tokens[u];if(!(r&&!d.fallback)&&((d.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,d,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=n;if(h.extended>-1&&(n=this.addActions(e,h.extended,h.end,n)),n=this.addActions(e,h.value,h.end,n),!d.extend&&(r=h,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new $g,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new $g,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Ys(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Ys(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(Ys(a,u+1),n,r,i))}return i}}class t0e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Yge(n,i),this.tokens=new e0e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Y0.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Jge(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&i0e(i);if(o)return $r&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw $r&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return $r&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&(r.sort((o,a)=>a.score-o.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=$r?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,d=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!u||(h.prop(Fe.contextHash)||0)==d))return e.useNode(h,f),$r&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof en)||h.children.length==0||h.positions[0]>0)break;let p=h.children[0];if(p instanceof en&&h.positions[0]==0)h=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),$r&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let d=l[u++],h=l[u++],f=l[u++],p=u==l.length||!r,m=p?e:e.split(),g=this.tokens.mainToken;if(m.apply(d,h,g?g.start:m.pos,f),$r&&console.log(o+this.stackID(m)+` (via ${d&65536?`reduce of ${s.getName(d&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${m==e?"":", split"})`),p)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return DM(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],d=$r?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),$r&&console.log(d+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),f=d;for(let p=0;p<10&&h.forceReduce()&&($r&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));p++)$r&&(f=this.stackID(h)+" -> ");for(let p of a.recoverByInsert(l))$r&&console.log(d+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),$r&&console.log(d+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),DM(a,r)):(!i||i.score<h.score)&&(i=h)}return i}stackToTree(e){return e.close(),en.build({buffer:Z0.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Lb||(Lb=new WeakMap)).get(e);return n||Lb.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function DM(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class n0e{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Ib=t=>t;class r0e{constructor(e){this.start=e.start,this.shift=e.shift||Ib,this.reduce=e.reduce||Ib,this.reuse=e.reuse||Ib,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class _f extends t4{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Fe[l]);for(let u=1;u<a.length;){let d=a[u++];if(d>=0)s(d,l,a[u++]);else{let h=a[u+-d];for(let f=-d;f>0;f--)s(a[u++],l,h);u++}}}this.nodeSet=new JO(n.map((a,l)=>Mr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Y3;let o=ah(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map($M),this.states=ah(e.states,Uint32Array),this.data=ah(e.stateData),this.goto=ah(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new gu(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new t0e(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Ys(r,s+2)];else{if(r[s+1]==2)return Ys(r,s+2);break}if(o==n||o==0)return Ys(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ys(this.data,s+2);else break;i=n(Ys(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ys(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(_f.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=$M(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new n0e(e,r,i)}static deserialize(e){return new _f(e)}}function Ys(t,e){return t[e]|t[e+1]<<16}function i0e(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function $M(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const Fw=1,s0e=2,o0e=3,a0e=4,l0e=5,c0e=36,u0e=37,d0e=38,h0e=11,f0e=13;function p0e(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function m0e(t){return t==9||t==10||t==13||t==32}let LM=null,IM=null,_M=0;function Ww(t,e){let n=t.pos+e;if(IM==t&&_M==n)return LM;for(;m0e(t.peek(e));)e++;let r="";for(;;){let i=t.peek(e);if(!p0e(i))break;r+=String.fromCharCode(i),e++}return IM=t,_M=n,LM=r||null}function NM(t,e){this.name=t,this.parent=e}const g0e=new r0e({start:null,shift(t,e,n,r){return e==Fw?new NM(Ww(r,1)||"",t):t},reduce(t,e){return e==h0e&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==Fw||i==f0e?new NM(Ww(r,1)||"",t):t},strict:!1}),y0e=new md((t,e)=>{if(t.next==60){if(t.advance(),t.next==47){t.advance();let n=Ww(t,0);if(!n)return t.acceptToken(l0e);if(e.context&&n==e.context.name)return t.acceptToken(s0e);for(let r=e.context;r;r=r.parent)if(r.name==n)return t.acceptToken(o0e,-2);t.acceptToken(a0e)}else if(t.next!=33&&t.next!=63)return t.acceptToken(Fw)}},{contextual:!0});function v2(t,e){return new md(n=>{let r=0,i=e.charCodeAt(0);e:for(;!(n.next<0);n.advance(),r++)if(n.next==i){for(let s=1;s<e.length;s++)if(n.peek(s)!=e.charCodeAt(s))continue e;break}r&&n.acceptToken(t)})}const x0e=v2(c0e,"-->"),v0e=v2(u0e,"?>"),b0e=v2(d0e,"]]>"),S0e=r2({Text:$.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":$.angleBracket,TagName:$.tagName,"MismatchedCloseTag/TagName":[$.tagName,$.invalid],AttributeName:$.attributeName,AttributeValue:$.attributeValue,Is:$.definitionOperator,"EntityReference CharacterReference":$.character,Comment:$.blockComment,ProcessingInst:$.processingInstruction,DoctypeDecl:$.documentMeta,Cdata:$.special($.string)}),w0e=_f.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:g0e,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[S0e],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[y0e,x0e,v0e,b0e,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0});function Lg(t,e){let n=e&&e.getChild("TagName");return n?t.sliceString(n.from,n.to):""}function _b(t,e){let n=e&&e.firstChild;return!n||n.name!="OpenTag"?"":Lg(t,n)}function k0e(t,e,n){let r=e&&e.getChildren("Attribute").find(s=>s.from<=n&&s.to>=n),i=r&&r.getChild("AttributeName");return i?t.sliceString(i.from,i.to):""}function Nb(t){for(let e=t&&t.parent;e;e=e.parent)if(e.name=="Element")return e;return null}function C0e(t,e){var n;let r=pn(t).resolveInner(e,-1),i=null;for(let s=r;!i&&s.parent;s=s.parent)(s.name=="OpenTag"||s.name=="CloseTag"||s.name=="SelfClosingTag"||s.name=="MismatchedCloseTag")&&(i=s);if(i&&(i.to>e||i.lastChild.type.isError)){let s=i.parent;if(r.name=="TagName")return i.name=="CloseTag"||i.name=="MismatchedCloseTag"?{type:"closeTag",from:r.from,context:s}:{type:"openTag",from:r.from,context:Nb(s)};if(r.name=="AttributeName")return{type:"attrName",from:r.from,context:i};if(r.name=="AttributeValue")return{type:"attrValue",from:r.from,context:i};let o=r==i||r.name=="Attribute"?r.childBefore(e):r;return(o==null?void 0:o.name)=="StartTag"?{type:"openTag",from:e,context:Nb(s)}:(o==null?void 0:o.name)=="StartCloseTag"&&o.to<=e?{type:"closeTag",from:e,context:s}:(o==null?void 0:o.name)=="Is"?{type:"attrValue",from:e,context:i}:o?{type:"attrName",from:e,context:i}:null}else if(r.name=="StartCloseTag")return{type:"closeTag",from:e,context:r.parent};for(;r.parent&&r.to==e&&!(!((n=r.lastChild)===null||n===void 0)&&n.type.isError);)r=r.parent;return r.name=="Element"||r.name=="Text"||r.name=="Document"?{type:"tag",from:e,context:r.name=="Element"?r:Nb(r)}:null}let O0e=class{constructor(e,n,r){this.attrs=n,this.attrValues=r,this.children=[],this.name=e.name,this.completion=Object.assign(Object.assign({type:"type"},e.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=e.textContent?e.textContent.map(i=>({label:i,type:"text"})):[]}};const Bb=/^[:\-\.\w\u00b7-\uffff]*$/;function BM(t){return Object.assign(Object.assign({type:"property"},t.completion||{}),{label:t.name})}function FM(t){return typeof t=="string"?{label:`"${t}"`,type:"constant"}:/^"/.test(t.label)?t:Object.assign(Object.assign({},t),{label:`"${t.label}"`})}function j0e(t,e){let n=[],r=[],i=Object.create(null);for(let l of e){let u=BM(l);n.push(u),l.global&&r.push(u),l.values&&(i[l.name]=l.values.map(FM))}let s=[],o=[],a=Object.create(null);for(let l of t){let u=r,d=i;l.attributes&&(u=u.concat(l.attributes.map(f=>typeof f=="string"?n.find(p=>p.label==f)||{label:f,type:"property"}:(f.values&&(d==i&&(d=Object.create(d)),d[f.name]=f.values.map(FM)),BM(f)))));let h=new O0e(l,u,d);a[h.name]=h,s.push(h),l.top&&o.push(h)}o.length||(o=s);for(let l=0;l<s.length;l++){let u=t[l],d=s[l];if(u.children)for(let h of u.children)a[h]&&d.children.push(a[h]);else d.children=s}return l=>{var u;let{doc:d}=l.state,h=C0e(l.state,l.pos);if(!h||h.type=="tag"&&!l.explicit)return null;let{type:f,from:p,context:m}=h;if(f=="openTag"){let g=o,x=_b(d,m);if(x){let v=a[x];g=(v==null?void 0:v.children)||s}return{from:p,options:g.map(v=>v.completion),validFor:Bb}}else if(f=="closeTag"){let g=_b(d,m);return g?{from:p,to:l.pos+(d.sliceString(l.pos,l.pos+1)==">"?1:0),options:[((u=a[g])===null||u===void 0?void 0:u.closeNameCompletion)||{label:g+">",type:"type"}],validFor:Bb}:null}else if(f=="attrName"){let g=a[Lg(d,m)];return{from:p,options:(g==null?void 0:g.attrs)||r,validFor:Bb}}else if(f=="attrValue"){let g=k0e(d,m,p);if(!g)return null;let x=a[Lg(d,m)],v=((x==null?void 0:x.attrValues)||i)[g];return!v||!v.length?null:{from:p,to:l.pos+(d.sliceString(l.pos,l.pos+1)=='"'?1:0),options:v,validFor:/^"[^"]*"?$/}}else if(f=="tag"){let g=_b(d,m),x=a[g],v=[],y=m&&m.lastChild;g&&(!y||y.name!="CloseTag"||Lg(d,y)!=g)&&v.push(x?x.closeCompletion:{label:"</"+g+">",type:"type",boost:2});let b=v.concat(((x==null?void 0:x.children)||(m?s:o)).map(w=>w.openCompletion));if(m&&(x!=null&&x.text.length)){let w=m.firstChild;w.to>l.pos-20&&!/\S/.test(l.state.sliceDoc(w.to,l.pos))&&(b=b.concat(x.text))}return{from:p,options:b,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}else return null}}const Vw=Mf.define({name:"xml",parser:w0e.configure({props:[s2.add({Element(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),a2.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),v4.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function P0e(t={}){let e=[Vw.data.of({autocomplete:j0e(t.elements||[],t.attributes||[])})];return t.autoCloseTags!==!1&&e.push(T0e),new s4(Vw,e)}function WM(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}const T0e=ue.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Vw.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u,d,h;let{head:f}=l,p=o.doc.sliceString(f-1,f)==r,m=pn(o).resolveInner(f,-1),g;if(p&&r==">"&&m.name=="EndTag"){let x=m.parent;if(((d=(u=x.parent)===null||u===void 0?void 0:u.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(g=WM(o.doc,x.parent,f))){let v=f+(o.doc.sliceString(f,f+1)===">"?1:0),y=`</${g}>`;return{range:l,changes:{from:f,to:v,insert:y}}}}else if(p&&r=="/"&&m.name=="StartCloseTag"){let x=m.parent;if(m.from==f-2&&((h=x.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(g=WM(o.doc,x,f))){let v=f+(o.doc.sliceString(f,f+1)===">"?1:0),y=`${g}>`;return{range:K.cursor(f+y.length,-1),changes:{from:f,to:v,insert:y}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),A0e=122,VM=1,E0e=123,M0e=124,ON=2,R0e=125,z0e=3,D0e=4,jN=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],$0e=58,L0e=40,PN=95,I0e=91,Ig=45,_0e=46,N0e=35,B0e=37,F0e=38,W0e=92,V0e=10,Q0e=42;function Nf(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function b2(t){return t>=48&&t<=57}function QM(t){return b2(t)||t>=97&&t<=102||t>=65&&t<=70}const TN=(t,e,n)=>(r,i)=>{for(let s=!1,o=0,a=0;;a++){let{next:l}=r;if(Nf(l)||l==Ig||l==PN||s&&b2(l))!s&&(l!=Ig||a>0)&&(s=!0),o===a&&l==Ig&&o++,r.advance();else if(l==W0e&&r.peek(1)!=V0e){if(r.advance(),QM(r.next)){do r.advance();while(QM(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(o==2&&i.canShift(ON)?e:l==L0e?n:t);break}}},H0e=new md(TN(E0e,ON,M0e)),q0e=new md(TN(R0e,z0e,D0e)),U0e=new md(t=>{if(jN.includes(t.peek(-1))){let{next:e}=t;(Nf(e)||e==PN||e==N0e||e==_0e||e==Q0e||e==I0e||e==$0e&&Nf(t.peek(1))||e==Ig||e==F0e)&&t.acceptToken(A0e)}}),G0e=new md(t=>{if(!jN.includes(t.peek(-1))){let{next:e}=t;if(e==B0e&&(t.advance(),t.acceptToken(VM)),Nf(e)){do t.advance();while(Nf(t.next)||b2(t.next));t.acceptToken(VM)}}}),X0e=r2({"AtKeyword import charset namespace keyframes media supports":$.definitionKeyword,"from to selector":$.keyword,NamespaceName:$.namespace,KeyframeName:$.labelName,KeyframeRangeName:$.operatorKeyword,TagName:$.tagName,ClassName:$.className,PseudoClassName:$.constant($.className),IdName:$.labelName,"FeatureName PropertyName":$.propertyName,AttributeName:$.attributeName,NumberLiteral:$.number,KeywordQuery:$.keyword,UnaryQueryOp:$.operatorKeyword,"CallTag ValueName":$.atom,VariableName:$.variableName,Callee:$.operatorKeyword,Unit:$.unit,"UniversalSelector NestingSelector":$.definitionOperator,"MatchOp CompareOp":$.compareOperator,"ChildOp SiblingOp, LogicOp":$.logicOperator,BinOp:$.arithmeticOperator,Important:$.modifier,Comment:$.blockComment,ColorLiteral:$.color,"ParenthesizedContent StringLiteral":$.string,":":$.punctuation,"PseudoOp #":$.derefOperator,"; ,":$.separator,"( )":$.paren,"[ ]":$.squareBracket,"{ }":$.brace}),K0e={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},Y0e={__proto__:null,or:98,and:98,not:106,only:106,layer:170},Z0e={__proto__:null,selector:112,layer:166},J0e={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},eye={__proto__:null,to:207},tye=_f.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[X0e],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[U0e,G0e,H0e,q0e,1,2,3,4,new kN("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>K0e[t]||-1},{term:125,get:t=>Y0e[t]||-1},{term:4,get:t=>Z0e[t]||-1},{term:25,get:t=>J0e[t]||-1},{term:123,get:t=>eye[t]||-1}],tokenPrec:1963});let Fb=null;function Wb(){if(!Fb&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));Fb=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return Fb||[]}const HM=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),qM=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),nye=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),rye=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),qs=/^(\w[\w-]*|-\w[\w-]*|)$/,iye=/^-(-[\w-]*)?$/;function sye(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const UM=new Fhe,oye=["Declaration"];function aye(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function AN(t,e,n){if(e.to-e.from>4096){let r=UM.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(Lt.IncludeAnonymous);if(o.firstChild())do for(let a of AN(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return UM.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(oye)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const lye=t=>e=>{let{state:n,pos:r}=e,i=pn(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Wb(),validFor:qs};if(i.name=="ValueName")return{from:i.from,options:qM,validFor:qs};if(i.name=="PseudoClassName")return{from:i.from,options:HM,validFor:qs};if(t(i)||(e.explicit||s)&&sye(i,n.doc))return{from:t(i)||s?i.from:r,options:AN(n.doc,aye(i),t),validFor:iye};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:Wb(),validFor:qs};return{from:i.from,options:nye,validFor:qs}}if(i.name=="AtKeyword")return{from:i.from,options:rye,validFor:qs};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:HM,validFor:qs}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:qM,validFor:qs}:o.name=="Block"||o.name=="Styles"?{from:r,options:Wb(),validFor:qs}:null},cye=lye(t=>t.name=="VariableName"),GM=Mf.define({name:"css",parser:tye.configure({props:[s2.add({Declaration:cfe()}),a2.add({"Block KeyframeList":ffe})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function uye(){return new s4(GM,GM.data.of({autocomplete:cye}))}const Wm=`<?xml version="1.0" encoding="UTF-8"?>
<StyledLayerDescriptor version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
  xmlns="http://www.opengis.net/sld"
  xmlns:ogc="http://www.opengis.net/ogc"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <NamedLayer>
    <Name>NewStyle</Name>
    <UserStyle>
      <Title>New Style</Title>
      <FeatureTypeStyle>
        <Rule>
          <Name>Default</Name>
          <PolygonSymbolizer>
            <Fill>
              <CssParameter name="fill">#3388ff</CssParameter>
              <CssParameter name="fill-opacity">0.6</CssParameter>
            </Fill>
            <Stroke>
              <CssParameter name="stroke">#2266cc</CssParameter>
              <CssParameter name="stroke-width">1</CssParameter>
            </Stroke>
          </PolygonSymbolizer>
        </Rule>
      </FeatureTypeStyle>
    </UserStyle>
  </NamedLayer>
</StyledLayerDescriptor>`,dye=`/* GeoServer CSS Style */
* {
  fill: #3388ff;
  fill-opacity: 0.6;
  stroke: #2266cc;
  stroke-width: 1;
}`;function Vm(t){const e=[];try{new DOMParser().parseFromString(t,"text/xml").querySelectorAll("Rule").forEach((s,o)=>{const a=s.querySelector("Name"),l={name:(a==null?void 0:a.textContent)||`Rule ${o+1}`,symbolizer:{type:"polygon"}},u=s.querySelector("PolygonSymbolizer");u&&(l.symbolizer.type="polygon",u.querySelectorAll("Fill CssParameter").forEach(m=>{const g=m.getAttribute("name");g==="fill"&&(l.symbolizer.fill=m.textContent||"#3388ff"),g==="fill-opacity"&&(l.symbolizer.fillOpacity=parseFloat(m.textContent||"1"))}),u.querySelectorAll("Stroke CssParameter").forEach(m=>{const g=m.getAttribute("name");g==="stroke"&&(l.symbolizer.stroke=m.textContent||"#2266cc"),g==="stroke-width"&&(l.symbolizer.strokeWidth=parseFloat(m.textContent||"1")),g==="stroke-opacity"&&(l.symbolizer.strokeOpacity=parseFloat(m.textContent||"1"))}));const d=s.querySelector("LineSymbolizer");d&&(l.symbolizer.type="line",d.querySelectorAll("Stroke CssParameter").forEach(p=>{const m=p.getAttribute("name");m==="stroke"&&(l.symbolizer.stroke=p.textContent||"#3388ff"),m==="stroke-width"&&(l.symbolizer.strokeWidth=parseFloat(p.textContent||"2")),m==="stroke-opacity"&&(l.symbolizer.strokeOpacity=parseFloat(p.textContent||"1"))}));const h=s.querySelector("PointSymbolizer");if(h){l.symbolizer.type="point",l.symbolizer.pointShape="circle",l.symbolizer.pointSize=8,h.querySelectorAll("Fill CssParameter").forEach(g=>{const x=g.getAttribute("name");x==="fill"&&(l.symbolizer.fill=g.textContent||"#3388ff"),x==="fill-opacity"&&(l.symbolizer.fillOpacity=parseFloat(g.textContent||"1"))}),h.querySelectorAll("Stroke CssParameter").forEach(g=>{const x=g.getAttribute("name");x==="stroke"&&(l.symbolizer.stroke=g.textContent||"#2266cc"),x==="stroke-width"&&(l.symbolizer.strokeWidth=parseFloat(g.textContent||"1"))});const m=h.querySelector("Size");m&&(l.symbolizer.pointSize=parseFloat(m.textContent||"8"))}e.push(l)})}catch(n){console.error("Failed to parse SLD:",n)}return e.length>0?e:[{name:"Default",symbolizer:{type:"polygon",fill:"#3388ff",fillOpacity:.6,stroke:"#2266cc",strokeWidth:1}}]}function hye(t,e){let n="";return e.forEach(r=>{let i="";r.symbolizer.type==="polygon"?i=`
          <PolygonSymbolizer>
            <Fill>
              <CssParameter name="fill">${r.symbolizer.fill||"#3388ff"}</CssParameter>
              <CssParameter name="fill-opacity">${r.symbolizer.fillOpacity??.6}</CssParameter>
            </Fill>
            <Stroke>
              <CssParameter name="stroke">${r.symbolizer.stroke||"#2266cc"}</CssParameter>
              <CssParameter name="stroke-width">${r.symbolizer.strokeWidth||1}</CssParameter>
            </Stroke>
          </PolygonSymbolizer>`:r.symbolizer.type==="line"?i=`
          <LineSymbolizer>
            <Stroke>
              <CssParameter name="stroke">${r.symbolizer.stroke||"#3388ff"}</CssParameter>
              <CssParameter name="stroke-width">${r.symbolizer.strokeWidth||2}</CssParameter>
              <CssParameter name="stroke-opacity">${r.symbolizer.strokeOpacity??1}</CssParameter>
            </Stroke>
          </LineSymbolizer>`:r.symbolizer.type==="point"&&(i=`
          <PointSymbolizer>
            <Graphic>
              <Mark>
                <WellKnownName>${r.symbolizer.pointShape||"circle"}</WellKnownName>
                <Fill>
                  <CssParameter name="fill">${r.symbolizer.fill||"#3388ff"}</CssParameter>
                  <CssParameter name="fill-opacity">${r.symbolizer.fillOpacity??1}</CssParameter>
                </Fill>
                <Stroke>
                  <CssParameter name="stroke">${r.symbolizer.stroke||"#2266cc"}</CssParameter>
                  <CssParameter name="stroke-width">${r.symbolizer.strokeWidth||1}</CssParameter>
                </Stroke>
              </Mark>
              <Size>${r.symbolizer.pointSize||8}</Size>
            </Graphic>
          </PointSymbolizer>`),n+=`
        <Rule>
          <Name>${r.name}</Name>${i}
        </Rule>`}),`<?xml version="1.0" encoding="UTF-8"?>
<StyledLayerDescriptor version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
  xmlns="http://www.opengis.net/sld"
  xmlns:ogc="http://www.opengis.net/ogc"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <NamedLayer>
    <Name>${t}</Name>
    <UserStyle>
      <Title>${t}</Title>
      <FeatureTypeStyle>${n}
      </FeatureTypeStyle>
    </UserStyle>
  </NamedLayer>
</StyledLayerDescriptor>`}function XM({value:t,onChange:e,label:n}){const r=Ke("gray.200","gray.600");return c.jsxs(we,{children:[c.jsx(ke,{fontSize:"sm",children:n}),c.jsxs(G,{children:[c.jsxs(N,{position:"relative",children:[c.jsx(N,{w:"40px",h:"40px",borderRadius:"full",bg:t,border:"2px solid",borderColor:r,cursor:"pointer",_hover:{borderColor:"kartoza.400"},transition:"border-color 0.2s"}),c.jsx(Xe,{type:"color",value:t,onChange:i=>e(i.target.value),position:"absolute",top:0,left:0,w:"40px",h:"40px",opacity:0,cursor:"pointer"})]}),c.jsx(Xe,{value:t,onChange:i=>e(i.target.value),size:"sm",w:"100px",fontFamily:"mono",borderColor:r})]})]})}function fye({rule:t,onChange:e,onDelete:n}){const r=Ke("white","gray.800"),i=Ke("gray.200","gray.600"),s=o=>{e({...t,symbolizer:{...t.symbolizer,...o}})};return c.jsx(N,{p:4,bg:r,borderRadius:"lg",border:"1px solid",borderColor:i,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[c.jsxs(G,{justify:"space-between",children:[c.jsxs(we,{maxW:"200px",children:[c.jsx(ke,{fontSize:"sm",children:"Rule Name"}),c.jsx(Xe,{size:"sm",value:t.name,onChange:o=>e({...t,name:o.target.value})})]}),c.jsxs(we,{maxW:"150px",children:[c.jsx(ke,{fontSize:"sm",children:"Geometry Type"}),c.jsxs(Ji,{size:"sm",value:t.symbolizer.type,onChange:o=>s({type:o.target.value}),children:[c.jsx("option",{value:"polygon",children:"Polygon"}),c.jsx("option",{value:"line",children:"Line"}),c.jsx("option",{value:"point",children:"Point"})]})]}),c.jsx(_t,{"aria-label":"Delete rule",icon:c.jsx(c_,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:n})]}),c.jsx(Et,{}),(t.symbolizer.type==="polygon"||t.symbolizer.type==="point")&&c.jsxs(N,{children:[c.jsx(R,{fontWeight:"600",fontSize:"sm",mb:2,children:"Fill"}),c.jsxs(G,{spacing:4,wrap:"wrap",children:[c.jsx(XM,{label:"Color",value:t.symbolizer.fill||"#3388ff",onChange:o=>s({fill:o})}),c.jsxs(we,{maxW:"150px",children:[c.jsx(ke,{fontSize:"sm",children:"Opacity"}),c.jsxs(G,{children:[c.jsxs(PS,{value:t.symbolizer.fillOpacity??1,min:0,max:1,step:.1,onChange:o=>s({fillOpacity:o}),children:[c.jsx(AS,{children:c.jsx(ES,{bg:"kartoza.500"})}),c.jsx(TS,{})]}),c.jsxs(R,{fontSize:"sm",w:"40px",children:[((t.symbolizer.fillOpacity??1)*100).toFixed(0),"%"]})]})]})]})]}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"600",fontSize:"sm",mb:2,children:"Stroke"}),c.jsxs(G,{spacing:4,wrap:"wrap",children:[c.jsx(XM,{label:"Color",value:t.symbolizer.stroke||"#2266cc",onChange:o=>s({stroke:o})}),c.jsxs(we,{maxW:"100px",children:[c.jsx(ke,{fontSize:"sm",children:"Width"}),c.jsxs(su,{size:"sm",value:t.symbolizer.strokeWidth||1,min:0,max:20,step:.5,onChange:(o,a)=>s({strokeWidth:a}),children:[c.jsx(au,{}),c.jsxs(ou,{children:[c.jsx(cu,{}),c.jsx(lu,{})]})]})]}),t.symbolizer.type==="line"&&c.jsxs(we,{maxW:"150px",children:[c.jsx(ke,{fontSize:"sm",children:"Opacity"}),c.jsxs(G,{children:[c.jsxs(PS,{value:t.symbolizer.strokeOpacity??1,min:0,max:1,step:.1,onChange:o=>s({strokeOpacity:o}),children:[c.jsx(AS,{children:c.jsx(ES,{bg:"kartoza.500"})}),c.jsx(TS,{})]}),c.jsxs(R,{fontSize:"sm",w:"40px",children:[((t.symbolizer.strokeOpacity??1)*100).toFixed(0),"%"]})]})]})]})]}),t.symbolizer.type==="point"&&c.jsxs(N,{children:[c.jsx(R,{fontWeight:"600",fontSize:"sm",mb:2,children:"Point Symbol"}),c.jsxs(G,{spacing:4,children:[c.jsxs(we,{maxW:"150px",children:[c.jsx(ke,{fontSize:"sm",children:"Shape"}),c.jsxs(Ji,{size:"sm",value:t.symbolizer.pointShape||"circle",onChange:o=>s({pointShape:o.target.value}),children:[c.jsx("option",{value:"circle",children:"Circle"}),c.jsx("option",{value:"square",children:"Square"}),c.jsx("option",{value:"triangle",children:"Triangle"}),c.jsx("option",{value:"star",children:"Star"}),c.jsx("option",{value:"cross",children:"Cross"})]})]}),c.jsxs(we,{maxW:"100px",children:[c.jsx(ke,{fontSize:"sm",children:"Size"}),c.jsxs(su,{size:"sm",value:t.symbolizer.pointSize||8,min:1,max:50,onChange:(o,a)=>s({pointSize:a}),children:[c.jsx(au,{}),c.jsxs(ou,{children:[c.jsx(cu,{}),c.jsx(lu,{})]})]})]})]})]}),c.jsxs(N,{children:[c.jsx(R,{fontWeight:"600",fontSize:"sm",mb:2,children:"Preview"}),c.jsxs(N,{w:"100px",h:"60px",borderRadius:"md",border:"1px solid",borderColor:i,display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.100",children:[t.symbolizer.type==="polygon"&&c.jsx(N,{w:"60px",h:"40px",borderRadius:"sm",bg:t.symbolizer.fill,opacity:t.symbolizer.fillOpacity,border:`${t.symbolizer.strokeWidth}px solid ${t.symbolizer.stroke}`}),t.symbolizer.type==="line"&&c.jsx(N,{w:"60px",h:`${Math.max(2,t.symbolizer.strokeWidth||2)}px`,bg:t.symbolizer.stroke,opacity:t.symbolizer.strokeOpacity}),t.symbolizer.type==="point"&&c.jsx(N,{w:`${t.symbolizer.pointSize||8}px`,h:`${t.symbolizer.pointSize||8}px`,borderRadius:t.symbolizer.pointShape==="circle"?"50%":"sm",bg:t.symbolizer.fill,opacity:t.symbolizer.fillOpacity,border:`${t.symbolizer.strokeWidth}px solid ${t.symbolizer.stroke}`})]})]})]})})}function pye(){var U,Se,_e,We;const t=ye(he=>he.activeDialog),e=ye(he=>he.dialogData),n=ye(he=>he.closeDialog),r=_s(),i=Ns(),s=t==="style",o=(e==null?void 0:e.mode)==="edit",a=(U=e==null?void 0:e.data)==null?void 0:U.connectionId,l=(Se=e==null?void 0:e.data)==null?void 0:Se.workspace,u=(_e=e==null?void 0:e.data)==null?void 0:_e.name,d=(We=e==null?void 0:e.data)==null?void 0:We.previewLayer,[h,f]=S.useState(""),[p,m]=S.useState("sld"),[g,x]=S.useState(""),[v,y]=S.useState([]),[b,w]=S.useState(0),[k,O]=S.useState(!1),[C,j]=S.useState(null),[P,A]=S.useState(null),E=Ke("gray.50","gray.900"),F=Ke("linear-gradient(135deg, #3d9970 0%, #2d7a5a 100%)","linear-gradient(135deg, #2d7a5a 0%, #1d5a40 100%)"),{data:H,isLoading:_}=yt({queryKey:["style",a,l,u],queryFn:()=>ole(a,l,u),enabled:s&&o&&!!u});S.useEffect(()=>{s&&(o&&H?(f(H.name),m(H.format),x(H.content),H.format==="sld"&&y(Vm(H.content))):o||(f(""),m("sld"),x(Wm),y(Vm(Wm))),O(!1),j(null))},[s,o,H]),S.useEffect(()=>{if(p==="sld"&&b===0&&v.length>0){const he=hye(h||"NewStyle",v);he!==g&&(x(he),O(!0))}},[v,h]);const B=S.useCallback(()=>{var he;if(p==="sld")try{const de=new DOMParser().parseFromString(g,"text/xml").querySelector("parsererror");return de?(j("Invalid XML: "+((he=de.textContent)==null?void 0:he.slice(0,100))),!1):(j(null),!0)}catch{return j("Failed to parse SLD"),!1}return j(null),!0},[g,p]),ee=oo({mutationFn:()=>ale(a,l,u,g,p),onSuccess:()=>{i.invalidateQueries({queryKey:["styles",a,l]}),i.invalidateQueries({queryKey:["style",a,l,u]}),r({title:"Style updated",status:"success",duration:3e3}),O(!1)},onError:he=>{r({title:"Failed to update style",description:he.message,status:"error",duration:5e3})}}),W=oo({mutationFn:()=>lle(a,l,h,g,p),onSuccess:()=>{i.invalidateQueries({queryKey:["styles",a,l]}),r({title:"Style created",status:"success",duration:3e3}),n()},onError:he=>{r({title:"Failed to create style",description:he.message,status:"error",duration:5e3})}}),L=()=>{if(!B()){r({title:"Please fix validation errors",status:"warning",duration:3e3});return}if(!o&&!h.trim()){r({title:"Style name is required",status:"warning",duration:3e3});return}o?ee.mutate():W.mutate()},Q=he=>{x(he),O(!0),p==="sld"&&y(Vm(he))},I=he=>{he!==p&&(he==="sld"?(x(Wm),y(Vm(Wm))):(x(dye),y([])),m(he),O(!0))},Y=()=>{y([...v,{name:`Rule ${v.length+1}`,symbolizer:{type:"polygon",fill:"#3388ff",fillOpacity:.6,stroke:"#2266cc",strokeWidth:1}}])},ie=(he,Me)=>{const Be=[...v];Be[he]=Me,y(Be),O(!0)},Z=he=>{if(v.length<=1){r({title:"Cannot delete the last rule",status:"warning",duration:3e3});return}y(v.filter((Me,Be)=>Be!==he)),O(!0)},se=async()=>{if(!d){r({title:"No preview layer specified",status:"info",duration:3e3});return}try{const{url:he}=await Ls({connId:a,workspace:l,layerName:d,storeName:"",storeType:"datastore",layerType:"vector"});A(he)}catch{r({title:"Failed to start preview",status:"error",duration:3e3})}},V=S.useMemo(()=>p==="sld"?[P0e()]:[uye()],[p]),J=_||ee.isPending||W.isPending;return c.jsxs(Oi,{isOpen:s,onClose:n,size:"6xl",scrollBehavior:"inside",children:[c.jsx(Ei,{bg:"blackAlpha.600",backdropFilter:"blur(4px)"}),c.jsxs(ji,{maxH:"90vh",borderRadius:"xl",overflow:"hidden",children:[c.jsx(N,{bg:F,color:"white",px:6,py:4,children:c.jsxs(ct,{align:"center",justify:"space-between",children:[c.jsxs(G,{spacing:3,children:[c.jsx(X,{as:Og,boxSize:6}),c.jsxs(N,{children:[c.jsx(R,{fontSize:"lg",fontWeight:"600",children:o?"Edit Style":"Create Style"}),c.jsx(R,{fontSize:"sm",opacity:.9,children:o?`Editing ${u}`:"Create a new map style"})]})]}),c.jsxs(G,{children:[k&&c.jsx(De,{colorScheme:"yellow",variant:"solid",children:"Unsaved Changes"}),c.jsx(De,{colorScheme:p==="sld"?"blue":"purple",variant:"solid",children:p.toUpperCase()})]})]})}),c.jsx(Ti,{color:"white"}),c.jsx(Pi,{p:0,bg:E,children:_?c.jsx(ct,{h:"400px",align:"center",justify:"center",children:c.jsx(Rr,{size:"xl",color:"kartoza.500"})}):c.jsxs(ct,{h:"70vh",children:[c.jsx(N,{w:"250px",borderRight:"1px solid",borderColor:"gray.200",p:4,overflowY:"auto",children:c.jsxs(ae,{spacing:4,align:"stretch",children:[!o&&c.jsxs(we,{isRequired:!0,children:[c.jsx(ke,{children:"Style Name"}),c.jsx(Xe,{value:h,onChange:he=>{f(he.target.value),O(!0)},placeholder:"my-style"})]}),c.jsxs(we,{children:[c.jsx(ke,{children:"Format"}),c.jsxs(Ji,{value:p,onChange:he=>I(he.target.value),children:[c.jsx("option",{value:"sld",children:"SLD (Styled Layer Descriptor)"}),c.jsx("option",{value:"css",children:"CSS (GeoServer CSS)"})]})]}),c.jsx(Et,{}),p==="sld"&&c.jsxs(c.Fragment,{children:[c.jsx(R,{fontWeight:"600",children:"Quick Actions"}),c.jsx(ge,{size:"sm",leftIcon:c.jsx(X,{as:h_}),variant:"outline",onClick:()=>y([{name:"Polygon",symbolizer:{type:"polygon",fill:"#3388ff",fillOpacity:.6,stroke:"#2266cc",strokeWidth:1}}]),children:"Polygon Style"}),c.jsx(ge,{size:"sm",leftIcon:c.jsx(X,{as:c_}),variant:"outline",onClick:()=>y([{name:"Line",symbolizer:{type:"line",stroke:"#3388ff",strokeWidth:2,strokeOpacity:1}}]),children:"Line Style"}),c.jsx(ge,{size:"sm",leftIcon:c.jsx(X,{as:tae}),variant:"outline",onClick:()=>y([{name:"Point",symbolizer:{type:"point",fill:"#3388ff",fillOpacity:1,stroke:"#2266cc",strokeWidth:1,pointShape:"circle",pointSize:8}}]),children:"Point Style"})]}),d&&c.jsxs(c.Fragment,{children:[c.jsx(Et,{}),c.jsx(R,{fontWeight:"600",children:"Preview"}),c.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Layer: ",d]}),c.jsx(ge,{size:"sm",leftIcon:c.jsx(X,{as:Uu}),colorScheme:"kartoza",onClick:se,children:"Preview on Map"})]})]})}),c.jsx(N,{flex:"1",display:"flex",flexDirection:"column",children:c.jsxs(mp,{index:b,onChange:w,flex:"1",display:"flex",flexDirection:"column",children:[c.jsxs(gp,{px:4,pt:2,children:[p==="sld"&&c.jsxs(Hr,{children:[c.jsx(X,{as:Og,mr:2}),"Visual Editor"]}),c.jsxs(Hr,{children:[c.jsx(X,{as:nae,mr:2}),"Code Editor"]}),P&&c.jsxs(Hr,{children:[c.jsx(X,{as:Uu,mr:2}),"Map Preview"]})]}),c.jsxs(yp,{flex:"1",overflow:"hidden",children:[p==="sld"&&c.jsx(qr,{h:"100%",overflowY:"auto",p:4,children:c.jsxs(ae,{spacing:4,align:"stretch",children:[C&&c.jsxs(vi,{status:"warning",borderRadius:"md",children:[c.jsx(bi,{}),C]}),v.map((he,Me)=>c.jsx(fye,{rule:he,onChange:Be=>ie(Me,Be),onDelete:()=>Z(Me)},Me)),c.jsx(ge,{leftIcon:c.jsx(X,{as:Og}),onClick:Y,variant:"outline",colorScheme:"kartoza",children:"Add Rule"})]})}),c.jsx(qr,{h:"100%",p:0,children:c.jsxs(N,{h:"100%",position:"relative",children:[C&&c.jsxs(vi,{status:"warning",position:"absolute",top:0,left:0,right:0,zIndex:1,children:[c.jsx(bi,{}),C]}),c.jsx(wN,{value:g,height:"100%",extensions:V,onChange:Q,onBlur:B,theme:"light",style:{height:"100%"}})]})}),P&&c.jsx(qr,{h:"100%",p:0,children:c.jsx("iframe",{src:P,style:{width:"100%",height:"100%",border:"none"},title:"Style Preview"})})]})]})})]})}),c.jsxs(Ai,{gap:3,borderTop:"1px solid",borderTopColor:"gray.200",bg:"gray.50",children:[c.jsx(ge,{variant:"ghost",onClick:n,children:"Cancel"}),c.jsx(ge,{colorScheme:"kartoza",leftIcon:c.jsx(X,{as:jg}),onClick:L,isLoading:J,isDisabled:!k&&o,children:o?"Save Changes":"Create Style"})]})]})]})}function mye(){return c.jsxs(c.Fragment,{children:[c.jsx(ace,{}),c.jsx(lce,{}),c.jsx(cce,{}),c.jsx(uce,{}),c.jsx(dce,{}),c.jsx(hce,{}),c.jsx(fce,{}),c.jsx(pce,{}),c.jsx(kce,{}),c.jsx(pye,{})]})}function gye(){return c.jsxs(c.Fragment,{children:[c.jsx(Ble,{children:c.jsx(Xle,{})}),c.jsx(mye,{})]})}const yye={kartoza:{50:"#e6f3fa",100:"#b3daf0",200:"#80c1e6",300:"#5BB5E8",400:"#4da8de",500:"#3B9DD9",600:"#2d8ac6",700:"#1B6B9B",800:"#155a84",900:"#0f4a6d"},accent:{50:"#fef5e7",100:"#fce5c3",200:"#f9d59f",300:"#F0B84D",400:"#E8A331",500:"#D4922A",600:"#c08526",700:"#a67121",800:"#8c5d1c",900:"#724917"},gray:{50:"#f7f9fb",100:"#e8ecf0",200:"#d4dbe2",300:"#C8C8C8",400:"#9E9E9E",500:"#6B7B8D",600:"#4D6370",700:"#3d4f5f",800:"#2a3a4a",900:"#1a2a3a"}},xye={sm:"0 2px 8px rgba(27, 107, 155, 0.08)",md:"0 4px 16px rgba(27, 107, 155, 0.12)",lg:"0 8px 32px rgba(27, 107, 155, 0.16)",xl:"0 16px 48px rgba(27, 107, 155, 0.20)",kartoza:"0 4px 16px rgba(27, 107, 155, 0.10), 0 1px 4px rgba(0, 0, 0, 0.06)",kartozaHover:"0 8px 28px rgba(27, 107, 155, 0.16), 0 2px 8px rgba(0, 0, 0, 0.08)",accent:"0 4px 20px rgba(232, 163, 49, 0.4)",accentHover:"0 6px 28px rgba(232, 163, 49, 0.5)"},vye={sm:"8px",md:"12px",lg:"20px",xl:"32px"},bye={initialColorMode:"light",useSystemColorMode:!1},Sye=Xee({config:bye,colors:yye,shadows:xye,radii:vye,fonts:{heading:"'Roboto', -apple-system, BlinkMacSystemFont, sans-serif",body:"'Roboto', -apple-system, BlinkMacSystemFont, sans-serif"},styles:{global:{body:{bg:"gray.50",color:"gray.900"},".kartoza-gradient":{background:"linear-gradient(135deg, #1B6B9B 0%, #3B9DD9 50%, #5BB5E8 100%)"},".kartoza-card":{borderRadius:"12px",boxShadow:"0 4px 16px rgba(27, 107, 155, 0.10), 0 1px 4px rgba(0, 0, 0, 0.06)",transition:"box-shadow 0.3s ease, transform 0.3s ease",_hover:{boxShadow:"0 8px 28px rgba(27, 107, 155, 0.16), 0 2px 8px rgba(0, 0, 0, 0.08)",transform:"translateY(-3px)"}}}},components:{Button:{baseStyle:{borderRadius:"10px",fontWeight:"600",transition:"all 0.25s ease"},defaultProps:{colorScheme:"kartoza"},variants:{solid:{bg:"kartoza.500",color:"white",boxShadow:"0 2px 8px rgba(27, 107, 155, 0.12)",_hover:{bg:"kartoza.600",boxShadow:"0 4px 14px rgba(27, 107, 155, 0.20)",transform:"translateY(-1px)"}},outline:{borderColor:"kartoza.500",borderWidth:"2px",color:"kartoza.500",_hover:{bg:"kartoza.50",transform:"translateY(-1px)"}},ghost:{color:"kartoza.500",_hover:{bg:"kartoza.50"}},accent:{bg:"accent.400",color:"white",boxShadow:"0 4px 20px rgba(232, 163, 49, 0.4)",_hover:{bg:"accent.500",boxShadow:"0 6px 28px rgba(232, 163, 49, 0.5)",transform:"translateY(-2px)"}},"accent-outline":{borderColor:"accent.400",borderWidth:"2px",color:"accent.400",_hover:{bg:"accent.50"}}},sizes:{lg:{fontSize:"md",px:8,py:6},xl:{fontSize:"lg",px:10,py:7,minW:"200px"}}},Link:{baseStyle:{color:"kartoza.500",_hover:{textDecoration:"underline",color:"kartoza.600"}}},Heading:{baseStyle:{color:"gray.900",fontWeight:"600"},variants:{brand:{color:"kartoza.700"},accent:{color:"accent.400"}}},Card:{baseStyle:{container:{borderRadius:"12px",boxShadow:"0 4px 16px rgba(27, 107, 155, 0.10), 0 1px 4px rgba(0, 0, 0, 0.06)",transition:"box-shadow 0.3s ease, transform 0.3s ease",overflow:"hidden",_hover:{boxShadow:"0 8px 28px rgba(27, 107, 155, 0.16), 0 2px 8px rgba(0, 0, 0, 0.08)"}}},variants:{elevated:{container:{_hover:{transform:"translateY(-3px)"}}},feature:{container:{borderLeft:"4px solid",borderLeftColor:"kartoza.500"}},accent:{container:{borderTop:"4px solid",borderTopColor:"accent.400"}}}},Modal:{baseStyle:{dialog:{borderRadius:"12px",boxShadow:"0 16px 48px rgba(27, 107, 155, 0.20)"},header:{borderBottom:"1px solid",borderBottomColor:"gray.100"},footer:{borderTop:"1px solid",borderTopColor:"gray.100"}}},Input:{defaultProps:{focusBorderColor:"kartoza.500"},baseStyle:{field:{borderRadius:"8px"}}},Select:{defaultProps:{focusBorderColor:"kartoza.500"}},Checkbox:{defaultProps:{colorScheme:"kartoza"}},Switch:{defaultProps:{colorScheme:"kartoza"}},Progress:{defaultProps:{colorScheme:"kartoza"}},Tabs:{defaultProps:{colorScheme:"kartoza"}},Badge:{baseStyle:{borderRadius:"6px",fontWeight:"600"},variants:{subtle:{bg:"kartoza.50",color:"kartoza.700"},solid:{bg:"kartoza.500",color:"white"},accent:{bg:"accent.400",color:"white"}}},Stat:{baseStyle:{container:{p:4},label:{color:"gray.600",fontSize:"sm",fontWeight:"500"},number:{color:"kartoza.700",fontWeight:"700"},helpText:{color:"gray.500"}}},Divider:{baseStyle:{borderColor:"gray.200"}}},semanticTokens:{colors:{primary:"kartoza.500","primary.dark":"kartoza.700","primary.light":"kartoza.300",secondary:"accent.400",success:"#4CAF50",error:"#E55B3C",warning:"accent.400",info:"kartoza.300"}}}),wye=new zoe({defaultOptions:{queries:{staleTime:1e3*60,refetchOnWindowFocus:!1}}});Vb.createRoot(document.getElementById("root")).render(c.jsx(Xt.StrictMode,{children:c.jsx(Doe,{client:wye,children:c.jsx(JJ,{theme:Sye,children:c.jsx(gye,{})})})}));
